const __vite__fileDeps=["assets/UploadPhoto-ClIgPgOs.js","assets/UploadIcon-_wjuhmU3.js","assets/validateImage-CBa1D9HU.js","assets/ArrowDown-KR_JXX4T.js","assets/UploadPhoto-Cx6N6w1U.css","assets/ResultsGrid-ziBS2xm0.js","assets/SettingsIcon-8lRsWrOb.js","assets/SettingsIcon-Brn8ggEO.css","assets/ResultsGrid-d58AiP0Y.css","assets/PhotoEditor-DPCM0mqR.js","assets/PhotoEditor-CIylEsXK.css","assets/NotFound-aLP_47Iw.js","assets/NotFound-2R8WEOPv.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.6
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function dl(n){const e=Object.create(null);for(const t of n.split(","))e[t]=1;return t=>t in e}const Ae={},Rs=[],Sn=()=>{},i0=()=>!1,Ao=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),Pu=n=>n.startsWith("onUpdate:"),ze=Object.assign,Mu=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},o0=Object.prototype.hasOwnProperty,Re=(n,e)=>o0.call(n,e),ae=Array.isArray,Fs=n=>Js(n)==="[object Map]",fs=n=>Js(n)==="[object Set]",zh=n=>Js(n)==="[object Date]",a0=n=>Js(n)==="[object RegExp]",he=n=>typeof n=="function",Xe=n=>typeof n=="string",Fn=n=>typeof n=="symbol",Ne=n=>n!==null&&typeof n=="object",Ru=n=>(Ne(n)||he(n))&&he(n.then)&&he(n.catch),wp=Object.prototype.toString,Js=n=>wp.call(n),l0=n=>Js(n).slice(8,-1),Zr=n=>Js(n)==="[object Object]",Fu=n=>Xe(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Ls=dl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),fl=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},c0=/-(\w)/g,_t=fl(n=>n.replace(c0,(e,t)=>t?t.toUpperCase():"")),u0=/\B([A-Z])/g,Ut=fl(n=>n.replace(u0,"-$1").toLowerCase()),Do=fl(n=>n.charAt(0).toUpperCase()+n.slice(1)),Wi=fl(n=>n?`on${Do(n)}`:""),Mt=(n,e)=>!Object.is(n,e),js=(n,...e)=>{for(let t=0;t<n.length;t++)n[t](...e)},Sp=(n,e,t,r=!1)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,writable:r,value:t})},Aa=n=>{const e=parseFloat(n);return isNaN(e)?n:e},Da=n=>{const e=Xe(n)?Number(n):NaN;return isNaN(e)?n:e};let Xh;const xp=()=>Xh||(Xh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),h0="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",d0=dl(h0);function Zs(n){if(ae(n)){const e={};for(let t=0;t<n.length;t++){const r=n[t],s=Xe(r)?m0(r):Zs(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(Xe(n)||Ne(n))return n}const f0=/;(?![^(]*\))/g,p0=/:([^]+)/,g0=/\/\*[^]*?\*\//g;function m0(n){const e={};return n.replace(g0,"").split(f0).forEach(t=>{if(t){const r=t.split(p0);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function lt(n){let e="";if(Xe(n))e=n;else if(ae(n))for(let t=0;t<n.length;t++){const r=lt(n[t]);r&&(e+=r+" ")}else if(Ne(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}function Qt(n){if(!n)return null;let{class:e,style:t}=n;return e&&!Xe(e)&&(n.class=lt(e)),t&&(n.style=Zs(t)),n}const v0="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",y0=dl(v0);function Cp(n){return!!n||n===""}function b0(n,e){if(n.length!==e.length)return!1;let t=!0;for(let r=0;t&&r<n.length;r++)t=Tr(n[r],e[r]);return t}function Tr(n,e){if(n===e)return!0;let t=zh(n),r=zh(e);if(t||r)return t&&r?n.getTime()===e.getTime():!1;if(t=Fn(n),r=Fn(e),t||r)return n===e;if(t=ae(n),r=ae(e),t||r)return t&&r?b0(n,e):!1;if(t=Ne(n),r=Ne(e),t||r){if(!t||!r)return!1;const s=Object.keys(n).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in n){const a=n.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Tr(n[o],e[o]))return!1}}return String(n)===String(e)}function pl(n,e){return n.findIndex(t=>Tr(t,e))}const Tp=n=>!!(n&&n.__v_isRef===!0),co=n=>Xe(n)?n:n==null?"":ae(n)||Ne(n)&&(n.toString===wp||!he(n.toString))?Tp(n)?co(n.value):JSON.stringify(n,Op,2):String(n),Op=(n,e)=>Tp(e)?Op(n,e.value):Fs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[r,s],i)=>(t[ec(r,i)+" =>"]=s,t),{})}:fs(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>ec(t))}:Fn(e)?ec(e):Ne(e)&&!ae(e)&&!Zr(e)?String(e):e,ec=(n,e="")=>{var t;return Fn(n)?`Symbol(${(t=n.description)!=null?t:e})`:n};/**
* @vue/reactivity v3.5.6
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Dt;class Lu{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Dt,!e&&Dt&&(this.index=(Dt.scopes||(Dt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=Dt;try{return Dt=this,e()}finally{Dt=t}}}on(){Dt=this}off(){Dt=this.parent}stop(e){if(this._active){let t,r;for(t=0,r=this.effects.length;t<r;t++)this.effects[t].stop();for(t=0,r=this.cleanups.length;t<r;t++)this.cleanups[t]();if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function ju(n){return new Lu(n)}function Qs(){return Dt}function Po(n,e=!1){Dt&&Dt.cleanups.push(n)}let He;const tc=new WeakSet;class uo{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Dt&&Dt.active&&Dt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,tc.has(this)&&(tc.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||kp(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Gh(this),Ap(this);const e=He,t=xn;He=this,xn=!0;try{return this.fn()}finally{Dp(this),He=e,xn=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Nu(e);this.deps=this.depsTail=void 0,Gh(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?tc.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){jc(this)&&this.run()}get dirty(){return jc(this)}}let Ep=0,$i;function kp(n){n.flags|=8,n.next=$i,$i=n}function Iu(){Ep++}function Bu(){if(--Ep>0)return;let n;for(;$i;){let e=$i;for($i=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){n||(n=r)}e=t}}if(n)throw n}function Ap(n){for(let e=n.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Dp(n){let e,t=n.depsTail,r=t;for(;r;){const s=r.prevDep;r.version===-1?(r===t&&(t=s),Nu(r),_0(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}n.deps=e,n.depsTail=t}function jc(n){for(let e=n.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Pp(e.dep.computed)||e.dep.version!==e.version))return!0;return!!n._dirty}function Pp(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===ho))return;n.globalVersion=ho;const e=n.dep;if(n.flags|=2,e.version>0&&!n.isSSR&&n.deps&&!jc(n)){n.flags&=-3;return}const t=He,r=xn;He=n,xn=!0;try{Ap(n);const s=n.fn(n._value);(e.version===0||Mt(s,n._value))&&(n._value=s,e.version++)}catch(s){throw e.version++,s}finally{He=t,xn=r,Dp(n),n.flags&=-3}}function Nu(n){const{dep:e,prevSub:t,nextSub:r}=n;if(t&&(t.nextSub=r,n.prevSub=void 0),r&&(r.prevSub=t,n.nextSub=void 0),e.subs===n&&(e.subs=t),!e.subs&&e.computed){e.computed.flags&=-5;for(let s=e.computed.deps;s;s=s.nextDep)Nu(s)}}function _0(n){const{prevDep:e,nextDep:t}=n;e&&(e.nextDep=t,n.prevDep=void 0),t&&(t.prevDep=e,n.nextDep=void 0)}function w0(n,e){n.effect instanceof uo&&(n=n.effect.fn);const t=new uo(n);e&&ze(t,e);try{t.run()}catch(s){throw t.stop(),s}const r=t.run.bind(t);return r.effect=t,r}function S0(n){n.effect.stop()}let xn=!0;const Mp=[];function Pr(){Mp.push(xn),xn=!1}function Mr(){const n=Mp.pop();xn=n===void 0?!0:n}function Gh(n){const{cleanup:e}=n;if(n.cleanup=void 0,e){const t=He;He=void 0;try{e()}finally{He=t}}}let ho=0;class x0{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class gl{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0}track(e){if(!He||!xn||He===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==He)t=this.activeLink=new x0(He,this),He.deps?(t.prevDep=He.depsTail,He.depsTail.nextDep=t,He.depsTail=t):He.deps=He.depsTail=t,He.flags&4&&Rp(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const r=t.nextDep;r.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=r),t.prevDep=He.depsTail,t.nextDep=void 0,He.depsTail.nextDep=t,He.depsTail=t,He.deps===t&&(He.deps=r)}return t}trigger(e){this.version++,ho++,this.notify(e)}notify(e){Iu();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{Bu()}}}function Rp(n){const e=n.dep.computed;if(e&&!n.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Rp(r)}const t=n.dep.subs;t!==n&&(n.prevSub=t,t&&(t.nextSub=n)),n.dep.subs=n}const Pa=new WeakMap,Qr=Symbol(""),Ic=Symbol(""),fo=Symbol("");function xt(n,e,t){if(xn&&He){let r=Pa.get(n);r||Pa.set(n,r=new Map);let s=r.get(t);s||r.set(t,s=new gl),s.track()}}function Kn(n,e,t,r,s,i){const o=Pa.get(n);if(!o){ho++;return}const a=l=>{l&&l.trigger()};if(Iu(),e==="clear")o.forEach(a);else{const l=ae(n),u=l&&Fu(t);if(l&&t==="length"){const c=Number(r);o.forEach((h,d)=>{(d==="length"||d===fo||!Fn(d)&&d>=c)&&a(h)})}else switch(t!==void 0&&a(o.get(t)),u&&a(o.get(fo)),e){case"add":l?u&&a(o.get("length")):(a(o.get(Qr)),Fs(n)&&a(o.get(Ic)));break;case"delete":l||(a(o.get(Qr)),Fs(n)&&a(o.get(Ic)));break;case"set":Fs(n)&&a(o.get(Qr));break}}Bu()}function C0(n,e){var t;return(t=Pa.get(n))==null?void 0:t.get(e)}function ys(n){const e=Se(n);return e===n?e:(xt(e,"iterate",fo),rn(n)?e:e.map(yt))}function ml(n){return xt(n=Se(n),"iterate",fo),n}const T0={__proto__:null,[Symbol.iterator](){return nc(this,Symbol.iterator,yt)},concat(...n){return ys(this).concat(...n.map(e=>ae(e)?ys(e):e))},entries(){return nc(this,"entries",n=>(n[1]=yt(n[1]),n))},every(n,e){return Bn(this,"every",n,e,void 0,arguments)},filter(n,e){return Bn(this,"filter",n,e,t=>t.map(yt),arguments)},find(n,e){return Bn(this,"find",n,e,yt,arguments)},findIndex(n,e){return Bn(this,"findIndex",n,e,void 0,arguments)},findLast(n,e){return Bn(this,"findLast",n,e,yt,arguments)},findLastIndex(n,e){return Bn(this,"findLastIndex",n,e,void 0,arguments)},forEach(n,e){return Bn(this,"forEach",n,e,void 0,arguments)},includes(...n){return rc(this,"includes",n)},indexOf(...n){return rc(this,"indexOf",n)},join(n){return ys(this).join(n)},lastIndexOf(...n){return rc(this,"lastIndexOf",n)},map(n,e){return Bn(this,"map",n,e,void 0,arguments)},pop(){return gi(this,"pop")},push(...n){return gi(this,"push",n)},reduce(n,...e){return Yh(this,"reduce",n,e)},reduceRight(n,...e){return Yh(this,"reduceRight",n,e)},shift(){return gi(this,"shift")},some(n,e){return Bn(this,"some",n,e,void 0,arguments)},splice(...n){return gi(this,"splice",n)},toReversed(){return ys(this).toReversed()},toSorted(n){return ys(this).toSorted(n)},toSpliced(...n){return ys(this).toSpliced(...n)},unshift(...n){return gi(this,"unshift",n)},values(){return nc(this,"values",yt)}};function nc(n,e,t){const r=ml(n),s=r[e]();return r!==n&&!rn(n)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=t(i.value)),i}),s}const O0=Array.prototype;function Bn(n,e,t,r,s,i){const o=ml(n),a=o!==n&&!rn(n),l=o[e];if(l!==O0[e]){const h=l.apply(n,i);return a?yt(h):h}let u=t;o!==n&&(a?u=function(h,d){return t.call(this,yt(h),d,n)}:t.length>2&&(u=function(h,d){return t.call(this,h,d,n)}));const c=l.call(o,u,r);return a&&s?s(c):c}function Yh(n,e,t,r){const s=ml(n);let i=t;return s!==n&&(rn(n)?t.length>3&&(i=function(o,a,l){return t.call(this,o,a,l,n)}):i=function(o,a,l){return t.call(this,o,yt(a),l,n)}),s[e](i,...r)}function rc(n,e,t){const r=Se(n);xt(r,"iterate",fo);const s=r[e](...t);return(s===-1||s===!1)&&wl(t[0])?(t[0]=Se(t[0]),r[e](...t)):s}function gi(n,e,t=[]){Pr(),Iu();const r=Se(n)[e].apply(n,t);return Bu(),Mr(),r}const E0=dl("__proto__,__v_isRef,__isVue"),Fp=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(Fn));function k0(n){Fn(n)||(n=String(n));const e=Se(this);return xt(e,"has",n),e.hasOwnProperty(n)}class Lp{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,r){const s=this._isReadonly,i=this._isShallow;if(t==="__v_isReactive")return!s;if(t==="__v_isReadonly")return s;if(t==="__v_isShallow")return i;if(t==="__v_raw")return r===(s?i?Hp:Vp:i?Np:Bp).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=ae(e);if(!s){let l;if(o&&(l=T0[t]))return l;if(t==="hasOwnProperty")return k0}const a=Reflect.get(e,t,Ye(e)?e:r);return(Fn(t)?Fp.has(t):E0(t))||(s||xt(e,"get",t),i)?a:Ye(a)?o&&Fu(t)?a:a.value:Ne(a)?s?bl(a):Ln(a):a}}class jp extends Lp{constructor(e=!1){super(!1,e)}set(e,t,r,s){let i=e[t];if(!this._isShallow){const l=Or(i);if(!rn(r)&&!Or(r)&&(i=Se(i),r=Se(r)),!ae(e)&&Ye(i)&&!Ye(r))return l?!1:(i.value=r,!0)}const o=ae(e)&&Fu(t)?Number(t)<e.length:Re(e,t),a=Reflect.set(e,t,r,Ye(e)?e:s);return e===Se(s)&&(o?Mt(r,i)&&Kn(e,"set",t,r):Kn(e,"add",t,r)),a}deleteProperty(e,t){const r=Re(e,t);e[t];const s=Reflect.deleteProperty(e,t);return s&&r&&Kn(e,"delete",t,void 0),s}has(e,t){const r=Reflect.has(e,t);return(!Fn(t)||!Fp.has(t))&&xt(e,"has",t),r}ownKeys(e){return xt(e,"iterate",ae(e)?"length":Qr),Reflect.ownKeys(e)}}class Ip extends Lp{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const A0=new jp,D0=new Ip,P0=new jp(!0),M0=new Ip(!0),Vu=n=>n,vl=n=>Reflect.getPrototypeOf(n);function Wo(n,e,t=!1,r=!1){n=n.__v_raw;const s=Se(n),i=Se(e);t||(Mt(e,i)&&xt(s,"get",e),xt(s,"get",i));const{has:o}=vl(s),a=r?Vu:t?Hu:yt;if(o.call(s,e))return a(n.get(e));if(o.call(s,i))return a(n.get(i));n!==s&&n.get(e)}function $o(n,e=!1){const t=this.__v_raw,r=Se(t),s=Se(n);return e||(Mt(n,s)&&xt(r,"has",n),xt(r,"has",s)),n===s?t.has(n):t.has(n)||t.has(s)}function zo(n,e=!1){return n=n.__v_raw,!e&&xt(Se(n),"iterate",Qr),Reflect.get(n,"size",n)}function Kh(n,e=!1){!e&&!rn(n)&&!Or(n)&&(n=Se(n));const t=Se(this);return vl(t).has.call(t,n)||(t.add(n),Kn(t,"add",n,n)),this}function qh(n,e,t=!1){!t&&!rn(e)&&!Or(e)&&(e=Se(e));const r=Se(this),{has:s,get:i}=vl(r);let o=s.call(r,n);o||(n=Se(n),o=s.call(r,n));const a=i.call(r,n);return r.set(n,e),o?Mt(e,a)&&Kn(r,"set",n,e):Kn(r,"add",n,e),this}function Jh(n){const e=Se(this),{has:t,get:r}=vl(e);let s=t.call(e,n);s||(n=Se(n),s=t.call(e,n)),r&&r.call(e,n);const i=e.delete(n);return s&&Kn(e,"delete",n,void 0),i}function Zh(){const n=Se(this),e=n.size!==0,t=n.clear();return e&&Kn(n,"clear",void 0,void 0),t}function Xo(n,e){return function(r,s){const i=this,o=i.__v_raw,a=Se(o),l=e?Vu:n?Hu:yt;return!n&&xt(a,"iterate",Qr),o.forEach((u,c)=>r.call(s,l(u),l(c),i))}}function Go(n,e,t){return function(...r){const s=this.__v_raw,i=Se(s),o=Fs(i),a=n==="entries"||n===Symbol.iterator&&o,l=n==="keys"&&o,u=s[n](...r),c=t?Vu:e?Hu:yt;return!e&&xt(i,"iterate",l?Ic:Qr),{next(){const{value:h,done:d}=u.next();return d?{value:h,done:d}:{value:a?[c(h[0]),c(h[1])]:c(h),done:d}},[Symbol.iterator](){return this}}}}function ar(n){return function(...e){return n==="delete"?!1:n==="clear"?void 0:this}}function R0(){const n={get(i){return Wo(this,i)},get size(){return zo(this)},has:$o,add:Kh,set:qh,delete:Jh,clear:Zh,forEach:Xo(!1,!1)},e={get(i){return Wo(this,i,!1,!0)},get size(){return zo(this)},has:$o,add(i){return Kh.call(this,i,!0)},set(i,o){return qh.call(this,i,o,!0)},delete:Jh,clear:Zh,forEach:Xo(!1,!0)},t={get(i){return Wo(this,i,!0)},get size(){return zo(this,!0)},has(i){return $o.call(this,i,!0)},add:ar("add"),set:ar("set"),delete:ar("delete"),clear:ar("clear"),forEach:Xo(!0,!1)},r={get(i){return Wo(this,i,!0,!0)},get size(){return zo(this,!0)},has(i){return $o.call(this,i,!0)},add:ar("add"),set:ar("set"),delete:ar("delete"),clear:ar("clear"),forEach:Xo(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=Go(i,!1,!1),t[i]=Go(i,!0,!1),e[i]=Go(i,!1,!0),r[i]=Go(i,!0,!0)}),[n,t,e,r]}const[F0,L0,j0,I0]=R0();function yl(n,e){const t=e?n?I0:j0:n?L0:F0;return(r,s,i)=>s==="__v_isReactive"?!n:s==="__v_isReadonly"?n:s==="__v_raw"?r:Reflect.get(Re(t,s)&&s in r?t:r,s,i)}const B0={get:yl(!1,!1)},N0={get:yl(!1,!0)},V0={get:yl(!0,!1)},H0={get:yl(!0,!0)},Bp=new WeakMap,Np=new WeakMap,Vp=new WeakMap,Hp=new WeakMap;function U0(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function W0(n){return n.__v_skip||!Object.isExtensible(n)?0:U0(l0(n))}function Ln(n){return Or(n)?n:_l(n,!1,A0,B0,Bp)}function zr(n){return _l(n,!1,P0,N0,Np)}function bl(n){return _l(n,!0,D0,V0,Vp)}function $0(n){return _l(n,!0,M0,H0,Hp)}function _l(n,e,t,r,s){if(!Ne(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const i=s.get(n);if(i)return i;const o=W0(n);if(o===0)return n;const a=new Proxy(n,o===2?r:t);return s.set(n,a),a}function Cn(n){return Or(n)?Cn(n.__v_raw):!!(n&&n.__v_isReactive)}function Or(n){return!!(n&&n.__v_isReadonly)}function rn(n){return!!(n&&n.__v_isShallow)}function wl(n){return n?!!n.__v_raw:!1}function Se(n){const e=n&&n.__v_raw;return e?Se(e):n}function ei(n){return!Re(n,"__v_skip")&&Object.isExtensible(n)&&Sp(n,"__v_skip",!0),n}const yt=n=>Ne(n)?Ln(n):n,Hu=n=>Ne(n)?bl(n):n;function Ye(n){return n?n.__v_isRef===!0:!1}function _e(n){return Up(n,!1)}function Uu(n){return Up(n,!0)}function Up(n,e){return Ye(n)?n:new z0(n,e)}class z0{constructor(e,t){this.dep=new gl,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:Se(e),this._value=t?e:yt(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,r=this.__v_isShallow||rn(e)||Or(e);e=r?e:Se(e),Mt(e,t)&&(this._rawValue=e,this._value=r?e:yt(e),this.dep.trigger())}}function X0(n){n.dep.trigger()}function ve(n){return Ye(n)?n.value:n}function G0(n){return he(n)?n():ve(n)}const Y0={get:(n,e,t)=>e==="__v_raw"?n:ve(Reflect.get(n,e,t)),set:(n,e,t,r)=>{const s=n[e];return Ye(s)&&!Ye(t)?(s.value=t,!0):Reflect.set(n,e,t,r)}};function Wu(n){return Cn(n)?n:new Proxy(n,Y0)}class K0{constructor(e){this.__v_isRef=!0,this._value=void 0;const t=this.dep=new gl,{get:r,set:s}=e(t.track.bind(t),t.trigger.bind(t));this._get=r,this._set=s}get value(){return this._value=this._get()}set value(e){this._set(e)}}function Wp(n){return new K0(n)}function $p(n){const e=ae(n)?new Array(n.length):{};for(const t in n)e[t]=zp(n,t);return e}class q0{constructor(e,t,r){this._object=e,this._key=t,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return C0(Se(this._object),this._key)}}class J0{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function zi(n,e,t){return Ye(n)?n:he(n)?new J0(n):Ne(n)&&arguments.length>1?zp(n,e,t):_e(n)}function zp(n,e,t){const r=n[e];return Ye(r)?r:new q0(n,e,t)}class Z0{constructor(e,t,r){this.fn=e,this.setter=t,this._value=void 0,this.dep=new gl(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ho-1,this.effect=this,this.__v_isReadonly=!t,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&He!==this)return kp(this),!0}get value(){const e=this.dep.track();return Pp(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Q0(n,e,t=!1){let r,s;return he(n)?r=n:(r=n.get,s=n.set),new Z0(r,s,t)}const eb={GET:"get",HAS:"has",ITERATE:"iterate"},tb={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},Yo={},Ma=new WeakMap;let mr;function nb(){return mr}function Xp(n,e=!1,t=mr){if(t){let r=Ma.get(t);r||Ma.set(t,r=[]),r.push(n)}}function rb(n,e,t=Ae){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:a,call:l}=t,u=x=>s?x:rn(x)||s===!1||s===0?zn(x,1):zn(x);let c,h,d,f,p=!1,m=!1;if(Ye(n)?(h=()=>n.value,p=rn(n)):Cn(n)?(h=()=>u(n),p=!0):ae(n)?(m=!0,p=n.some(x=>Cn(x)||rn(x)),h=()=>n.map(x=>{if(Ye(x))return x.value;if(Cn(x))return u(x);if(he(x))return l?l(x,2):x()})):he(n)?e?h=l?()=>l(n,2):n:h=()=>{if(d){Pr();try{d()}finally{Mr()}}const x=mr;mr=c;try{return l?l(n,3,[f]):n(f)}finally{mr=x}}:h=Sn,e&&s){const x=h,w=s===!0?1/0:s;h=()=>zn(x(),w)}const b=Qs(),_=()=>{c.stop(),b&&Mu(b.effects,c)};if(i&&e){const x=e;e=(...w)=>{x(...w),_()}}let S=m?new Array(n.length).fill(Yo):Yo;const y=x=>{if(!(!(c.flags&1)||!c.dirty&&!x))if(e){const w=c.run();if(s||p||(m?w.some((R,A)=>Mt(R,S[A])):Mt(w,S))){d&&d();const R=mr;mr=c;try{const A=[w,S===Yo?void 0:m&&S[0]===Yo?[]:S,f];l?l(e,3,A):e(...A),S=w}finally{mr=R}}}else c.run()};return a&&a(y),c=new uo(h),c.scheduler=o?()=>o(y,!1):y,f=x=>Xp(x,!1,c),d=c.onStop=()=>{const x=Ma.get(c);if(x){if(l)l(x,4);else for(const w of x)w();Ma.delete(c)}},e?r?y(!0):S=c.run():o?o(y.bind(null,!0),!0):c.run(),_.pause=c.pause.bind(c),_.resume=c.resume.bind(c),_.stop=_,_}function zn(n,e=1/0,t){if(e<=0||!Ne(n)||n.__v_skip||(t=t||new Set,t.has(n)))return n;if(t.add(n),e--,Ye(n))zn(n.value,e,t);else if(ae(n))for(let r=0;r<n.length;r++)zn(n[r],e,t);else if(fs(n)||Fs(n))n.forEach(r=>{zn(r,e,t)});else if(Zr(n)){for(const r in n)zn(n[r],e,t);for(const r of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,r)&&zn(n[r],e,t)}return n}/**
* @vue/runtime-core v3.5.6
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Gp=[];function sb(n){Gp.push(n)}function ib(){Gp.pop()}function ob(n,e){}const ab={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},lb={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function ti(n,e,t,r){try{return r?n(...r):n()}catch(s){ps(s,e,t)}}function pn(n,e,t,r){if(he(n)){const s=ti(n,e,t,r);return s&&Ru(s)&&s.catch(i=>{ps(i,e,t)}),s}if(ae(n)){const s=[];for(let i=0;i<n.length;i++)s.push(pn(n[i],e,t,r));return s}}function ps(n,e,t,r=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Ae;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${t}`;for(;a;){const c=a.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](n,l,u)===!1)return}a=a.parent}if(i){Pr(),ti(i,null,10,[n,l,u]),Mr();return}}cb(n,t,s,r,o)}function cb(n,e,t,r=!0,s=!1){if(s)throw n;console.error(n)}let po=!1,Bc=!1;const Rt=[];let An=0;const Is=[];let vr=null,Os=0;const Yp=Promise.resolve();let $u=null;function an(n){const e=$u||Yp;return n?e.then(this?n.bind(this):n):e}function ub(n){let e=po?An+1:0,t=Rt.length;for(;e<t;){const r=e+t>>>1,s=Rt[r],i=go(s);i<n||i===n&&s.flags&2?e=r+1:t=r}return e}function zu(n){if(!(n.flags&1)){const e=go(n),t=Rt[Rt.length-1];!t||!(n.flags&2)&&e>=go(t)?Rt.push(n):Rt.splice(ub(e),0,n),n.flags|=1,Kp()}}function Kp(){!po&&!Bc&&(Bc=!0,$u=Yp.then(qp))}function Ra(n){ae(n)?Is.push(...n):vr&&n.id===-1?vr.splice(Os+1,0,n):n.flags&1||(Is.push(n),n.flags|=1),Kp()}function Qh(n,e,t=po?An+1:0){for(;t<Rt.length;t++){const r=Rt[t];if(r&&r.flags&2){if(n&&r.id!==n.uid)continue;Rt.splice(t,1),t--,r.flags&4&&(r.flags&=-2),r(),r.flags&=-2}}}function Fa(n){if(Is.length){const e=[...new Set(Is)].sort((t,r)=>go(t)-go(r));if(Is.length=0,vr){vr.push(...e);return}for(vr=e,Os=0;Os<vr.length;Os++){const t=vr[Os];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}vr=null,Os=0}}const go=n=>n.id==null?n.flags&2?-1:1/0:n.id;function qp(n){Bc=!1,po=!0;try{for(An=0;An<Rt.length;An++){const e=Rt[An];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),ti(e,e.i,e.i?15:14),e.flags&=-2)}}finally{for(;An<Rt.length;An++){const e=Rt[An];e&&(e.flags&=-2)}An=0,Rt.length=0,Fa(),po=!1,$u=null,(Rt.length||Is.length)&&qp()}}let Es,Ko=[];function Jp(n,e){var t,r;Es=n,Es?(Es.enabled=!0,Ko.forEach(({event:s,args:i})=>Es.emit(s,...i)),Ko=[]):typeof window<"u"&&window.HTMLElement&&!((r=(t=window.navigator)==null?void 0:t.userAgent)!=null&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(i=>{Jp(i,e)}),setTimeout(()=>{Es||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Ko=[])},3e3)):Ko=[]}let ut=null,Sl=null;function mo(n){const e=ut;return ut=n,Sl=n&&n.type.__scopeId||null,e}function hb(n){Sl=n}function db(){Sl=null}const fb=n=>Wt;function Wt(n,e=ut,t){if(!e||n._n)return n;const r=(...s)=>{r._d&&Gc(-1);const i=mo(e);let o;try{o=n(...s)}finally{mo(i),r._d&&Gc(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function es(n,e){if(ut===null)return n;const t=Lo(ut),r=n.dirs||(n.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,a,l=Ae]=e[s];i&&(he(i)&&(i={mounted:i,updated:i}),i.deep&&zn(o),r.push({dir:i,instance:t,value:o,oldValue:void 0,arg:a,modifiers:l}))}return n}function Dn(n,e,t,r){const s=n.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(Pr(),pn(l,t,8,[n.el,a,n,e]),Mr())}}const Zp=Symbol("_vte"),Qp=n=>n.__isTeleport,Xi=n=>n&&(n.disabled||n.disabled===""),pb=n=>n&&(n.defer||n.defer===""),ed=n=>typeof SVGElement<"u"&&n instanceof SVGElement,td=n=>typeof MathMLElement=="function"&&n instanceof MathMLElement,Nc=(n,e)=>{const t=n&&n.to;return Xe(t)?e?e(t):null:t},gb={name:"Teleport",__isTeleport:!0,process(n,e,t,r,s,i,o,a,l,u){const{mc:c,pc:h,pbc:d,o:{insert:f,querySelector:p,createText:m,createComment:b}}=u,_=Xi(e.props);let{shapeFlag:S,children:y,dynamicChildren:x}=e;if(n==null){const w=e.el=m(""),R=e.anchor=m("");f(w,t,r),f(R,t,r);const A=(M,j)=>{S&16&&(s&&s.isCE&&(s.ce._teleportTarget=M),c(y,M,j,s,i,o,a,l))},D=()=>{const M=e.target=Nc(e.props,p),j=tg(M,e,m,f);M&&(o!=="svg"&&ed(M)?o="svg":o!=="mathml"&&td(M)&&(o="mathml"),_||(A(M,j),ma(e)))};_&&(A(t,R),ma(e)),pb(e.props)?ft(D,i):D()}else{e.el=n.el,e.targetStart=n.targetStart;const w=e.anchor=n.anchor,R=e.target=n.target,A=e.targetAnchor=n.targetAnchor,D=Xi(n.props),M=D?t:R,j=D?w:A;if(o==="svg"||ed(R)?o="svg":(o==="mathml"||td(R))&&(o="mathml"),x?(d(n.dynamicChildren,x,M,s,i,o,a),th(n,e,!0)):l||h(n,e,M,j,s,i,o,a,!1),_)D?e.props&&n.props&&e.props.to!==n.props.to&&(e.props.to=n.props.to):qo(e,t,w,u,1);else if((e.props&&e.props.to)!==(n.props&&n.props.to)){const W=e.target=Nc(e.props,p);W&&qo(e,W,null,u,0)}else D&&qo(e,R,A,u,1);ma(e)}},remove(n,e,t,{um:r,o:{remove:s}},i){const{shapeFlag:o,children:a,anchor:l,targetStart:u,targetAnchor:c,target:h,props:d}=n;if(h&&(s(u),s(c)),i&&s(l),o&16){const f=i||!Xi(d);for(let p=0;p<a.length;p++){const m=a[p];r(m,e,t,f,!!m.dynamicChildren)}}},move:qo,hydrate:mb};function qo(n,e,t,{o:{insert:r},m:s},i=2){i===0&&r(n.targetAnchor,e,t);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=n,h=i===2;if(h&&r(o,e,t),(!h||Xi(c))&&l&16)for(let d=0;d<u.length;d++)s(u[d],e,t,2);h&&r(a,e,t)}function mb(n,e,t,r,s,i,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:u,createText:c}},h){const d=e.target=Nc(e.props,l);if(d){const f=d._lpa||d.firstChild;if(e.shapeFlag&16)if(Xi(e.props))e.anchor=h(o(n),e,a(n),t,r,s,i),e.targetStart=f,e.targetAnchor=f&&o(f);else{e.anchor=o(n);let p=f;for(;p;){if(p&&p.nodeType===8){if(p.data==="teleport start anchor")e.targetStart=p;else if(p.data==="teleport anchor"){e.targetAnchor=p,d._lpa=e.targetAnchor&&o(e.targetAnchor);break}}p=o(p)}e.targetAnchor||tg(d,e,c,u),h(f&&o(f),e,d,t,r,s,i)}ma(e)}return e.anchor&&o(e.anchor)}const eg=gb;function ma(n){const e=n.ctx;if(e&&e.ut){let t=n.targetStart;for(;t&&t!==n.targetAnchor;)t.nodeType===1&&t.setAttribute("data-v-owner",e.uid),t=t.nextSibling;e.ut()}}function tg(n,e,t,r){const s=e.targetStart=t(""),i=e.targetAnchor=t("");return s[Zp]=i,n&&(r(s,n),r(i,n)),i}const yr=Symbol("_leaveCb"),Jo=Symbol("_enterCb");function Xu(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return rr(()=>{n.isMounted=!0}),ni(()=>{n.isUnmounting=!0}),n}const un=[Function,Array],Gu={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:un,onEnter:un,onAfterEnter:un,onEnterCancelled:un,onBeforeLeave:un,onLeave:un,onAfterLeave:un,onLeaveCancelled:un,onBeforeAppear:un,onAppear:un,onAfterAppear:un,onAppearCancelled:un},ng=n=>{const e=n.subTree;return e.component?ng(e.component):e},vb={name:"BaseTransition",props:Gu,setup(n,{slots:e}){const t=Ct(),r=Xu();return()=>{const s=e.default&&xl(e.default(),!0);if(!s||!s.length)return;const i=rg(s),o=Se(n),{mode:a}=o;if(r.isLeaving)return sc(i);const l=nd(i);if(!l)return sc(i);let u=Ws(l,o,r,t,d=>u=d);l.type!==st&&Zn(l,u);const c=t.subTree,h=c&&nd(c);if(h&&h.type!==st&&!bn(l,h)&&ng(t).type!==st){const d=Ws(h,o,r,t);if(Zn(h,d),a==="out-in"&&l.type!==st)return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,t.job.flags&8||t.update(),delete d.afterLeave},sc(i);a==="in-out"&&l.type!==st&&(d.delayLeave=(f,p,m)=>{const b=ig(r,h);b[String(h.key)]=h,f[yr]=()=>{p(),f[yr]=void 0,delete u.delayedLeave},u.delayedLeave=m})}return i}}};function rg(n){let e=n[0];if(n.length>1){for(const t of n)if(t.type!==st){e=t;break}}return e}const sg=vb;function ig(n,e){const{leavingVNodes:t}=n;let r=t.get(e.type);return r||(r=Object.create(null),t.set(e.type,r)),r}function Ws(n,e,t,r,s){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:h,onBeforeLeave:d,onLeave:f,onAfterLeave:p,onLeaveCancelled:m,onBeforeAppear:b,onAppear:_,onAfterAppear:S,onAppearCancelled:y}=e,x=String(n.key),w=ig(t,n),R=(M,j)=>{M&&pn(M,r,9,j)},A=(M,j)=>{const W=j[1];R(M,j),ae(M)?M.every(C=>C.length<=1)&&W():M.length<=1&&W()},D={mode:o,persisted:a,beforeEnter(M){let j=l;if(!t.isMounted)if(i)j=b||l;else return;M[yr]&&M[yr](!0);const W=w[x];W&&bn(n,W)&&W.el[yr]&&W.el[yr](),R(j,[M])},enter(M){let j=u,W=c,C=h;if(!t.isMounted)if(i)j=_||u,W=S||c,C=y||h;else return;let E=!1;const B=M[Jo]=K=>{E||(E=!0,K?R(C,[M]):R(W,[M]),D.delayedLeave&&D.delayedLeave(),M[Jo]=void 0)};j?A(j,[M,B]):B()},leave(M,j){const W=String(n.key);if(M[Jo]&&M[Jo](!0),t.isUnmounting)return j();R(d,[M]);let C=!1;const E=M[yr]=B=>{C||(C=!0,j(),B?R(m,[M]):R(p,[M]),M[yr]=void 0,w[W]===n&&delete w[W])};w[W]=n,f?A(f,[M,E]):E()},clone(M){const j=Ws(M,e,t,r,s);return s&&s(j),j}};return D}function sc(n){if(Mo(n))return n=jn(n),n.children=null,n}function nd(n){if(!Mo(n))return Qp(n.type)&&n.children?rg(n.children):n;const{shapeFlag:e,children:t}=n;if(t){if(e&16)return t[0];if(e&32&&he(t.default))return t.default()}}function Zn(n,e){n.shapeFlag&6&&n.component?(n.transition=e,Zn(n.component.subTree,e)):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}function xl(n,e=!1,t){let r=[],s=0;for(let i=0;i<n.length;i++){let o=n[i];const a=t==null?o.key:String(t)+String(o.key!=null?o.key:i);o.type===Qe?(o.patchFlag&128&&s++,r=r.concat(xl(o.children,e,a))):(e||o.type!==st)&&r.push(a!=null?jn(o,{key:a}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Jt(n,e){return he(n)?ze({name:n.name},e,{setup:n}):n}function yb(){const n=Ct();if(n)return(n.appContext.config.idPrefix||"v")+"-"+n.ids[0]+n.ids[1]++}function Yu(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}function bb(n){const e=Ct(),t=Uu(null);if(e){const s=e.refs===Ae?e.refs={}:e.refs;Object.defineProperty(s,n,{enumerable:!0,get:()=>t.value,set:i=>t.value=i})}return t}function La(n,e,t,r,s=!1){if(ae(n)){n.forEach((p,m)=>La(p,e&&(ae(e)?e[m]:e),t,r,s));return}if(xr(r)&&!s)return;const i=r.shapeFlag&4?Lo(r.component):r.el,o=s?null:i,{i:a,r:l}=n,u=e&&e.r,c=a.refs===Ae?a.refs={}:a.refs,h=a.setupState,d=Se(h),f=h===Ae?()=>!1:p=>Re(d,p);if(u!=null&&u!==l&&(Xe(u)?(c[u]=null,f(u)&&(h[u]=null)):Ye(u)&&(u.value=null)),he(l))ti(l,a,12,[o,c]);else{const p=Xe(l),m=Ye(l);if(p||m){const b=()=>{if(n.f){const _=p?f(l)?h[l]:c[l]:l.value;s?ae(_)&&Mu(_,i):ae(_)?_.includes(i)||_.push(i):p?(c[l]=[i],f(l)&&(h[l]=c[l])):(l.value=[i],n.k&&(c[n.k]=l.value))}else p?(c[l]=o,f(l)&&(h[l]=o)):m&&(l.value=o,n.k&&(c[n.k]=o))};o?(b.id=-1,ft(b,t)):b()}}}let rd=!1;const bs=()=>{rd||(console.error("Hydration completed but contains mismatches."),rd=!0)},_b=n=>n.namespaceURI.includes("svg")&&n.tagName!=="foreignObject",wb=n=>n.namespaceURI.includes("MathML"),Zo=n=>{if(n.nodeType===1){if(_b(n))return"svg";if(wb(n))return"mathml"}},Ds=n=>n.nodeType===8;function Sb(n){const{mt:e,p:t,o:{patchProp:r,createText:s,nextSibling:i,parentNode:o,remove:a,insert:l,createComment:u}}=n,c=(y,x)=>{if(!x.hasChildNodes()){t(null,y,x),Fa(),x._vnode=y;return}h(x.firstChild,y,null,null,null),Fa(),x._vnode=y},h=(y,x,w,R,A,D=!1)=>{D=D||!!x.dynamicChildren;const M=Ds(y)&&y.data==="[",j=()=>m(y,x,w,R,A,M),{type:W,ref:C,shapeFlag:E,patchFlag:B}=x;let K=y.nodeType;x.el=y,B===-2&&(D=!1,x.dynamicChildren=null);let I=null;switch(W){case Cr:K!==3?x.children===""?(l(x.el=s(""),o(y),y),I=y):I=j():(y.data!==x.children&&(bs(),y.data=x.children),I=i(y));break;case st:S(y)?(I=i(y),_(x.el=y.content.firstChild,y,w)):K!==8||M?I=j():I=i(y);break;case ns:if(M&&(y=i(y),K=y.nodeType),K===1||K===3){I=y;const G=!x.children.length;for(let $=0;$<x.staticCount;$++)G&&(x.children+=I.nodeType===1?I.outerHTML:I.data),$===x.staticCount-1&&(x.anchor=I),I=i(I);return M?i(I):I}else j();break;case Qe:M?I=p(y,x,w,R,A,D):I=j();break;default:if(E&1)(K!==1||x.type.toLowerCase()!==y.tagName.toLowerCase())&&!S(y)?I=j():I=d(y,x,w,R,A,D);else if(E&6){x.slotScopeIds=A;const G=o(y);if(M?I=b(y):Ds(y)&&y.data==="teleport start"?I=b(y,y.data,"teleport end"):I=i(y),e(x,G,null,w,R,Zo(G),D),xr(x)){let $;M?($=Oe(Qe),$.anchor=I?I.previousSibling:G.lastChild):$=y.nodeType===3?Qn(""):Oe("div"),$.el=y,x.component.subTree=$}}else E&64?K!==8?I=j():I=x.type.hydrate(y,x,w,R,A,D,n,f):E&128&&(I=x.type.hydrate(y,x,w,R,Zo(o(y)),A,D,n,h))}return C!=null&&La(C,null,R,x),I},d=(y,x,w,R,A,D)=>{D=D||!!x.dynamicChildren;const{type:M,props:j,patchFlag:W,shapeFlag:C,dirs:E,transition:B}=x,K=M==="input"||M==="option";if(K||W!==-1){E&&Dn(x,null,w,"created");let I=!1;if(S(y)){I=Rg(R,B)&&w&&w.vnode.props&&w.vnode.props.appear;const $=y.content.firstChild;I&&B.beforeEnter($),_($,y,w),x.el=y=$}if(C&16&&!(j&&(j.innerHTML||j.textContent))){let $=f(y.firstChild,x,y,w,R,A,D);for(;$;){Qo(y,1)||bs();const se=$;$=$.nextSibling,a(se)}}else if(C&8){let $=x.children;$[0]===`
`&&(y.tagName==="PRE"||y.tagName==="TEXTAREA")&&($=$.slice(1)),y.textContent!==$&&(Qo(y,0)||bs(),y.textContent=x.children)}if(j){if(K||!D||W&48){const $=y.tagName.includes("-");for(const se in j)(K&&(se.endsWith("value")||se==="indeterminate")||Ao(se)&&!Ls(se)||se[0]==="."||$)&&r(y,se,null,j[se],void 0,w)}else if(j.onClick)r(y,"onClick",null,j.onClick,void 0,w);else if(W&4&&Cn(j.style))for(const $ in j.style)j.style[$]}let G;(G=j&&j.onVnodeBeforeMount)&&Nt(G,w,x),E&&Dn(x,null,w,"beforeMount"),((G=j&&j.onVnodeMounted)||E||I)&&$g(()=>{G&&Nt(G,w,x),I&&B.enter(y),E&&Dn(x,null,w,"mounted")},R)}return y.nextSibling},f=(y,x,w,R,A,D,M)=>{M=M||!!x.dynamicChildren;const j=x.children,W=j.length;for(let C=0;C<W;C++){const E=M?j[C]:j[C]=Ht(j[C]),B=E.type===Cr;y?(B&&!M&&C+1<W&&Ht(j[C+1]).type===Cr&&(l(s(y.data.slice(E.children.length)),w,i(y)),y.data=E.children),y=h(y,E,R,A,D,M)):B&&!E.children?l(E.el=s(""),w):(Qo(w,1)||bs(),t(null,E,w,null,R,A,Zo(w),D))}return y},p=(y,x,w,R,A,D)=>{const{slotScopeIds:M}=x;M&&(A=A?A.concat(M):M);const j=o(y),W=f(i(y),x,j,w,R,A,D);return W&&Ds(W)&&W.data==="]"?i(x.anchor=W):(bs(),l(x.anchor=u("]"),j,W),W)},m=(y,x,w,R,A,D)=>{if(Qo(y.parentElement,1)||bs(),x.el=null,D){const W=b(y);for(;;){const C=i(y);if(C&&C!==W)a(C);else break}}const M=i(y),j=o(y);return a(y),t(null,x,j,M,w,R,Zo(j),A),M},b=(y,x="[",w="]")=>{let R=0;for(;y;)if(y=i(y),y&&Ds(y)&&(y.data===x&&R++,y.data===w)){if(R===0)return i(y);R--}return y},_=(y,x,w)=>{const R=x.parentNode;R&&R.replaceChild(y,x);let A=w;for(;A;)A.vnode.el===x&&(A.vnode.el=A.subTree.el=y),A=A.parent},S=y=>y.nodeType===1&&y.tagName==="TEMPLATE";return[c,h]}const sd="data-allow-mismatch",xb={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function Qo(n,e){if(e===0||e===1)for(;n&&!n.hasAttribute(sd);)n=n.parentElement;const t=n&&n.getAttribute(sd);if(t==null)return!1;if(t==="")return!0;{const r=t.split(",");return e===0&&r.includes("children")?!0:t.split(",").includes(xb[e])}}const Cb=(n=1e4)=>e=>{const t=requestIdleCallback(e,{timeout:n});return()=>cancelIdleCallback(t)},Tb=n=>(e,t)=>{const r=new IntersectionObserver(s=>{for(const i of s)if(i.isIntersecting){r.disconnect(),e();break}},n);return t(s=>r.observe(s)),()=>r.disconnect()},Ob=n=>e=>{if(n){const t=matchMedia(n);if(t.matches)e();else return t.addEventListener("change",e,{once:!0}),()=>t.removeEventListener("change",e)}},Eb=(n=[])=>(e,t)=>{Xe(n)&&(n=[n]);let r=!1;const s=o=>{r||(r=!0,i(),e(),o.target.dispatchEvent(new o.constructor(o.type,o)))},i=()=>{t(o=>{for(const a of n)o.removeEventListener(a,s)})};return t(o=>{for(const a of n)o.addEventListener(a,s,{once:!0})}),i};function kb(n,e){if(Ds(n)&&n.data==="["){let t=1,r=n.nextSibling;for(;r;){if(r.nodeType===1)e(r);else if(Ds(r))if(r.data==="]"){if(--t===0)break}else r.data==="["&&t++;r=r.nextSibling}}else e(n)}const xr=n=>!!n.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function Ab(n){he(n)&&(n={loader:n});const{loader:e,loadingComponent:t,errorComponent:r,delay:s=200,hydrate:i,timeout:o,suspensible:a=!0,onError:l}=n;let u=null,c,h=0;const d=()=>(h++,u=null,f()),f=()=>{let p;return u||(p=u=e().catch(m=>{if(m=m instanceof Error?m:new Error(String(m)),l)return new Promise((b,_)=>{l(m,()=>b(d()),()=>_(m),h+1)});throw m}).then(m=>p!==u&&u?u:(m&&(m.__esModule||m[Symbol.toStringTag]==="Module")&&(m=m.default),c=m,m)))};return Jt({name:"AsyncComponentWrapper",__asyncLoader:f,__asyncHydrate(p,m,b){const _=i?()=>{const S=i(b,y=>kb(p,y));S&&(m.bum||(m.bum=[])).push(S)}:b;c?_():f().then(()=>!m.isUnmounted&&_())},get __asyncResolved(){return c},setup(){const p=ct;if(Yu(p),c)return()=>ic(c,p);const m=y=>{u=null,ps(y,p,13,!r)};if(a&&p.suspense||Fo)return f().then(y=>()=>ic(y,p)).catch(y=>(m(y),()=>r?Oe(r,{error:y}):null));const b=_e(!1),_=_e(),S=_e(!!s);return s&&setTimeout(()=>{S.value=!1},s),o!=null&&setTimeout(()=>{if(!b.value&&!_.value){const y=new Error(`Async component timed out after ${o}ms.`);m(y),_.value=y}},o),f().then(()=>{b.value=!0,p.parent&&Mo(p.parent.vnode)&&p.parent.update()}).catch(y=>{m(y),_.value=y}),()=>{if(b.value&&c)return ic(c,p);if(_.value&&r)return Oe(r,{error:_.value});if(t&&!S.value)return Oe(t)}}})}function ic(n,e){const{ref:t,props:r,children:s,ce:i}=e.vnode,o=Oe(n,r,s);return o.ref=t,o.ce=i,delete e.vnode.ce,o}const Mo=n=>n.type.__isKeepAlive,Db={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(n,{slots:e}){const t=Ct(),r=t.ctx;if(!r.renderer)return()=>{const S=e.default&&e.default();return S&&S.length===1?S[0]:S};const s=new Map,i=new Set;let o=null;const a=t.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:h}}}=r,d=h("div");r.activate=(S,y,x,w,R)=>{const A=S.component;u(S,y,x,0,a),l(A.vnode,S,y,x,A,a,w,S.slotScopeIds,R),ft(()=>{A.isDeactivated=!1,A.a&&js(A.a);const D=S.props&&S.props.onVnodeMounted;D&&Nt(D,A.parent,S)},a)},r.deactivate=S=>{const y=S.component;Ba(y.m),Ba(y.a),u(S,d,null,1,a),ft(()=>{y.da&&js(y.da);const x=S.props&&S.props.onVnodeUnmounted;x&&Nt(x,y.parent,S),y.isDeactivated=!0},a)};function f(S){oc(S),c(S,t,a,!0)}function p(S){s.forEach((y,x)=>{const w=Zc(y.type);w&&!S(w)&&m(x)})}function m(S){const y=s.get(S);y&&(!o||!bn(y,o))?f(y):o&&oc(o),s.delete(S),i.delete(S)}$e(()=>[n.include,n.exclude],([S,y])=>{S&&p(x=>xi(S,x)),y&&p(x=>!xi(y,x))},{flush:"post",deep:!0});let b=null;const _=()=>{b!=null&&(Na(t.subTree.type)?ft(()=>{s.set(b,ea(t.subTree))},t.subTree.suspense):s.set(b,ea(t.subTree)))};return rr(_),Tl(_),ni(()=>{s.forEach(S=>{const{subTree:y,suspense:x}=t,w=ea(y);if(S.type===w.type&&S.key===w.key){oc(w);const R=w.component.da;R&&ft(R,x);return}f(S)})}),()=>{if(b=null,!e.default)return o=null;const S=e.default(),y=S[0];if(S.length>1)return o=null,S;if(!Er(y)||!(y.shapeFlag&4)&&!(y.shapeFlag&128))return o=null,y;let x=ea(y);if(x.type===st)return o=null,x;const w=x.type,R=Zc(xr(x)?x.type.__asyncResolved||{}:w),{include:A,exclude:D,max:M}=n;if(A&&(!R||!xi(A,R))||D&&R&&xi(D,R))return x.shapeFlag&=-257,o=x,y;const j=x.key==null?w:x.key,W=s.get(j);return x.el&&(x=jn(x),y.shapeFlag&128&&(y.ssContent=x)),b=j,W?(x.el=W.el,x.component=W.component,x.transition&&Zn(x,x.transition),x.shapeFlag|=512,i.delete(j),i.add(j)):(i.add(j),M&&i.size>parseInt(M,10)&&m(i.values().next().value)),x.shapeFlag|=256,o=x,Na(y.type)?y:x}}},Pb=Db;function xi(n,e){return ae(n)?n.some(t=>xi(t,e)):Xe(n)?n.split(",").includes(e):a0(n)?(n.lastIndex=0,n.test(e)):!1}function og(n,e){lg(n,"a",e)}function ag(n,e){lg(n,"da",e)}function lg(n,e,t=ct){const r=n.__wdc||(n.__wdc=()=>{let s=t;for(;s;){if(s.isDeactivated)return;s=s.parent}return n()});if(Cl(e,r,t),t){let s=t.parent;for(;s&&s.parent;)Mo(s.parent.vnode)&&Mb(r,e,t,s),s=s.parent}}function Mb(n,e,t,r){const s=Cl(e,n,r,!0);Ol(()=>{Mu(r[e],s)},t)}function oc(n){n.shapeFlag&=-257,n.shapeFlag&=-513}function ea(n){return n.shapeFlag&128?n.ssContent:n}function Cl(n,e,t=ct,r=!1){if(t){const s=t[n]||(t[n]=[]),i=e.__weh||(e.__weh=(...o)=>{Pr();const a=as(t),l=pn(e,t,n,o);return a(),Mr(),l});return r?s.unshift(i):s.push(i),i}}const nr=n=>(e,t=ct)=>{(!Fo||n==="sp")&&Cl(n,(...r)=>e(...r),t)},Ku=nr("bm"),rr=nr("m"),cg=nr("bu"),Tl=nr("u"),ni=nr("bum"),Ol=nr("um"),ug=nr("sp"),hg=nr("rtg"),dg=nr("rtc");function fg(n,e=ct){Cl("ec",n,e)}const qu="components",Rb="directives";function El(n,e){return Ju(qu,n,!0,e)||n}const pg=Symbol.for("v-ndc");function Gi(n){return Xe(n)?Ju(qu,n,!1)||n:n||pg}function gg(n){return Ju(Rb,n)}function Ju(n,e,t=!0,r=!1){const s=ut||ct;if(s){const i=s.type;if(n===qu){const a=Zc(i,!1);if(a&&(a===e||a===_t(e)||a===Do(_t(e))))return i}const o=id(s[n]||i[n],e)||id(s.appContext[n],e);return!o&&r?i:o}}function id(n,e){return n&&(n[e]||n[_t(e)]||n[Do(_t(e))])}function Vc(n,e,t,r){let s;const i=t&&t[r],o=ae(n);if(o||Xe(n)){const a=o&&Cn(n);let l=!1;a&&(l=!rn(n),n=ml(n)),s=new Array(n.length);for(let u=0,c=n.length;u<c;u++)s[u]=e(l?yt(n[u]):n[u],u,void 0,i&&i[u])}else if(typeof n=="number"){s=new Array(n);for(let a=0;a<n;a++)s[a]=e(a+1,a,void 0,i&&i[a])}else if(Ne(n))if(n[Symbol.iterator])s=Array.from(n,(a,l)=>e(a,l,void 0,i&&i[l]));else{const a=Object.keys(n);s=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];s[l]=e(n[c],c,l,i&&i[l])}}else s=[];return t&&(t[r]=s),s}function Fb(n,e){for(let t=0;t<e.length;t++){const r=e[t];if(ae(r))for(let s=0;s<r.length;s++)n[r[s].name]=r[s].fn;else r&&(n[r.name]=r.key?(...s)=>{const i=r.fn(...s);return i&&(i.key=r.key),i}:r.fn)}return n}function gt(n,e,t={},r,s){if(ut.ce||ut.parent&&xr(ut.parent)&&ut.parent.ce)return e!=="default"&&(t.name=e),ye(),wt(Qe,null,[Oe("slot",t,r&&r())],64);let i=n[e];i&&i._c&&(i._d=!1),ye();const o=i&&Zu(i(t)),a=wt(Qe,{key:(t.key||o&&o.key||`_${e}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&n._===1?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function Zu(n){return n.some(e=>Er(e)?!(e.type===st||e.type===Qe&&!Zu(e.children)):!0)?n:null}function ja(n,e){const t={};for(const r in n)t[e&&/[A-Z]/.test(r)?`on:${r}`:Wi(r)]=n[r];return t}const Hc=n=>n?Kg(n)?Lo(n):Hc(n.parent):null,Yi=ze(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>Hc(n.parent),$root:n=>Hc(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>Qu(n),$forceUpdate:n=>n.f||(n.f=()=>{zu(n.update)}),$nextTick:n=>n.n||(n.n=an.bind(n.proxy)),$watch:n=>l_.bind(n)}),ac=(n,e)=>n!==Ae&&!n.__isScriptSetup&&Re(n,e),Uc={get({_:n},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:l}=n;let u;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return r[e];case 2:return s[e];case 4:return t[e];case 3:return i[e]}else{if(ac(r,e))return o[e]=1,r[e];if(s!==Ae&&Re(s,e))return o[e]=2,s[e];if((u=n.propsOptions[0])&&Re(u,e))return o[e]=3,i[e];if(t!==Ae&&Re(t,e))return o[e]=4,t[e];Wc&&(o[e]=0)}}const c=Yi[e];let h,d;if(c)return e==="$attrs"&&xt(n.attrs,"get",""),c(n);if((h=a.__cssModules)&&(h=h[e]))return h;if(t!==Ae&&Re(t,e))return o[e]=4,t[e];if(d=l.config.globalProperties,Re(d,e))return d[e]},set({_:n},e,t){const{data:r,setupState:s,ctx:i}=n;return ac(s,e)?(s[e]=t,!0):r!==Ae&&Re(r,e)?(r[e]=t,!0):Re(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(i[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!t[o]||n!==Ae&&Re(n,o)||ac(e,o)||(a=i[0])&&Re(a,o)||Re(r,o)||Re(Yi,o)||Re(s.config.globalProperties,o)},defineProperty(n,e,t){return t.get!=null?n._.accessCache[e]=0:Re(t,"value")&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}},Lb=ze({},Uc,{get(n,e){if(e!==Symbol.unscopables)return Uc.get(n,e,n)},has(n,e){return e[0]!=="_"&&!d0(e)}});function jb(){return null}function Ib(){return null}function Bb(n){}function Nb(n){}function Vb(){return null}function Hb(){}function Ub(n,e){return null}function Wb(){return vg().slots}function mg(){return vg().attrs}function vg(){const n=Ct();return n.setupContext||(n.setupContext=Zg(n))}function vo(n){return ae(n)?n.reduce((e,t)=>(e[t]=null,e),{}):n}function $b(n,e){const t=vo(n);for(const r in e){if(r.startsWith("__skip"))continue;let s=t[r];s?ae(s)||he(s)?s=t[r]={type:s,default:e[r]}:s.default=e[r]:s===null&&(s=t[r]={default:e[r]}),s&&e[`__skip_${r}`]&&(s.skipFactory=!0)}return t}function zb(n,e){return!n||!e?n||e:ae(n)&&ae(e)?n.concat(e):ze({},vo(n),vo(e))}function Xb(n,e){const t={};for(const r in n)e.includes(r)||Object.defineProperty(t,r,{enumerable:!0,get:()=>n[r]});return t}function Gb(n){const e=Ct();let t=n();return Kc(),Ru(t)&&(t=t.catch(r=>{throw as(e),r})),[t,()=>as(e)]}let Wc=!0;function Yb(n){const e=Qu(n),t=n.proxy,r=n.ctx;Wc=!1,e.beforeCreate&&od(e.beforeCreate,n,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:d,beforeUpdate:f,updated:p,activated:m,deactivated:b,beforeDestroy:_,beforeUnmount:S,destroyed:y,unmounted:x,render:w,renderTracked:R,renderTriggered:A,errorCaptured:D,serverPrefetch:M,expose:j,inheritAttrs:W,components:C,directives:E,filters:B}=e;if(u&&Kb(u,r,null),o)for(const G in o){const $=o[G];he($)&&(r[G]=$.bind(t))}if(s){const G=s.call(t,t);Ne(G)&&(n.data=Ln(G))}if(Wc=!0,i)for(const G in i){const $=i[G],se=he($)?$.bind(t,t):he($.get)?$.get.bind(t,t):Sn,de=!he($)&&he($.set)?$.set.bind(t):Sn,Te=De({get:se,set:de});Object.defineProperty(r,G,{enumerable:!0,configurable:!0,get:()=>Te.value,set:ke=>Te.value=ke})}if(a)for(const G in a)yg(a[G],r,t,G);if(l){const G=he(l)?l.call(t):l;Reflect.ownKeys(G).forEach($=>{Ki($,G[$])})}c&&od(c,n,"c");function I(G,$){ae($)?$.forEach(se=>G(se.bind(t))):$&&G($.bind(t))}if(I(Ku,h),I(rr,d),I(cg,f),I(Tl,p),I(og,m),I(ag,b),I(fg,D),I(dg,R),I(hg,A),I(ni,S),I(Ol,x),I(ug,M),ae(j))if(j.length){const G=n.exposed||(n.exposed={});j.forEach($=>{Object.defineProperty(G,$,{get:()=>t[$],set:se=>t[$]=se})})}else n.exposed||(n.exposed={});w&&n.render===Sn&&(n.render=w),W!=null&&(n.inheritAttrs=W),C&&(n.components=C),E&&(n.directives=E),M&&Yu(n)}function Kb(n,e,t=Sn){ae(n)&&(n=$c(n));for(const r in n){const s=n[r];let i;Ne(s)?"default"in s?i=$t(s.from||r,s.default,!0):i=$t(s.from||r):i=$t(s),Ye(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function od(n,e,t){pn(ae(n)?n.map(r=>r.bind(e.proxy)):n.bind(e.proxy),e,t)}function yg(n,e,t,r){let s=r.includes(".")?Vg(t,r):()=>t[r];if(Xe(n)){const i=e[n];he(i)&&$e(s,i)}else if(he(n))$e(s,n.bind(t));else if(Ne(n))if(ae(n))n.forEach(i=>yg(i,e,t,r));else{const i=he(n.handler)?n.handler.bind(t):e[n.handler];he(i)&&$e(s,i,n)}}function Qu(n){const e=n.type,{mixins:t,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=n.appContext,a=i.get(e);let l;return a?l=a:!s.length&&!t&&!r?l=e:(l={},s.length&&s.forEach(u=>Ia(l,u,o,!0)),Ia(l,e,o)),Ne(e)&&i.set(e,l),l}function Ia(n,e,t,r=!1){const{mixins:s,extends:i}=e;i&&Ia(n,i,t,!0),s&&s.forEach(o=>Ia(n,o,t,!0));for(const o in e)if(!(r&&o==="expose")){const a=qb[o]||t&&t[o];n[o]=a?a(n[o],e[o]):e[o]}return n}const qb={data:ad,props:ld,emits:ld,methods:Ci,computed:Ci,beforeCreate:At,created:At,beforeMount:At,mounted:At,beforeUpdate:At,updated:At,beforeDestroy:At,beforeUnmount:At,destroyed:At,unmounted:At,activated:At,deactivated:At,errorCaptured:At,serverPrefetch:At,components:Ci,directives:Ci,watch:Zb,provide:ad,inject:Jb};function ad(n,e){return e?n?function(){return ze(he(n)?n.call(this,this):n,he(e)?e.call(this,this):e)}:e:n}function Jb(n,e){return Ci($c(n),$c(e))}function $c(n){if(ae(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function At(n,e){return n?[...new Set([].concat(n,e))]:e}function Ci(n,e){return n?ze(Object.create(null),n,e):e}function ld(n,e){return n?ae(n)&&ae(e)?[...new Set([...n,...e])]:ze(Object.create(null),vo(n),vo(e??{})):e}function Zb(n,e){if(!n)return e;if(!e)return n;const t=ze(Object.create(null),n);for(const r in e)t[r]=At(n[r],e[r]);return t}function bg(){return{app:null,config:{isNativeTag:i0,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Qb=0;function e_(n,e){return function(r,s=null){he(r)||(r=ze({},r)),s!=null&&!Ne(s)&&(s=null);const i=bg(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:Qb++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:em,get config(){return i.config},set config(c){},use(c,...h){return o.has(c)||(c&&he(c.install)?(o.add(c),c.install(u,...h)):he(c)&&(o.add(c),c(u,...h))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,h){return h?(i.components[c]=h,u):i.components[c]},directive(c,h){return h?(i.directives[c]=h,u):i.directives[c]},mount(c,h,d){if(!l){const f=u._ceVNode||Oe(r,s);return f.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),h&&e?e(f,c):n(f,c,d),l=!0,u._container=c,c.__vue_app__=u,Lo(f.component)}},onUnmount(c){a.push(c)},unmount(){l&&(pn(a,u._instance,16),n(null,u._container),delete u._container.__vue_app__)},provide(c,h){return i.provides[c]=h,u},runWithContext(c){const h=ts;ts=u;try{return c()}finally{ts=h}}};return u}}let ts=null;function Ki(n,e){if(ct){let t=ct.provides;const r=ct.parent&&ct.parent.provides;r===t&&(t=ct.provides=Object.create(r)),t[n]=e}}function $t(n,e,t=!1){const r=ct||ut;if(r||ts){const s=ts?ts._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&n in s)return s[n];if(arguments.length>1)return t&&he(e)?e.call(r&&r.proxy):e}}function _g(){return!!(ct||ut||ts)}const wg={},Sg=()=>Object.create(wg),xg=n=>Object.getPrototypeOf(n)===wg;function t_(n,e,t,r=!1){const s={},i=Sg();n.propsDefaults=Object.create(null),Cg(n,e,s,i);for(const o in n.propsOptions[0])o in s||(s[o]=void 0);t?n.props=r?s:zr(s):n.type.props?n.props=s:n.props=i,n.attrs=i}function n_(n,e,t,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=n,a=Se(s),[l]=n.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=n.vnode.dynamicProps;for(let h=0;h<c.length;h++){let d=c[h];if(kl(n.emitsOptions,d))continue;const f=e[d];if(l)if(Re(i,d))f!==i[d]&&(i[d]=f,u=!0);else{const p=_t(d);s[p]=zc(l,a,p,f,n,!1)}else f!==i[d]&&(i[d]=f,u=!0)}}}else{Cg(n,e,s,i)&&(u=!0);let c;for(const h in a)(!e||!Re(e,h)&&((c=Ut(h))===h||!Re(e,c)))&&(l?t&&(t[h]!==void 0||t[c]!==void 0)&&(s[h]=zc(l,a,h,void 0,n,!0)):delete s[h]);if(i!==a)for(const h in i)(!e||!Re(e,h))&&(delete i[h],u=!0)}u&&Kn(n.attrs,"set","")}function Cg(n,e,t,r){const[s,i]=n.propsOptions;let o=!1,a;if(e)for(let l in e){if(Ls(l))continue;const u=e[l];let c;s&&Re(s,c=_t(l))?!i||!i.includes(c)?t[c]=u:(a||(a={}))[c]=u:kl(n.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=Se(t),u=a||Ae;for(let c=0;c<i.length;c++){const h=i[c];t[h]=zc(s,l,h,u[h],n,!Re(u,h))}}return o}function zc(n,e,t,r,s,i){const o=n[t];if(o!=null){const a=Re(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&he(l)){const{propsDefaults:u}=s;if(t in u)r=u[t];else{const c=as(s);r=u[t]=l.call(null,e),c()}}else r=l;s.ce&&s.ce._setProp(t,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Ut(t))&&(r=!0))}return r}const r_=new WeakMap;function Tg(n,e,t=!1){const r=t?r_:e.propsCache,s=r.get(n);if(s)return s;const i=n.props,o={},a=[];let l=!1;if(!he(n)){const c=h=>{l=!0;const[d,f]=Tg(h,e,!0);ze(o,d),f&&a.push(...f)};!t&&e.mixins.length&&e.mixins.forEach(c),n.extends&&c(n.extends),n.mixins&&n.mixins.forEach(c)}if(!i&&!l)return Ne(n)&&r.set(n,Rs),Rs;if(ae(i))for(let c=0;c<i.length;c++){const h=_t(i[c]);cd(h)&&(o[h]=Ae)}else if(i)for(const c in i){const h=_t(c);if(cd(h)){const d=i[c],f=o[h]=ae(d)||he(d)?{type:d}:ze({},d),p=f.type;let m=!1,b=!0;if(ae(p))for(let _=0;_<p.length;++_){const S=p[_],y=he(S)&&S.name;if(y==="Boolean"){m=!0;break}else y==="String"&&(b=!1)}else m=he(p)&&p.name==="Boolean";f[0]=m,f[1]=b,(m||Re(f,"default"))&&a.push(h)}}const u=[o,a];return Ne(n)&&r.set(n,u),u}function cd(n){return n[0]!=="$"&&!Ls(n)}const Og=n=>n[0]==="_"||n==="$stable",eh=n=>ae(n)?n.map(Ht):[Ht(n)],s_=(n,e,t)=>{if(e._n)return e;const r=Wt((...s)=>eh(e(...s)),t);return r._c=!1,r},Eg=(n,e,t)=>{const r=n._ctx;for(const s in n){if(Og(s))continue;const i=n[s];if(he(i))e[s]=s_(s,i,r);else if(i!=null){const o=eh(i);e[s]=()=>o}}},kg=(n,e)=>{const t=eh(e);n.slots.default=()=>t},Ag=(n,e,t)=>{for(const r in e)(t||r!=="_")&&(n[r]=e[r])},i_=(n,e,t)=>{const r=n.slots=Sg();if(n.vnode.shapeFlag&32){const s=e._;s?(Ag(r,e,t),t&&Sp(r,"_",s,!0)):Eg(e,r)}else e&&kg(n,e)},o_=(n,e,t)=>{const{vnode:r,slots:s}=n;let i=!0,o=Ae;if(r.shapeFlag&32){const a=e._;a?t&&a===1?i=!1:Ag(s,e,t):(i=!e.$stable,Eg(e,s)),o=e}else e&&(kg(n,e),o={default:1});if(i)for(const a in s)!Og(a)&&o[a]==null&&delete s[a]},ft=$g;function Dg(n){return Mg(n)}function Pg(n){return Mg(n,Sb)}function Mg(n,e){const t=xp();t.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:d,setScopeId:f=Sn,insertStaticContent:p}=n,m=(T,O,N,z=null,Y=null,J=null,ne=void 0,te=null,ee=!!O.dynamicChildren)=>{if(T===O)return;T&&!bn(T,O)&&(z=U(T),ke(T,Y,J,!0),T=null),O.patchFlag===-2&&(ee=!1,O.dynamicChildren=null);const{type:Z,ref:fe,shapeFlag:re}=O;switch(Z){case Cr:b(T,O,N,z);break;case st:_(T,O,N,z);break;case ns:T==null&&S(O,N,z,ne);break;case Qe:C(T,O,N,z,Y,J,ne,te,ee);break;default:re&1?w(T,O,N,z,Y,J,ne,te,ee):re&6?E(T,O,N,z,Y,J,ne,te,ee):(re&64||re&128)&&Z.process(T,O,N,z,Y,J,ne,te,ee,q)}fe!=null&&Y&&La(fe,T&&T.ref,J,O||T,!O)},b=(T,O,N,z)=>{if(T==null)r(O.el=a(O.children),N,z);else{const Y=O.el=T.el;O.children!==T.children&&u(Y,O.children)}},_=(T,O,N,z)=>{T==null?r(O.el=l(O.children||""),N,z):O.el=T.el},S=(T,O,N,z)=>{[T.el,T.anchor]=p(T.children,O,N,z,T.el,T.anchor)},y=({el:T,anchor:O},N,z)=>{let Y;for(;T&&T!==O;)Y=d(T),r(T,N,z),T=Y;r(O,N,z)},x=({el:T,anchor:O})=>{let N;for(;T&&T!==O;)N=d(T),s(T),T=N;s(O)},w=(T,O,N,z,Y,J,ne,te,ee)=>{O.type==="svg"?ne="svg":O.type==="math"&&(ne="mathml"),T==null?R(O,N,z,Y,J,ne,te,ee):M(T,O,Y,J,ne,te,ee)},R=(T,O,N,z,Y,J,ne,te)=>{let ee,Z;const{props:fe,shapeFlag:re,transition:ce,dirs:me}=T;if(ee=T.el=o(T.type,J,fe&&fe.is,fe),re&8?c(ee,T.children):re&16&&D(T.children,ee,null,z,Y,lc(T,J),ne,te),me&&Dn(T,null,z,"created"),A(ee,T,T.scopeId,ne,z),fe){for(const Fe in fe)Fe!=="value"&&!Ls(Fe)&&i(ee,Fe,null,fe[Fe],J,z);"value"in fe&&i(ee,"value",null,fe.value,J),(Z=fe.onVnodeBeforeMount)&&Nt(Z,z,T)}me&&Dn(T,null,z,"beforeMount");const Ee=Rg(Y,ce);Ee&&ce.beforeEnter(ee),r(ee,O,N),((Z=fe&&fe.onVnodeMounted)||Ee||me)&&ft(()=>{Z&&Nt(Z,z,T),Ee&&ce.enter(ee),me&&Dn(T,null,z,"mounted")},Y)},A=(T,O,N,z,Y)=>{if(N&&f(T,N),z)for(let J=0;J<z.length;J++)f(T,z[J]);if(Y){let J=Y.subTree;if(O===J||Na(J.type)&&(J.ssContent===O||J.ssFallback===O)){const ne=Y.vnode;A(T,ne,ne.scopeId,ne.slotScopeIds,Y.parent)}}},D=(T,O,N,z,Y,J,ne,te,ee=0)=>{for(let Z=ee;Z<T.length;Z++){const fe=T[Z]=te?br(T[Z]):Ht(T[Z]);m(null,fe,O,N,z,Y,J,ne,te)}},M=(T,O,N,z,Y,J,ne)=>{const te=O.el=T.el;let{patchFlag:ee,dynamicChildren:Z,dirs:fe}=O;ee|=T.patchFlag&16;const re=T.props||Ae,ce=O.props||Ae;let me;if(N&&Br(N,!1),(me=ce.onVnodeBeforeUpdate)&&Nt(me,N,O,T),fe&&Dn(O,T,N,"beforeUpdate"),N&&Br(N,!0),(re.innerHTML&&ce.innerHTML==null||re.textContent&&ce.textContent==null)&&c(te,""),Z?j(T.dynamicChildren,Z,te,N,z,lc(O,Y),J):ne||$(T,O,te,null,N,z,lc(O,Y),J,!1),ee>0){if(ee&16)W(te,re,ce,N,Y);else if(ee&2&&re.class!==ce.class&&i(te,"class",null,ce.class,Y),ee&4&&i(te,"style",re.style,ce.style,Y),ee&8){const Ee=O.dynamicProps;for(let Fe=0;Fe<Ee.length;Fe++){const Me=Ee[Fe],dt=re[Me],We=ce[Me];(We!==dt||Me==="value")&&i(te,Me,dt,We,Y,N)}}ee&1&&T.children!==O.children&&c(te,O.children)}else!ne&&Z==null&&W(te,re,ce,N,Y);((me=ce.onVnodeUpdated)||fe)&&ft(()=>{me&&Nt(me,N,O,T),fe&&Dn(O,T,N,"updated")},z)},j=(T,O,N,z,Y,J,ne)=>{for(let te=0;te<O.length;te++){const ee=T[te],Z=O[te],fe=ee.el&&(ee.type===Qe||!bn(ee,Z)||ee.shapeFlag&70)?h(ee.el):N;m(ee,Z,fe,null,z,Y,J,ne,!0)}},W=(T,O,N,z,Y)=>{if(O!==N){if(O!==Ae)for(const J in O)!Ls(J)&&!(J in N)&&i(T,J,O[J],null,Y,z);for(const J in N){if(Ls(J))continue;const ne=N[J],te=O[J];ne!==te&&J!=="value"&&i(T,J,te,ne,Y,z)}"value"in N&&i(T,"value",O.value,N.value,Y)}},C=(T,O,N,z,Y,J,ne,te,ee)=>{const Z=O.el=T?T.el:a(""),fe=O.anchor=T?T.anchor:a("");let{patchFlag:re,dynamicChildren:ce,slotScopeIds:me}=O;me&&(te=te?te.concat(me):me),T==null?(r(Z,N,z),r(fe,N,z),D(O.children||[],N,fe,Y,J,ne,te,ee)):re>0&&re&64&&ce&&T.dynamicChildren?(j(T.dynamicChildren,ce,N,Y,J,ne,te),(O.key!=null||Y&&O===Y.subTree)&&th(T,O,!0)):$(T,O,N,fe,Y,J,ne,te,ee)},E=(T,O,N,z,Y,J,ne,te,ee)=>{O.slotScopeIds=te,T==null?O.shapeFlag&512?Y.ctx.activate(O,N,z,ne,ee):B(O,N,z,Y,J,ne,ee):K(T,O,ee)},B=(T,O,N,z,Y,J,ne)=>{const te=T.component=Yg(T,z,Y);if(Mo(T)&&(te.ctx.renderer=q),qg(te,!1,ne),te.asyncDep){if(Y&&Y.registerDep(te,I,ne),!T.el){const ee=te.subTree=Oe(st);_(null,ee,O,N)}}else I(te,T,O,N,Y,J,ne)},K=(T,O,N)=>{const z=O.component=T.component;if(p_(T,O,N))if(z.asyncDep&&!z.asyncResolved){G(z,O,N);return}else z.next=O,z.update();else O.el=T.el,z.vnode=O},I=(T,O,N,z,Y,J,ne)=>{const te=()=>{if(T.isMounted){let{next:re,bu:ce,u:me,parent:Ee,vnode:Fe}=T;{const Ot=Fg(T);if(Ot){re&&(re.el=Fe.el,G(T,re,ne)),Ot.asyncDep.then(()=>{T.isUnmounted||te()});return}}let Me=re,dt;Br(T,!1),re?(re.el=Fe.el,G(T,re,ne)):re=Fe,ce&&js(ce),(dt=re.props&&re.props.onVnodeBeforeUpdate)&&Nt(dt,Ee,re,Fe),Br(T,!0);const We=va(T),Tt=T.subTree;T.subTree=We,m(Tt,We,h(Tt.el),U(Tt),T,Y,J),re.el=We.el,Me===null&&nh(T,We.el),me&&ft(me,Y),(dt=re.props&&re.props.onVnodeUpdated)&&ft(()=>Nt(dt,Ee,re,Fe),Y)}else{let re;const{el:ce,props:me}=O,{bm:Ee,m:Fe,parent:Me,root:dt,type:We}=T,Tt=xr(O);if(Br(T,!1),Ee&&js(Ee),!Tt&&(re=me&&me.onVnodeBeforeMount)&&Nt(re,Me,O),Br(T,!0),ce&&xe){const Ot=()=>{T.subTree=va(T),xe(ce,T.subTree,T,Y,null)};Tt&&We.__asyncHydrate?We.__asyncHydrate(ce,T,Ot):Ot()}else{dt.ce&&dt.ce._injectChildStyle(We);const Ot=T.subTree=va(T);m(null,Ot,N,z,T,Y,J),O.el=Ot.el}if(Fe&&ft(Fe,Y),!Tt&&(re=me&&me.onVnodeMounted)){const Ot=O;ft(()=>Nt(re,Me,Ot),Y)}(O.shapeFlag&256||Me&&xr(Me.vnode)&&Me.vnode.shapeFlag&256)&&T.a&&ft(T.a,Y),T.isMounted=!0,O=N=z=null}};T.scope.on();const ee=T.effect=new uo(te);T.scope.off();const Z=T.update=ee.run.bind(ee),fe=T.job=ee.runIfDirty.bind(ee);fe.i=T,fe.id=T.uid,ee.scheduler=()=>zu(fe),Br(T,!0),Z()},G=(T,O,N)=>{O.component=T;const z=T.vnode.props;T.vnode=O,T.next=null,n_(T,O.props,z,N),o_(T,O.children,N),Pr(),Qh(T),Mr()},$=(T,O,N,z,Y,J,ne,te,ee=!1)=>{const Z=T&&T.children,fe=T?T.shapeFlag:0,re=O.children,{patchFlag:ce,shapeFlag:me}=O;if(ce>0){if(ce&128){de(Z,re,N,z,Y,J,ne,te,ee);return}else if(ce&256){se(Z,re,N,z,Y,J,ne,te,ee);return}}me&8?(fe&16&&je(Z,Y,J),re!==Z&&c(N,re)):fe&16?me&16?de(Z,re,N,z,Y,J,ne,te,ee):je(Z,Y,J,!0):(fe&8&&c(N,""),me&16&&D(re,N,z,Y,J,ne,te,ee))},se=(T,O,N,z,Y,J,ne,te,ee)=>{T=T||Rs,O=O||Rs;const Z=T.length,fe=O.length,re=Math.min(Z,fe);let ce;for(ce=0;ce<re;ce++){const me=O[ce]=ee?br(O[ce]):Ht(O[ce]);m(T[ce],me,N,null,Y,J,ne,te,ee)}Z>fe?je(T,Y,J,!0,!1,re):D(O,N,z,Y,J,ne,te,ee,re)},de=(T,O,N,z,Y,J,ne,te,ee)=>{let Z=0;const fe=O.length;let re=T.length-1,ce=fe-1;for(;Z<=re&&Z<=ce;){const me=T[Z],Ee=O[Z]=ee?br(O[Z]):Ht(O[Z]);if(bn(me,Ee))m(me,Ee,N,null,Y,J,ne,te,ee);else break;Z++}for(;Z<=re&&Z<=ce;){const me=T[re],Ee=O[ce]=ee?br(O[ce]):Ht(O[ce]);if(bn(me,Ee))m(me,Ee,N,null,Y,J,ne,te,ee);else break;re--,ce--}if(Z>re){if(Z<=ce){const me=ce+1,Ee=me<fe?O[me].el:z;for(;Z<=ce;)m(null,O[Z]=ee?br(O[Z]):Ht(O[Z]),N,Ee,Y,J,ne,te,ee),Z++}}else if(Z>ce)for(;Z<=re;)ke(T[Z],Y,J,!0),Z++;else{const me=Z,Ee=Z,Fe=new Map;for(Z=Ee;Z<=ce;Z++){const Et=O[Z]=ee?br(O[Z]):Ht(O[Z]);Et.key!=null&&Fe.set(Et.key,Z)}let Me,dt=0;const We=ce-Ee+1;let Tt=!1,Ot=0;const or=new Array(We);for(Z=0;Z<We;Z++)or[Z]=0;for(Z=me;Z<=re;Z++){const Et=T[Z];if(dt>=We){ke(Et,Y,J,!0);continue}let cn;if(Et.key!=null)cn=Fe.get(Et.key);else for(Me=Ee;Me<=ce;Me++)if(or[Me-Ee]===0&&bn(Et,O[Me])){cn=Me;break}cn===void 0?ke(Et,Y,J,!0):(or[cn-Ee]=Z+1,cn>=Ot?Ot=cn:Tt=!0,m(Et,O[cn],N,null,Y,J,ne,te,ee),dt++)}const vs=Tt?a_(or):Rs;for(Me=vs.length-1,Z=We-1;Z>=0;Z--){const Et=Ee+Z,cn=O[Et],nt=Et+1<fe?O[Et+1].el:z;or[Z]===0?m(null,cn,N,nt,Y,J,ne,te,ee):Tt&&(Me<0||Z!==vs[Me]?Te(cn,N,nt,2):Me--)}}},Te=(T,O,N,z,Y=null)=>{const{el:J,type:ne,transition:te,children:ee,shapeFlag:Z}=T;if(Z&6){Te(T.component.subTree,O,N,z);return}if(Z&128){T.suspense.move(O,N,z);return}if(Z&64){ne.move(T,O,N,q);return}if(ne===Qe){r(J,O,N);for(let re=0;re<ee.length;re++)Te(ee[re],O,N,z);r(T.anchor,O,N);return}if(ne===ns){y(T,O,N);return}if(z!==2&&Z&1&&te)if(z===0)te.beforeEnter(J),r(J,O,N),ft(()=>te.enter(J),Y);else{const{leave:re,delayLeave:ce,afterLeave:me}=te,Ee=()=>r(J,O,N),Fe=()=>{re(J,()=>{Ee(),me&&me()})};ce?ce(J,Ee,Fe):Fe()}else r(J,O,N)},ke=(T,O,N,z=!1,Y=!1)=>{const{type:J,props:ne,ref:te,children:ee,dynamicChildren:Z,shapeFlag:fe,patchFlag:re,dirs:ce,cacheIndex:me}=T;if(re===-2&&(Y=!1),te!=null&&La(te,null,N,T,!0),me!=null&&(O.renderCache[me]=void 0),fe&256){O.ctx.deactivate(T);return}const Ee=fe&1&&ce,Fe=!xr(T);let Me;if(Fe&&(Me=ne&&ne.onVnodeBeforeUnmount)&&Nt(Me,O,T),fe&6)pt(T.component,N,z);else{if(fe&128){T.suspense.unmount(N,z);return}Ee&&Dn(T,null,O,"beforeUnmount"),fe&64?T.type.remove(T,O,N,q,z):Z&&!Z.hasOnce&&(J!==Qe||re>0&&re&64)?je(Z,O,N,!1,!0):(J===Qe&&re&384||!Y&&fe&16)&&je(ee,O,N),z&&Ge(T)}(Fe&&(Me=ne&&ne.onVnodeUnmounted)||Ee)&&ft(()=>{Me&&Nt(Me,O,T),Ee&&Dn(T,null,O,"unmounted")},N)},Ge=T=>{const{type:O,el:N,anchor:z,transition:Y}=T;if(O===Qe){Ve(N,z);return}if(O===ns){x(T);return}const J=()=>{s(N),Y&&!Y.persisted&&Y.afterLeave&&Y.afterLeave()};if(T.shapeFlag&1&&Y&&!Y.persisted){const{leave:ne,delayLeave:te}=Y,ee=()=>ne(N,J);te?te(T.el,J,ee):ee()}else J()},Ve=(T,O)=>{let N;for(;T!==O;)N=d(T),s(T),T=N;s(O)},pt=(T,O,N)=>{const{bum:z,scope:Y,job:J,subTree:ne,um:te,m:ee,a:Z}=T;Ba(ee),Ba(Z),z&&js(z),Y.stop(),J&&(J.flags|=8,ke(ne,T,O,N)),te&&ft(te,O),ft(()=>{T.isUnmounted=!0},O),O&&O.pendingBranch&&!O.isUnmounted&&T.asyncDep&&!T.asyncResolved&&T.suspenseId===O.pendingId&&(O.deps--,O.deps===0&&O.resolve())},je=(T,O,N,z=!1,Y=!1,J=0)=>{for(let ne=J;ne<T.length;ne++)ke(T[ne],O,N,z,Y)},U=T=>{if(T.shapeFlag&6)return U(T.component.subTree);if(T.shapeFlag&128)return T.suspense.next();const O=d(T.anchor||T.el),N=O&&O[Zp];return N?d(N):O};let ie=!1;const X=(T,O,N)=>{T==null?O._vnode&&ke(O._vnode,null,null,!0):m(O._vnode||null,T,O,null,null,null,N),O._vnode=T,ie||(ie=!0,Qh(),Fa(),ie=!1)},q={p:m,um:ke,m:Te,r:Ge,mt:B,mc:D,pc:$,pbc:j,n:U,o:n};let ue,xe;return e&&([ue,xe]=e(q)),{render:X,hydrate:ue,createApp:e_(X,ue)}}function lc({type:n,props:e},t){return t==="svg"&&n==="foreignObject"||t==="mathml"&&n==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function Br({effect:n,job:e},t){t?(n.flags|=32,e.flags|=4):(n.flags&=-33,e.flags&=-5)}function Rg(n,e){return(!n||n&&!n.pendingBranch)&&e&&!e.persisted}function th(n,e,t=!1){const r=n.children,s=e.children;if(ae(r)&&ae(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=br(s[i]),a.el=o.el),!t&&a.patchFlag!==-2&&th(o,a)),a.type===Cr&&(a.el=o.el)}}function a_(n){const e=n.slice(),t=[0];let r,s,i,o,a;const l=n.length;for(r=0;r<l;r++){const u=n[r];if(u!==0){if(s=t[t.length-1],n[s]<u){e[r]=s,t.push(r);continue}for(i=0,o=t.length-1;i<o;)a=i+o>>1,n[t[a]]<u?i=a+1:o=a;u<n[t[i]]&&(i>0&&(e[r]=t[i-1]),t[i]=r)}}for(i=t.length,o=t[i-1];i-- >0;)t[i]=o,o=e[o];return t}function Fg(n){const e=n.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Fg(e)}function Ba(n){if(n)for(let e=0;e<n.length;e++)n[e].flags|=8}const Lg=Symbol.for("v-scx"),jg=()=>$t(Lg);function Ig(n,e){return Ro(n,null,e)}function Bg(n,e){return Ro(n,null,{flush:"post"})}function Ng(n,e){return Ro(n,null,{flush:"sync"})}function $e(n,e,t){return Ro(n,e,t)}function Ro(n,e,t=Ae){const{immediate:r,deep:s,flush:i,once:o}=t,a=ze({},t);let l;if(Fo)if(i==="sync"){const d=jg();l=d.__watcherHandles||(d.__watcherHandles=[])}else if(!e||r)a.once=!0;else{const d=()=>{};return d.stop=Sn,d.resume=Sn,d.pause=Sn,d}const u=ct;a.call=(d,f,p)=>pn(d,u,f,p);let c=!1;i==="post"?a.scheduler=d=>{ft(d,u&&u.suspense)}:i!=="sync"&&(c=!0,a.scheduler=(d,f)=>{f?d():zu(d)}),a.augmentJob=d=>{e&&(d.flags|=4),c&&(d.flags|=2,u&&(d.id=u.uid,d.i=u))};const h=rb(n,e,a);return l&&l.push(h),h}function l_(n,e,t){const r=this.proxy,s=Xe(n)?n.includes(".")?Vg(r,n):()=>r[n]:n.bind(r,r);let i;he(e)?i=e:(i=e.handler,t=e);const o=as(this),a=Ro(s,i.bind(r),t);return o(),a}function Vg(n,e){const t=e.split(".");return()=>{let r=n;for(let s=0;s<t.length&&r;s++)r=r[t[s]];return r}}function c_(n,e,t=Ae){const r=Ct(),s=_t(e),i=Ut(e),o=Hg(n,e),a=Wp((l,u)=>{let c,h=Ae,d;return Ng(()=>{const f=n[e];Mt(c,f)&&(c=f,u())}),{get(){return l(),t.get?t.get(c):c},set(f){const p=t.set?t.set(f):f;if(!Mt(p,c)&&!(h!==Ae&&Mt(f,h)))return;const m=r.vnode.props;m&&(e in m||s in m||i in m)&&(`onUpdate:${e}`in m||`onUpdate:${s}`in m||`onUpdate:${i}`in m)||(c=f,u()),r.emit(`update:${e}`,p),Mt(f,p)&&Mt(f,h)&&!Mt(p,d)&&u(),h=f,d=p}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||Ae:a,done:!1}:{done:!0}}}},a}const Hg=(n,e)=>e==="modelValue"||e==="model-value"?n.modelModifiers:n[`${e}Modifiers`]||n[`${_t(e)}Modifiers`]||n[`${Ut(e)}Modifiers`];function u_(n,e,...t){if(n.isUnmounted)return;const r=n.vnode.props||Ae;let s=t;const i=e.startsWith("update:"),o=i&&Hg(r,e.slice(7));o&&(o.trim&&(s=t.map(c=>Xe(c)?c.trim():c)),o.number&&(s=t.map(Aa)));let a,l=r[a=Wi(e)]||r[a=Wi(_t(e))];!l&&i&&(l=r[a=Wi(Ut(e))]),l&&pn(l,n,6,s);const u=r[a+"Once"];if(u){if(!n.emitted)n.emitted={};else if(n.emitted[a])return;n.emitted[a]=!0,pn(u,n,6,s)}}function Ug(n,e,t=!1){const r=e.emitsCache,s=r.get(n);if(s!==void 0)return s;const i=n.emits;let o={},a=!1;if(!he(n)){const l=u=>{const c=Ug(u,e,!0);c&&(a=!0,ze(o,c))};!t&&e.mixins.length&&e.mixins.forEach(l),n.extends&&l(n.extends),n.mixins&&n.mixins.forEach(l)}return!i&&!a?(Ne(n)&&r.set(n,null),null):(ae(i)?i.forEach(l=>o[l]=null):ze(o,i),Ne(n)&&r.set(n,o),o)}function kl(n,e){return!n||!Ao(e)?!1:(e=e.slice(2).replace(/Once$/,""),Re(n,e[0].toLowerCase()+e.slice(1))||Re(n,Ut(e))||Re(n,e))}function va(n){const{type:e,vnode:t,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:d,setupState:f,ctx:p,inheritAttrs:m}=n,b=mo(n);let _,S;try{if(t.shapeFlag&4){const x=s||r,w=x;_=Ht(u.call(w,x,c,h,f,d,p)),S=a}else{const x=e;_=Ht(x.length>1?x(h,{attrs:a,slots:o,emit:l}):x(h,null)),S=e.props?a:d_(a)}}catch(x){qi.length=0,ps(x,n,1),_=Oe(st)}let y=_;if(S&&m!==!1){const x=Object.keys(S),{shapeFlag:w}=y;x.length&&w&7&&(i&&x.some(Pu)&&(S=f_(S,i)),y=jn(y,S,!1,!0))}return t.dirs&&(y=jn(y,null,!1,!0),y.dirs=y.dirs?y.dirs.concat(t.dirs):t.dirs),t.transition&&Zn(y,t.transition),_=y,mo(b),_}function h_(n,e=!0){let t;for(let r=0;r<n.length;r++){const s=n[r];if(Er(s)){if(s.type!==st||s.children==="v-if"){if(t)return;t=s}}else return}return t}const d_=n=>{let e;for(const t in n)(t==="class"||t==="style"||Ao(t))&&((e||(e={}))[t]=n[t]);return e},f_=(n,e)=>{const t={};for(const r in n)(!Pu(r)||!(r.slice(9)in e))&&(t[r]=n[r]);return t};function p_(n,e,t){const{props:r,children:s,component:i}=n,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return r?ud(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const d=c[h];if(o[d]!==r[d]&&!kl(u,d))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?ud(r,o,u):!0:!!o;return!1}function ud(n,e,t){const r=Object.keys(e);if(r.length!==Object.keys(n).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==n[i]&&!kl(t,i))return!0}return!1}function nh({vnode:n,parent:e},t){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===n&&(r.el=n.el),r===n)(n=e.vnode).el=t,e=e.parent;else break}}const Na=n=>n.__isSuspense;let Xc=0;const g_={name:"Suspense",__isSuspense:!0,process(n,e,t,r,s,i,o,a,l,u){if(n==null)v_(e,t,r,s,i,o,a,l,u);else{if(i&&i.deps>0&&!n.suspense.isInFallback){e.suspense=n.suspense,e.suspense.vnode=e,e.el=n.el;return}y_(n,e,t,r,s,o,a,l,u)}},hydrate:b_,normalize:__},m_=g_;function yo(n,e){const t=n.props&&n.props[e];he(t)&&t()}function v_(n,e,t,r,s,i,o,a,l){const{p:u,o:{createElement:c}}=l,h=c("div"),d=n.suspense=Wg(n,s,r,e,h,t,i,o,a,l);u(null,d.pendingBranch=n.ssContent,h,null,r,d,i,o),d.deps>0?(yo(n,"onPending"),yo(n,"onFallback"),u(null,n.ssFallback,e,t,r,null,i,o),Bs(d,n.ssFallback)):d.resolve(!1,!0)}function y_(n,e,t,r,s,i,o,a,{p:l,um:u,o:{createElement:c}}){const h=e.suspense=n.suspense;h.vnode=e,e.el=n.el;const d=e.ssContent,f=e.ssFallback,{activeBranch:p,pendingBranch:m,isInFallback:b,isHydrating:_}=h;if(m)h.pendingBranch=d,bn(d,m)?(l(m,d,h.hiddenContainer,null,s,h,i,o,a),h.deps<=0?h.resolve():b&&(_||(l(p,f,t,r,s,null,i,o,a),Bs(h,f)))):(h.pendingId=Xc++,_?(h.isHydrating=!1,h.activeBranch=m):u(m,s,h),h.deps=0,h.effects.length=0,h.hiddenContainer=c("div"),b?(l(null,d,h.hiddenContainer,null,s,h,i,o,a),h.deps<=0?h.resolve():(l(p,f,t,r,s,null,i,o,a),Bs(h,f))):p&&bn(d,p)?(l(p,d,t,r,s,h,i,o,a),h.resolve(!0)):(l(null,d,h.hiddenContainer,null,s,h,i,o,a),h.deps<=0&&h.resolve()));else if(p&&bn(d,p))l(p,d,t,r,s,h,i,o,a),Bs(h,d);else if(yo(e,"onPending"),h.pendingBranch=d,d.shapeFlag&512?h.pendingId=d.component.suspenseId:h.pendingId=Xc++,l(null,d,h.hiddenContainer,null,s,h,i,o,a),h.deps<=0)h.resolve();else{const{timeout:S,pendingId:y}=h;S>0?setTimeout(()=>{h.pendingId===y&&h.fallback(f)},S):S===0&&h.fallback(f)}}function Wg(n,e,t,r,s,i,o,a,l,u,c=!1){const{p:h,m:d,um:f,n:p,o:{parentNode:m,remove:b}}=u;let _;const S=w_(n);S&&e&&e.pendingBranch&&(_=e.pendingId,e.deps++);const y=n.props?Da(n.props.timeout):void 0,x=i,w={vnode:n,parent:e,parentComponent:t,namespace:o,container:r,hiddenContainer:s,deps:0,pendingId:Xc++,timeout:typeof y=="number"?y:-1,activeBranch:null,pendingBranch:null,isInFallback:!c,isHydrating:c,isUnmounted:!1,effects:[],resolve(R=!1,A=!1){const{vnode:D,activeBranch:M,pendingBranch:j,pendingId:W,effects:C,parentComponent:E,container:B}=w;let K=!1;w.isHydrating?w.isHydrating=!1:R||(K=M&&j.transition&&j.transition.mode==="out-in",K&&(M.transition.afterLeave=()=>{W===w.pendingId&&(d(j,B,i===x?p(M):i,0),Ra(C))}),M&&(m(M.el)===B&&(i=p(M)),f(M,E,w,!0)),K||d(j,B,i,0)),Bs(w,j),w.pendingBranch=null,w.isInFallback=!1;let I=w.parent,G=!1;for(;I;){if(I.pendingBranch){I.effects.push(...C),G=!0;break}I=I.parent}!G&&!K&&Ra(C),w.effects=[],S&&e&&e.pendingBranch&&_===e.pendingId&&(e.deps--,e.deps===0&&!A&&e.resolve()),yo(D,"onResolve")},fallback(R){if(!w.pendingBranch)return;const{vnode:A,activeBranch:D,parentComponent:M,container:j,namespace:W}=w;yo(A,"onFallback");const C=p(D),E=()=>{w.isInFallback&&(h(null,R,j,C,M,null,W,a,l),Bs(w,R))},B=R.transition&&R.transition.mode==="out-in";B&&(D.transition.afterLeave=E),w.isInFallback=!0,f(D,M,null,!0),B||E()},move(R,A,D){w.activeBranch&&d(w.activeBranch,R,A,D),w.container=R},next(){return w.activeBranch&&p(w.activeBranch)},registerDep(R,A,D){const M=!!w.pendingBranch;M&&w.deps++;const j=R.vnode.el;R.asyncDep.catch(W=>{ps(W,R,0)}).then(W=>{if(R.isUnmounted||w.isUnmounted||w.pendingId!==R.suspenseId)return;R.asyncResolved=!0;const{vnode:C}=R;qc(R,W,!1),j&&(C.el=j);const E=!j&&R.subTree.el;A(R,C,m(j||R.subTree.el),j?null:p(R.subTree),w,o,D),E&&b(E),nh(R,C.el),M&&--w.deps===0&&w.resolve()})},unmount(R,A){w.isUnmounted=!0,w.activeBranch&&f(w.activeBranch,t,R,A),w.pendingBranch&&f(w.pendingBranch,t,R,A)}};return w}function b_(n,e,t,r,s,i,o,a,l){const u=e.suspense=Wg(e,r,t,n.parentNode,document.createElement("div"),null,s,i,o,a,!0),c=l(n,u.pendingBranch=e.ssContent,t,u,i,o);return u.deps===0&&u.resolve(!1,!0),c}function __(n){const{shapeFlag:e,children:t}=n,r=e&32;n.ssContent=hd(r?t.default:t),n.ssFallback=r?hd(t.fallback):Oe(st)}function hd(n){let e;if(he(n)){const t=os&&n._c;t&&(n._d=!1,ye()),n=n(),t&&(n._d=!0,e=bt,zg())}return ae(n)&&(n=h_(n)),n=Ht(n),e&&!n.dynamicChildren&&(n.dynamicChildren=e.filter(t=>t!==n)),n}function $g(n,e){e&&e.pendingBranch?ae(n)?e.effects.push(...n):e.effects.push(n):Ra(n)}function Bs(n,e){n.activeBranch=e;const{vnode:t,parentComponent:r}=n;let s=e.el;for(;!s&&e.component;)e=e.component.subTree,s=e.el;t.el=s,r&&r.subTree===t&&(r.vnode.el=s,nh(r,s))}function w_(n){const e=n.props&&n.props.suspensible;return e!=null&&e!==!1}const Qe=Symbol.for("v-fgt"),Cr=Symbol.for("v-txt"),st=Symbol.for("v-cmt"),ns=Symbol.for("v-stc"),qi=[];let bt=null;function ye(n=!1){qi.push(bt=n?null:[])}function zg(){qi.pop(),bt=qi[qi.length-1]||null}let os=1;function Gc(n){os+=n,n<0&&bt&&(bt.hasOnce=!0)}function Xg(n){return n.dynamicChildren=os>0?bt||Rs:null,zg(),os>0&&bt&&bt.push(n),n}function Ue(n,e,t,r,s,i){return Xg(pe(n,e,t,r,s,i,!0))}function wt(n,e,t,r,s){return Xg(Oe(n,e,t,r,s,!0))}function Er(n){return n?n.__v_isVNode===!0:!1}function bn(n,e){return n.type===e.type&&n.key===e.key}function S_(n){}const Gg=({key:n})=>n??null,ya=({ref:n,ref_key:e,ref_for:t})=>(typeof n=="number"&&(n=""+n),n!=null?Xe(n)||Ye(n)||he(n)?{i:ut,r:n,k:e,f:!!t}:n:null);function pe(n,e=null,t=null,r=0,s=null,i=n===Qe?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&Gg(e),ref:e&&ya(e),scopeId:Sl,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:ut};return a?(rh(l,t),i&128&&n.normalize(l)):t&&(l.shapeFlag|=Xe(t)?8:16),os>0&&!o&&bt&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&bt.push(l),l}const Oe=x_;function x_(n,e=null,t=null,r=0,s=null,i=!1){if((!n||n===pg)&&(n=st),Er(n)){const a=jn(n,e,!0);return t&&rh(a,t),os>0&&!i&&bt&&(a.shapeFlag&6?bt[bt.indexOf(n)]=a:bt.push(a)),a.patchFlag=-2,a}if(P_(n)&&(n=n.__vccOpts),e){e=en(e);let{class:a,style:l}=e;a&&!Xe(a)&&(e.class=lt(a)),Ne(l)&&(wl(l)&&!ae(l)&&(l=ze({},l)),e.style=Zs(l))}const o=Xe(n)?1:Na(n)?128:Qp(n)?64:Ne(n)?4:he(n)?2:0;return pe(n,e,t,r,s,o,i,!0)}function en(n){return n?wl(n)||xg(n)?ze({},n):n:null}function jn(n,e,t=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:l}=n,u=e?wr(s||{},e):s,c={__v_isVNode:!0,__v_skip:!0,type:n.type,props:u,key:u&&Gg(u),ref:e&&e.ref?t&&i?ae(i)?i.concat(ya(e)):[i,ya(e)]:ya(e):i,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:a,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==Qe?o===-1?16:o|16:o,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:l,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&jn(n.ssContent),ssFallback:n.ssFallback&&jn(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return l&&r&&Zn(c,l.clone(c)),c}function Qn(n=" ",e=0){return Oe(Cr,null,n,e)}function C_(n,e){const t=Oe(ns,null,n);return t.staticCount=e,t}function nn(n="",e=!1){return e?(ye(),wt(st,null,n)):Oe(st,null,n)}function Ht(n){return n==null||typeof n=="boolean"?Oe(st):ae(n)?Oe(Qe,null,n.slice()):typeof n=="object"?br(n):Oe(Cr,null,String(n))}function br(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:jn(n)}function rh(n,e){let t=0;const{shapeFlag:r}=n;if(e==null)e=null;else if(ae(e))t=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),rh(n,s()),s._c&&(s._d=!0));return}else{t=32;const s=e._;!s&&!xg(e)?e._ctx=ut:s===3&&ut&&(ut.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else he(e)?(e={default:e,_ctx:ut},t=32):(e=String(e),r&64?(t=16,e=[Qn(e)]):t=8);n.children=e,n.shapeFlag|=t}function wr(...n){const e={};for(let t=0;t<n.length;t++){const r=n[t];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=lt([e.class,r.class]));else if(s==="style")e.style=Zs([e.style,r.style]);else if(Ao(s)){const i=e[s],o=r[s];o&&i!==o&&!(ae(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function Nt(n,e,t,r=null){pn(n,e,7,[t,r])}const T_=bg();let O_=0;function Yg(n,e,t){const r=n.type,s=(e?e.appContext:n.appContext)||T_,i={uid:O_++,vnode:n,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Lu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Tg(r,s),emitsOptions:Ug(r,s),emit:null,emitted:null,propsDefaults:Ae,inheritAttrs:r.inheritAttrs,ctx:Ae,data:Ae,props:Ae,attrs:Ae,slots:Ae,refs:Ae,setupState:Ae,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=u_.bind(null,i),n.ce&&n.ce(i),i}let ct=null;const Ct=()=>ct||ut;let Va,Yc;{const n=xp(),e=(t,r)=>{let s;return(s=n[t])||(s=n[t]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};Va=e("__VUE_INSTANCE_SETTERS__",t=>ct=t),Yc=e("__VUE_SSR_SETTERS__",t=>Fo=t)}const as=n=>{const e=ct;return Va(n),n.scope.on(),()=>{n.scope.off(),Va(e)}},Kc=()=>{ct&&ct.scope.off(),Va(null)};function Kg(n){return n.vnode.shapeFlag&4}let Fo=!1;function qg(n,e=!1,t=!1){e&&Yc(e);const{props:r,children:s}=n.vnode,i=Kg(n);t_(n,r,i,e),i_(n,s,t);const o=i?E_(n,e):void 0;return e&&Yc(!1),o}function E_(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,Uc);const{setup:r}=t;if(r){const s=n.setupContext=r.length>1?Zg(n):null,i=as(n);Pr();const o=ti(r,n,0,[n.props,s]);if(Mr(),i(),Ru(o)){if(xr(n)||Yu(n),o.then(Kc,Kc),e)return o.then(a=>{qc(n,a,e)}).catch(a=>{ps(a,n,0)});n.asyncDep=o}else qc(n,o,e)}else Jg(n,e)}function qc(n,e,t){he(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:Ne(e)&&(n.setupState=Wu(e)),Jg(n,t)}let Ha,Jc;function k_(n){Ha=n,Jc=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,Lb))}}const A_=()=>!Ha;function Jg(n,e,t){const r=n.type;if(!n.render){if(!e&&Ha&&!r.render){const s=r.template||Qu(n).template;if(s){const{isCustomElement:i,compilerOptions:o}=n.appContext.config,{delimiters:a,compilerOptions:l}=r,u=ze(ze({isCustomElement:i,delimiters:a},o),l);r.render=Ha(s,u)}}n.render=r.render||Sn,Jc&&Jc(n)}{const s=as(n);Pr();try{Yb(n)}finally{Mr(),s()}}}const D_={get(n,e){return xt(n,"get",""),n[e]}};function Zg(n){const e=t=>{n.exposed=t||{}};return{attrs:new Proxy(n.attrs,D_),slots:n.slots,emit:n.emit,expose:e}}function Lo(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(Wu(ei(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in Yi)return Yi[t](n)},has(e,t){return t in e||t in Yi}})):n.proxy}function Zc(n,e=!0){return he(n)?n.displayName||n.name:n.name||e&&n.__name}function P_(n){return he(n)&&"__vccOpts"in n}const De=(n,e)=>Q0(n,e,Fo);function Al(n,e,t){const r=arguments.length;return r===2?Ne(e)&&!ae(e)?Er(e)?Oe(n,null,[e]):Oe(n,e):Oe(n,null,e):(r>3?t=Array.prototype.slice.call(arguments,2):r===3&&Er(t)&&(t=[t]),Oe(n,e,t))}function M_(){}function R_(n,e,t,r){const s=t[r];if(s&&Qg(s,n))return s;const i=e();return i.memo=n.slice(),i.cacheIndex=r,t[r]=i}function Qg(n,e){const t=n.memo;if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(Mt(t[r],e[r]))return!1;return os>0&&bt&&bt.push(n),!0}const em="3.5.6",F_=Sn,L_=lb,j_=Es,I_=Jp,B_={createComponentInstance:Yg,setupComponent:qg,renderComponentRoot:va,setCurrentRenderingInstance:mo,isVNode:Er,normalizeVNode:Ht,getComponentPublicInstance:Lo,ensureValidVNode:Zu,pushWarningContext:sb,popWarningContext:ib},N_=B_,V_=null,H_=null,U_=null;/**
* @vue/runtime-dom v3.5.6
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Qc;const dd=typeof window<"u"&&window.trustedTypes;if(dd)try{Qc=dd.createPolicy("vue",{createHTML:n=>n})}catch{}const tm=Qc?n=>Qc.createHTML(n):n=>n,W_="http://www.w3.org/2000/svg",$_="http://www.w3.org/1998/Math/MathML",Un=typeof document<"u"?document:null,fd=Un&&Un.createElement("template"),z_={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,r)=>{const s=e==="svg"?Un.createElementNS(W_,n):e==="mathml"?Un.createElementNS($_,n):t?Un.createElement(n,{is:t}):Un.createElement(n);return n==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:n=>Un.createTextNode(n),createComment:n=>Un.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>Un.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},insertStaticContent(n,e,t,r,s,i){const o=t?t.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),t),!(s===i||!(s=s.nextSibling)););else{fd.innerHTML=tm(r==="svg"?`<svg>${n}</svg>`:r==="mathml"?`<math>${n}</math>`:n);const a=fd.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,t)}return[o?o.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},lr="transition",mi="animation",$s=Symbol("_vtc"),nm={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},rm=ze({},Gu,nm),X_=n=>(n.displayName="Transition",n.props=rm,n),zs=X_((n,{slots:e})=>Al(sg,sm(n),e)),Nr=(n,e=[])=>{ae(n)?n.forEach(t=>t(...e)):n&&n(...e)},pd=n=>n?ae(n)?n.some(e=>e.length>1):n.length>1:!1;function sm(n){const e={};for(const C in n)C in nm||(e[C]=n[C]);if(n.css===!1)return e;const{name:t="v",type:r,duration:s,enterFromClass:i=`${t}-enter-from`,enterActiveClass:o=`${t}-enter-active`,enterToClass:a=`${t}-enter-to`,appearFromClass:l=i,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:h=`${t}-leave-from`,leaveActiveClass:d=`${t}-leave-active`,leaveToClass:f=`${t}-leave-to`}=n,p=G_(s),m=p&&p[0],b=p&&p[1],{onBeforeEnter:_,onEnter:S,onEnterCancelled:y,onLeave:x,onLeaveCancelled:w,onBeforeAppear:R=_,onAppear:A=S,onAppearCancelled:D=y}=e,M=(C,E,B)=>{fr(C,E?c:a),fr(C,E?u:o),B&&B()},j=(C,E)=>{C._isLeaving=!1,fr(C,h),fr(C,f),fr(C,d),E&&E()},W=C=>(E,B)=>{const K=C?A:S,I=()=>M(E,C,B);Nr(K,[E,I]),gd(()=>{fr(E,C?l:i),Vn(E,C?c:a),pd(K)||md(E,r,m,I)})};return ze(e,{onBeforeEnter(C){Nr(_,[C]),Vn(C,i),Vn(C,o)},onBeforeAppear(C){Nr(R,[C]),Vn(C,l),Vn(C,u)},onEnter:W(!1),onAppear:W(!0),onLeave(C,E){C._isLeaving=!0;const B=()=>j(C,E);Vn(C,h),Vn(C,d),om(),gd(()=>{C._isLeaving&&(fr(C,h),Vn(C,f),pd(x)||md(C,r,b,B))}),Nr(x,[C,B])},onEnterCancelled(C){M(C,!1),Nr(y,[C])},onAppearCancelled(C){M(C,!0),Nr(D,[C])},onLeaveCancelled(C){j(C),Nr(w,[C])}})}function G_(n){if(n==null)return null;if(Ne(n))return[cc(n.enter),cc(n.leave)];{const e=cc(n);return[e,e]}}function cc(n){return Da(n)}function Vn(n,e){e.split(/\s+/).forEach(t=>t&&n.classList.add(t)),(n[$s]||(n[$s]=new Set)).add(e)}function fr(n,e){e.split(/\s+/).forEach(r=>r&&n.classList.remove(r));const t=n[$s];t&&(t.delete(e),t.size||(n[$s]=void 0))}function gd(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let Y_=0;function md(n,e,t,r){const s=n._endId=++Y_,i=()=>{s===n._endId&&r()};if(t)return setTimeout(i,t);const{type:o,timeout:a,propCount:l}=im(n,e);if(!o)return r();const u=o+"end";let c=0;const h=()=>{n.removeEventListener(u,d),i()},d=f=>{f.target===n&&++c>=l&&h()};setTimeout(()=>{c<l&&h()},a+1),n.addEventListener(u,d)}function im(n,e){const t=window.getComputedStyle(n),r=p=>(t[p]||"").split(", "),s=r(`${lr}Delay`),i=r(`${lr}Duration`),o=vd(s,i),a=r(`${mi}Delay`),l=r(`${mi}Duration`),u=vd(a,l);let c=null,h=0,d=0;e===lr?o>0&&(c=lr,h=o,d=i.length):e===mi?u>0&&(c=mi,h=u,d=l.length):(h=Math.max(o,u),c=h>0?o>u?lr:mi:null,d=c?c===lr?i.length:l.length:0);const f=c===lr&&/\b(transform|all)(,|$)/.test(r(`${lr}Property`).toString());return{type:c,timeout:h,propCount:d,hasTransform:f}}function vd(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max(...e.map((t,r)=>yd(t)+yd(n[r])))}function yd(n){return n==="auto"?0:Number(n.slice(0,-1).replace(",","."))*1e3}function om(){return document.body.offsetHeight}function K_(n,e,t){const r=n[$s];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}const Ua=Symbol("_vod"),am=Symbol("_vsh"),rs={beforeMount(n,{value:e},{transition:t}){n[Ua]=n.style.display==="none"?"":n.style.display,t&&e?t.beforeEnter(n):vi(n,e)},mounted(n,{value:e},{transition:t}){t&&e&&t.enter(n)},updated(n,{value:e,oldValue:t},{transition:r}){!e!=!t&&(r?e?(r.beforeEnter(n),vi(n,!0),r.enter(n)):r.leave(n,()=>{vi(n,!1)}):vi(n,e))},beforeUnmount(n,{value:e}){vi(n,e)}};function vi(n,e){n.style.display=e?n[Ua]:"none",n[am]=!e}function q_(){rs.getSSRProps=({value:n})=>{if(!n)return{style:{display:"none"}}}}const lm=Symbol("");function cm(n){const e=Ct();if(!e)return;const t=e.ut=(s=n(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(i=>Wa(i,s))},r=()=>{const s=n(e.proxy);e.ce?Wa(e.ce,s):eu(e.subTree,s),t(s)};Ku(()=>{Bg(r)}),rr(()=>{const s=new MutationObserver(r);s.observe(e.subTree.el.parentNode,{childList:!0}),Ol(()=>s.disconnect())})}function eu(n,e){if(n.shapeFlag&128){const t=n.suspense;n=t.activeBranch,t.pendingBranch&&!t.isHydrating&&t.effects.push(()=>{eu(t.activeBranch,e)})}for(;n.component;)n=n.component.subTree;if(n.shapeFlag&1&&n.el)Wa(n.el,e);else if(n.type===Qe)n.children.forEach(t=>eu(t,e));else if(n.type===ns){let{el:t,anchor:r}=n;for(;t&&(Wa(t,e),t!==r);)t=t.nextSibling}}function Wa(n,e){if(n.nodeType===1){const t=n.style;let r="";for(const s in e)t.setProperty(`--${s}`,e[s]),r+=`--${s}: ${e[s]};`;t[lm]=r}}const J_=/(^|;)\s*display\s*:/;function Z_(n,e,t){const r=n.style,s=Xe(t);let i=!1;if(t&&!s){if(e)if(Xe(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();t[a]==null&&ba(r,a,"")}else for(const o in e)t[o]==null&&ba(r,o,"");for(const o in t)o==="display"&&(i=!0),ba(r,o,t[o])}else if(s){if(e!==t){const o=r[lm];o&&(t+=";"+o),r.cssText=t,i=J_.test(t)}}else e&&n.removeAttribute("style");Ua in n&&(n[Ua]=i?r.display:"",n[am]&&(r.display="none"))}const bd=/\s*!important$/;function ba(n,e,t){if(ae(t))t.forEach(r=>ba(n,e,r));else if(t==null&&(t=""),e.startsWith("--"))n.setProperty(e,t);else{const r=Q_(n,e);bd.test(t)?n.setProperty(Ut(r),t.replace(bd,""),"important"):n[r]=t}}const _d=["Webkit","Moz","ms"],uc={};function Q_(n,e){const t=uc[e];if(t)return t;let r=_t(e);if(r!=="filter"&&r in n)return uc[e]=r;r=Do(r);for(let s=0;s<_d.length;s++){const i=_d[s]+r;if(i in n)return uc[e]=i}return e}const wd="http://www.w3.org/1999/xlink";function Sd(n,e,t,r,s,i=y0(e)){r&&e.startsWith("xlink:")?t==null?n.removeAttributeNS(wd,e.slice(6,e.length)):n.setAttributeNS(wd,e,t):t==null||i&&!Cp(t)?n.removeAttribute(e):n.setAttribute(e,i?"":Fn(t)?String(t):t)}function ew(n,e,t,r){if(e==="innerHTML"||e==="textContent"){t!=null&&(n[e]=e==="innerHTML"?tm(t):t);return}const s=n.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const o=s==="OPTION"?n.getAttribute("value")||"":n.value,a=t==null?n.type==="checkbox"?"on":"":String(t);(o!==a||!("_value"in n))&&(n.value=a),t==null&&n.removeAttribute(e),n._value=t;return}let i=!1;if(t===""||t==null){const o=typeof n[e];o==="boolean"?t=Cp(t):t==null&&o==="string"?(t="",i=!0):o==="number"&&(t=0,i=!0)}try{n[e]=t}catch{}i&&n.removeAttribute(e)}function Xn(n,e,t,r){n.addEventListener(e,t,r)}function tw(n,e,t,r){n.removeEventListener(e,t,r)}const xd=Symbol("_vei");function nw(n,e,t,r,s=null){const i=n[xd]||(n[xd]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=rw(e);if(r){const u=i[e]=ow(r,s);Xn(n,a,u,l)}else o&&(tw(n,a,o,l),i[e]=void 0)}}const Cd=/(?:Once|Passive|Capture)$/;function rw(n){let e;if(Cd.test(n)){e={};let r;for(;r=n.match(Cd);)n=n.slice(0,n.length-r[0].length),e[r[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):Ut(n.slice(2)),e]}let hc=0;const sw=Promise.resolve(),iw=()=>hc||(sw.then(()=>hc=0),hc=Date.now());function ow(n,e){const t=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=t.attached)return;pn(aw(r,t.value),e,5,[r])};return t.value=n,t.attached=iw(),t}function aw(n,e){if(ae(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const Td=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,lw=(n,e,t,r,s,i)=>{const o=s==="svg";e==="class"?K_(n,r,o):e==="style"?Z_(n,t,r):Ao(e)?Pu(e)||nw(n,e,t,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):cw(n,e,r,o))?(ew(n,e,r),!n.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Sd(n,e,r,o,i,e!=="value")):(e==="true-value"?n._trueValue=r:e==="false-value"&&(n._falseValue=r),Sd(n,e,r,o))};function cw(n,e,t,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in n&&Td(e)&&he(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=n.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Td(e)&&Xe(t)?!1:!!(e in n||n._isVueCE&&(/[A-Z]/.test(e)||!Xe(t)))}const Od={};/*! #__NO_SIDE_EFFECTS__ */function um(n,e,t){const r=Jt(n,e);Zr(r)&&ze(r,e);class s extends Dl{constructor(o){super(r,o,t)}}return s.def=r,s}/*! #__NO_SIDE_EFFECTS__ */const uw=(n,e)=>um(n,e,xm),hw=typeof HTMLElement<"u"?HTMLElement:class{};class Dl extends hw{constructor(e,t={},r=Xa){super(),this._def=e,this._props=t,this._createApp=r,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&r!==Xa?this._root=this.shadowRoot:e.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof Dl){this._parent=e;break}this._instance||(this._resolved?(this._setParent(),this._update()):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._instance.provides=e._instance.provides)}disconnectedCallback(){this._connected=!1,an(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const s of r)this._setAttr(s.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(r,s=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:i,styles:o}=r;let a;if(i&&!ae(i))for(const l in i){const u=i[l];(u===Number||u&&u.type===Number)&&(l in this._props&&(this._props[l]=Da(this._props[l])),(a||(a=Object.create(null)))[_t(l)]=!0)}this._numberProps=a,s&&this._resolveProps(r),this.shadowRoot&&this._applyStyles(o),this._mount(r)},t=this._def.__asyncLoader;t?this._pendingResolve=t().then(r=>e(this._def=r,!0)):e(this._def)}_mount(e){this._app=this._createApp(e),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const t=this._instance&&this._instance.exposed;if(t)for(const r in t)Re(this,r)||Object.defineProperty(this,r,{get:()=>ve(t[r])})}_resolveProps(e){const{props:t}=e,r=ae(t)?t:Object.keys(t||{});for(const s of Object.keys(this))s[0]!=="_"&&r.includes(s)&&this._setProp(s,this[s]);for(const s of r.map(_t))Object.defineProperty(this,s,{get(){return this._getProp(s)},set(i){this._setProp(s,i,!0,!0)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const t=this.hasAttribute(e);let r=t?this.getAttribute(e):Od;const s=_t(e);t&&this._numberProps&&this._numberProps[s]&&(r=Da(r)),this._setProp(s,r,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,t,r=!0,s=!1){t!==this._props[e]&&(t===Od?delete this._props[e]:(this._props[e]=t,e==="key"&&this._app&&(this._app._ceVNode.key=t)),s&&this._instance&&this._update(),r&&(t===!0?this.setAttribute(Ut(e),""):typeof t=="string"||typeof t=="number"?this.setAttribute(Ut(e),t+""):t||this.removeAttribute(Ut(e))))}_update(){Sm(this._createVNode(),this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const t=Oe(this._def,ze(e,this._props));return this._instance||(t.ce=r=>{this._instance=r,r.ce=this,r.isCE=!0;const s=(i,o)=>{this.dispatchEvent(new CustomEvent(i,Zr(o[0])?ze({detail:o},o[0]):{detail:o}))};r.emit=(i,...o)=>{s(i,o),Ut(i)!==i&&s(Ut(i),o)},this._setParent()}),t}_applyStyles(e,t){if(!e)return;if(t){if(t===this._def||this._styleChildren.has(t))return;this._styleChildren.add(t)}const r=this._nonce;for(let s=e.length-1;s>=0;s--){const i=document.createElement("style");r&&i.setAttribute("nonce",r),i.textContent=e[s],this.shadowRoot.prepend(i)}}_parseSlots(){const e=this._slots={};let t;for(;t=this.firstChild;){const r=t.nodeType===1&&t.getAttribute("slot")||"default";(e[r]||(e[r]=[])).push(t),this.removeChild(t)}}_renderSlots(){const e=(this._teleportTarget||this).querySelectorAll("slot"),t=this._instance.type.__scopeId;for(let r=0;r<e.length;r++){const s=e[r],i=s.getAttribute("name")||"default",o=this._slots[i],a=s.parentNode;if(o)for(const l of o){if(t&&l.nodeType===1){const u=t+"-s",c=document.createTreeWalker(l,1);l.setAttribute(u,"");let h;for(;h=c.nextNode();)h.setAttribute(u,"")}a.insertBefore(l,s)}else for(;s.firstChild;)a.insertBefore(s.firstChild,s);a.removeChild(s)}}_injectChildStyle(e){this._applyStyles(e.styles,e)}_removeChildStyle(e){}}function hm(n){const e=Ct(),t=e&&e.ce;return t||null}function dw(){const n=hm();return n&&n.shadowRoot}function fw(n="$style"){{const e=Ct();if(!e)return Ae;const t=e.type.__cssModules;if(!t)return Ae;const r=t[n];return r||Ae}}const dm=new WeakMap,fm=new WeakMap,$a=Symbol("_moveCb"),Ed=Symbol("_enterCb"),pw=n=>(delete n.props.mode,n),gw=pw({name:"TransitionGroup",props:ze({},rm,{tag:String,moveClass:String}),setup(n,{slots:e}){const t=Ct(),r=Xu();let s,i;return Tl(()=>{if(!s.length)return;const o=n.moveClass||`${n.name||"v"}-move`;if(!_w(s[0].el,t.vnode.el,o))return;s.forEach(vw),s.forEach(yw);const a=s.filter(bw);om(),a.forEach(l=>{const u=l.el,c=u.style;Vn(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const h=u[$a]=d=>{d&&d.target!==u||(!d||/transform$/.test(d.propertyName))&&(u.removeEventListener("transitionend",h),u[$a]=null,fr(u,o))};u.addEventListener("transitionend",h)})}),()=>{const o=Se(n),a=sm(o);let l=o.tag||Qe;if(s=[],i)for(let u=0;u<i.length;u++){const c=i[u];c.el&&c.el instanceof Element&&(s.push(c),Zn(c,Ws(c,a,r,t)),dm.set(c,c.el.getBoundingClientRect()))}i=e.default?xl(e.default()):[];for(let u=0;u<i.length;u++){const c=i[u];c.key!=null&&Zn(c,Ws(c,a,r,t))}return Oe(l,null,i)}}}),mw=gw;function vw(n){const e=n.el;e[$a]&&e[$a](),e[Ed]&&e[Ed]()}function yw(n){fm.set(n,n.el.getBoundingClientRect())}function bw(n){const e=dm.get(n),t=fm.get(n),r=e.left-t.left,s=e.top-t.top;if(r||s){const i=n.el.style;return i.transform=i.webkitTransform=`translate(${r}px,${s}px)`,i.transitionDuration="0s",n}}function _w(n,e,t){const r=n.cloneNode(),s=n[$s];s&&s.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),t.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(r);const{hasTransform:o}=im(r);return i.removeChild(r),o}const kr=n=>{const e=n.props["onUpdate:modelValue"]||!1;return ae(e)?t=>js(e,t):e};function ww(n){n.target.composing=!0}function kd(n){const e=n.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const fn=Symbol("_assign"),za={created(n,{modifiers:{lazy:e,trim:t,number:r}},s){n[fn]=kr(s);const i=r||s.props&&s.props.type==="number";Xn(n,e?"change":"input",o=>{if(o.target.composing)return;let a=n.value;t&&(a=a.trim()),i&&(a=Aa(a)),n[fn](a)}),t&&Xn(n,"change",()=>{n.value=n.value.trim()}),e||(Xn(n,"compositionstart",ww),Xn(n,"compositionend",kd),Xn(n,"change",kd))},mounted(n,{value:e}){n.value=e??""},beforeUpdate(n,{value:e,oldValue:t,modifiers:{lazy:r,trim:s,number:i}},o){if(n[fn]=kr(o),n.composing)return;const a=(i||n.type==="number")&&!/^0\d/.test(n.value)?Aa(n.value):n.value,l=e??"";a!==l&&(document.activeElement===n&&n.type!=="range"&&(r&&e===t||s&&n.value.trim()===l)||(n.value=l))}},sh={deep:!0,created(n,e,t){n[fn]=kr(t),Xn(n,"change",()=>{const r=n._modelValue,s=Xs(n),i=n.checked,o=n[fn];if(ae(r)){const a=pl(r,s),l=a!==-1;if(i&&!l)o(r.concat(s));else if(!i&&l){const u=[...r];u.splice(a,1),o(u)}}else if(fs(r)){const a=new Set(r);i?a.add(s):a.delete(s),o(a)}else o(gm(n,i))})},mounted:Ad,beforeUpdate(n,e,t){n[fn]=kr(t),Ad(n,e,t)}};function Ad(n,{value:e,oldValue:t},r){n._modelValue=e;let s;ae(e)?s=pl(e,r.props.value)>-1:fs(e)?s=e.has(r.props.value):s=Tr(e,gm(n,!0)),n.checked!==s&&(n.checked=s)}const ih={created(n,{value:e},t){n.checked=Tr(e,t.props.value),n[fn]=kr(t),Xn(n,"change",()=>{n[fn](Xs(n))})},beforeUpdate(n,{value:e,oldValue:t},r){n[fn]=kr(r),e!==t&&(n.checked=Tr(e,r.props.value))}},pm={deep:!0,created(n,{value:e,modifiers:{number:t}},r){const s=fs(e);Xn(n,"change",()=>{const i=Array.prototype.filter.call(n.options,o=>o.selected).map(o=>t?Aa(Xs(o)):Xs(o));n[fn](n.multiple?s?new Set(i):i:i[0]),n._assigning=!0,an(()=>{n._assigning=!1})}),n[fn]=kr(r)},mounted(n,{value:e,modifiers:{number:t}}){Dd(n,e)},beforeUpdate(n,e,t){n[fn]=kr(t)},updated(n,{value:e,modifiers:{number:t}}){n._assigning||Dd(n,e)}};function Dd(n,e,t){const r=n.multiple,s=ae(e);if(!(r&&!s&&!fs(e))){for(let i=0,o=n.options.length;i<o;i++){const a=n.options[i],l=Xs(a);if(r)if(s){const u=typeof l;u==="string"||u==="number"?a.selected=e.some(c=>String(c)===String(l)):a.selected=pl(e,l)>-1}else a.selected=e.has(l);else if(Tr(Xs(a),e)){n.selectedIndex!==i&&(n.selectedIndex=i);return}}!r&&n.selectedIndex!==-1&&(n.selectedIndex=-1)}}function Xs(n){return"_value"in n?n._value:n.value}function gm(n,e){const t=e?"_trueValue":"_falseValue";return t in n?n[t]:e}const mm={created(n,e,t){ta(n,e,t,null,"created")},mounted(n,e,t){ta(n,e,t,null,"mounted")},beforeUpdate(n,e,t,r){ta(n,e,t,r,"beforeUpdate")},updated(n,e,t,r){ta(n,e,t,r,"updated")}};function vm(n,e){switch(n){case"SELECT":return pm;case"TEXTAREA":return za;default:switch(e){case"checkbox":return sh;case"radio":return ih;default:return za}}}function ta(n,e,t,r,s){const o=vm(n.tagName,t.props&&t.props.type)[s];o&&o(n,e,t,r)}function Sw(){za.getSSRProps=({value:n})=>({value:n}),ih.getSSRProps=({value:n},e)=>{if(e.props&&Tr(e.props.value,n))return{checked:!0}},sh.getSSRProps=({value:n},e)=>{if(ae(n)){if(e.props&&pl(n,e.props.value)>-1)return{checked:!0}}else if(fs(n)){if(e.props&&n.has(e.props.value))return{checked:!0}}else if(n)return{checked:!0}},mm.getSSRProps=(n,e)=>{if(typeof e.type!="string")return;const t=vm(e.type.toUpperCase(),e.props&&e.props.type);if(t.getSSRProps)return t.getSSRProps(n,e)}}const xw=["ctrl","shift","alt","meta"],Cw={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,e)=>xw.some(t=>n[`${t}Key`]&&!e.includes(t))},bo=(n,e)=>{const t=n._withMods||(n._withMods={}),r=e.join(".");return t[r]||(t[r]=(s,...i)=>{for(let o=0;o<e.length;o++){const a=Cw[e[o]];if(a&&a(s,e))return}return n(s,...i)})},Tw={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ym=(n,e)=>{const t=n._withKeys||(n._withKeys={}),r=e.join(".");return t[r]||(t[r]=s=>{if(!("key"in s))return;const i=Ut(s.key);if(e.some(o=>o===i||Tw[o]===i))return n(s)})},bm=ze({patchProp:lw},z_);let Ji,Pd=!1;function _m(){return Ji||(Ji=Dg(bm))}function wm(){return Ji=Pd?Ji:Pg(bm),Pd=!0,Ji}const Sm=(...n)=>{_m().render(...n)},Ow=(...n)=>{wm().hydrate(...n)},Xa=(...n)=>{const e=_m().createApp(...n),{mount:t}=e;return e.mount=r=>{const s=Tm(r);if(!s)return;const i=e._component;!he(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=t(s,!1,Cm(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e},xm=(...n)=>{const e=wm().createApp(...n),{mount:t}=e;return e.mount=r=>{const s=Tm(r);if(s)return t(s,!0,Cm(s))},e};function Cm(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function Tm(n){return Xe(n)?document.querySelector(n):n}let Md=!1;const Ew=()=>{Md||(Md=!0,Sw(),q_())};/**
* vue v3.5.6
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const kw=()=>{},Aw=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:sg,BaseTransitionPropsValidators:Gu,Comment:st,DeprecationTypes:U_,EffectScope:Lu,ErrorCodes:ab,ErrorTypeStrings:L_,Fragment:Qe,KeepAlive:Pb,ReactiveEffect:uo,Static:ns,Suspense:m_,Teleport:eg,Text:Cr,TrackOpTypes:eb,Transition:zs,TransitionGroup:mw,TriggerOpTypes:tb,VueElement:Dl,assertNumber:ob,callWithAsyncErrorHandling:pn,callWithErrorHandling:ti,camelize:_t,capitalize:Do,cloneVNode:jn,compatUtils:H_,compile:kw,computed:De,createApp:Xa,createBlock:wt,createCommentVNode:nn,createElementBlock:Ue,createElementVNode:pe,createHydrationRenderer:Pg,createPropsRestProxy:Xb,createRenderer:Dg,createSSRApp:xm,createSlots:Fb,createStaticVNode:C_,createTextVNode:Qn,createVNode:Oe,customRef:Wp,defineAsyncComponent:Ab,defineComponent:Jt,defineCustomElement:um,defineEmits:Ib,defineExpose:Bb,defineModel:Hb,defineOptions:Nb,defineProps:jb,defineSSRCustomElement:uw,defineSlots:Vb,devtools:j_,effect:w0,effectScope:ju,getCurrentInstance:Ct,getCurrentScope:Qs,getCurrentWatcher:nb,getTransitionRawChildren:xl,guardReactiveProps:en,h:Al,handleError:ps,hasInjectionContext:_g,hydrate:Ow,hydrateOnIdle:Cb,hydrateOnInteraction:Eb,hydrateOnMediaQuery:Ob,hydrateOnVisible:Tb,initCustomFormatter:M_,initDirectivesForSSR:Ew,inject:$t,isMemoSame:Qg,isProxy:wl,isReactive:Cn,isReadonly:Or,isRef:Ye,isRuntimeOnly:A_,isShallow:rn,isVNode:Er,markRaw:ei,mergeDefaults:$b,mergeModels:zb,mergeProps:wr,nextTick:an,normalizeClass:lt,normalizeProps:Qt,normalizeStyle:Zs,onActivated:og,onBeforeMount:Ku,onBeforeUnmount:ni,onBeforeUpdate:cg,onDeactivated:ag,onErrorCaptured:fg,onMounted:rr,onRenderTracked:dg,onRenderTriggered:hg,onScopeDispose:Po,onServerPrefetch:ug,onUnmounted:Ol,onUpdated:Tl,onWatcherCleanup:Xp,openBlock:ye,popScopeId:db,provide:Ki,proxyRefs:Wu,pushScopeId:hb,queuePostFlushCb:Ra,reactive:Ln,readonly:bl,ref:_e,registerRuntimeCompiler:k_,render:Sm,renderList:Vc,renderSlot:gt,resolveComponent:El,resolveDirective:gg,resolveDynamicComponent:Gi,resolveFilter:V_,resolveTransitionHooks:Ws,setBlockTracking:Gc,setDevtoolsHook:I_,setTransitionHooks:Zn,shallowReactive:zr,shallowReadonly:$0,shallowRef:Uu,ssrContextKey:Lg,ssrUtils:N_,stop:S0,toDisplayString:co,toHandlerKey:Wi,toHandlers:ja,toRaw:Se,toRef:zi,toRefs:$p,toValue:G0,transformVNodeArgs:S_,triggerRef:X0,unref:ve,useAttrs:mg,useCssModule:fw,useCssVars:cm,useHost:hm,useId:yb,useModel:c_,useSSRContext:jg,useShadowRoot:dw,useSlots:Wb,useTemplateRef:bb,useTransitionState:Xu,vModelCheckbox:sh,vModelDynamic:mm,vModelRadio:ih,vModelSelect:pm,vModelText:za,vShow:rs,version:em,warn:F_,watch:$e,watchEffect:Ig,watchPostEffect:Bg,watchSyncEffect:Ng,withAsyncContext:Gb,withCtx:Wt,withDefaults:Ub,withDirectives:es,withKeys:ym,withMemo:R_,withModifiers:bo,withScopeId:fb},Symbol.toStringTag,{value:"Module"}));var Dw=!1;/*!
 * pinia v2.2.2
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let Om;const Pl=n=>Om=n,Em=Symbol();function tu(n){return n&&typeof n=="object"&&Object.prototype.toString.call(n)==="[object Object]"&&typeof n.toJSON!="function"}var Zi;(function(n){n.direct="direct",n.patchObject="patch object",n.patchFunction="patch function"})(Zi||(Zi={}));function Pw(){const n=ju(!0),e=n.run(()=>_e({}));let t=[],r=[];const s=ei({install(i){Pl(s),s._a=i,i.provide(Em,s),i.config.globalProperties.$pinia=s,r.forEach(o=>t.push(o)),r=[]},use(i){return!this._a&&!Dw?r.push(i):t.push(i),this},_p:t,_a:null,_e:n,_s:new Map,state:e});return s}const km=()=>{};function Rd(n,e,t,r=km){n.push(e);const s=()=>{const i=n.indexOf(e);i>-1&&(n.splice(i,1),r())};return!t&&Qs()&&Po(s),s}function _s(n,...e){n.slice().forEach(t=>{t(...e)})}const Mw=n=>n(),Fd=Symbol(),dc=Symbol();function nu(n,e){n instanceof Map&&e instanceof Map?e.forEach((t,r)=>n.set(r,t)):n instanceof Set&&e instanceof Set&&e.forEach(n.add,n);for(const t in e){if(!e.hasOwnProperty(t))continue;const r=e[t],s=n[t];tu(s)&&tu(r)&&n.hasOwnProperty(t)&&!Ye(r)&&!Cn(r)?n[t]=nu(s,r):n[t]=r}return n}const Rw=Symbol();function Fw(n){return!tu(n)||!n.hasOwnProperty(Rw)}const{assign:pr}=Object;function Lw(n){return!!(Ye(n)&&n.effect)}function jw(n,e,t,r){const{state:s,actions:i,getters:o}=e,a=t.state.value[n];let l;function u(){a||(t.state.value[n]=s?s():{});const c=$p(t.state.value[n]);return pr(c,i,Object.keys(o||{}).reduce((h,d)=>(h[d]=ei(De(()=>{Pl(t);const f=t._s.get(n);return o[d].call(f,f)})),h),{}))}return l=Am(n,u,e,t,r,!0),l}function Am(n,e,t={},r,s,i){let o;const a=pr({actions:{}},t),l={deep:!0};let u,c,h=[],d=[],f;const p=r.state.value[n];!i&&!p&&(r.state.value[n]={}),_e({});let m;function b(D){let M;u=c=!1,typeof D=="function"?(D(r.state.value[n]),M={type:Zi.patchFunction,storeId:n,events:f}):(nu(r.state.value[n],D),M={type:Zi.patchObject,payload:D,storeId:n,events:f});const j=m=Symbol();an().then(()=>{m===j&&(u=!0)}),c=!0,_s(h,M,r.state.value[n])}const _=i?function(){const{state:M}=t,j=M?M():{};this.$patch(W=>{pr(W,j)})}:km;function S(){o.stop(),h=[],d=[],r._s.delete(n)}const y=(D,M="")=>{if(Fd in D)return D[dc]=M,D;const j=function(){Pl(r);const W=Array.from(arguments),C=[],E=[];function B(G){C.push(G)}function K(G){E.push(G)}_s(d,{args:W,name:j[dc],store:w,after:B,onError:K});let I;try{I=D.apply(this&&this.$id===n?this:w,W)}catch(G){throw _s(E,G),G}return I instanceof Promise?I.then(G=>(_s(C,G),G)).catch(G=>(_s(E,G),Promise.reject(G))):(_s(C,I),I)};return j[Fd]=!0,j[dc]=M,j},x={_p:r,$id:n,$onAction:Rd.bind(null,d),$patch:b,$reset:_,$subscribe(D,M={}){const j=Rd(h,D,M.detached,()=>W()),W=o.run(()=>$e(()=>r.state.value[n],C=>{(M.flush==="sync"?c:u)&&D({storeId:n,type:Zi.direct,events:f},C)},pr({},l,M)));return j},$dispose:S},w=Ln(x);r._s.set(n,w);const A=(r._a&&r._a.runWithContext||Mw)(()=>r._e.run(()=>(o=ju()).run(()=>e({action:y}))));for(const D in A){const M=A[D];if(Ye(M)&&!Lw(M)||Cn(M))i||(p&&Fw(M)&&(Ye(M)?M.value=p[D]:nu(M,p[D])),r.state.value[n][D]=M);else if(typeof M=="function"){const j=y(M,D);A[D]=j,a.actions[D]=M}}return pr(w,A),pr(Se(w),A),Object.defineProperty(w,"$state",{get:()=>r.state.value[n],set:D=>{b(M=>{pr(M,D)})}}),r._p.forEach(D=>{pr(w,o.run(()=>D({store:w,app:r._a,pinia:r,options:a})))}),p&&i&&t.hydrate&&t.hydrate(w.$state,p),u=!0,c=!0,w}function Ml(n,e,t){let r,s;const i=typeof e=="function";typeof n=="string"?(r=n,s=i?t:e):(s=n,r=n.id);function o(a,l){const u=_g();return a=a||(u?$t(Em,null):null),a&&Pl(a),a=Om,a._s.has(r)||(i?Am(r,e,s,a):jw(r,s,a)),a._s.get(r)}return o.$id=r,o}function HD(n){{n=Se(n);const e={};for(const t in n){const r=n[t];(Ye(r)||Cn(r))&&(e[t]=zi(n,t))}return e}}function ru(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ld(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function su(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ld(Object(t),!0).forEach(function(r){ru(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ld(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var Iw=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(r,s){if(!(typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");if(o.async=!0,o.src=e,o.defer=t.defer,t.preconnectOrigin){var a=document.createElement("link");a.href=t.preconnectOrigin,a.rel="preconnect",i.appendChild(a)}i.appendChild(o),o.onload=r,o.onerror=s}})},Bw=function n(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];if(!r.length)return e;var i=r.shift();if(!(!Zr(e)||!Zr(i))){for(var o in i)Zr(i[o])?(e[o]||Object.assign(e,ru({},o,{})),n(e[o],i[o])):Object.assign(e,ru({},o,i[o]));return n.apply(void 0,[e].concat(r))}},jo=function(){return!(typeof window>"u"||typeof document>"u")},jd=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;jo()},Nw=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return jd('Missing "appName" property inside the plugin options.',e.app_name==null),jd('Missing "name" property in the route.',e.screen_name==null),e};function Vw(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",t=n.split("/"),r=e.split("/");return t[0]===""&&e[e.length-1]==="/"&&t.shift(),r.join("/")+t.join("/")}var Hw=function(){return{bootstrap:!0,onReady:null,onError:null,onBeforeTrack:null,onAfterTrack:null,pageTrackerTemplate:null,customResourceURL:"https://www.googletagmanager.com/gtag/js",customPreconnectOrigin:"https://www.googletagmanager.com",deferScriptLoad:!1,pageTrackerExcludedRoutes:[],pageTrackerEnabled:!0,enabled:!0,disableScriptLoad:!1,pageTrackerScreenviewEnabled:!1,appName:null,pageTrackerUseFullPath:!1,pageTrackerPrependBase:!0,pageTrackerSkipSamePath:!0,globalDataLayerName:"dataLayer",globalObjectName:"gtag",defaultGroupName:"default",includes:null,config:{id:null,params:{send_page_view:!1}}}},Dm={},Uw=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Hw();Dm=Bw(t,e)},ln=function(){return Dm},ls=function(){var n,e=ln(),t=e.globalObjectName;!jo()||typeof window[t]>"u"||(n=window)[t].apply(n,arguments)},oh=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r=ln(),s=r.config,i=r.includes;ls.apply(void 0,["config",s.id].concat(e)),Array.isArray(i)&&i.forEach(function(o){ls.apply(void 0,["config",o.id].concat(e))})},Id=function(e,t){jo()&&(window["ga-disable-".concat(e)]=t)},Pm=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=ln(),t=e.config,r=e.includes;Id(t.id,n),Array.isArray(r)&&r.forEach(function(s){return Id(s.id,n)})},Mm=function(){Pm(!0)},Ww=function(){Pm(!1)},Rm,$w=function(e){Rm=e},ah=function(){return Rm},gs=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=ln(),r=t.includes,s=t.defaultGroupName;e.send_to==null&&Array.isArray(r)&&r.length&&(e.send_to=r.map(function(i){return i.id}).concat(s)),ls("event",n,e)},Fm=function(n){if(jo()){var e;if(typeof n=="string")e={page_path:n};else if(n.path||n.fullPath){var t=ln(),r=t.pageTrackerUseFullPath,s=t.pageTrackerPrependBase,i=ah(),o=i&&i.options.base,a=r?n.fullPath:n.path;e=su(su({},n.name&&{page_title:n.name}),{},{page_path:s?Vw(a,o):a})}else e=n;e.page_location==null&&(e.page_location=window.location.href),e.send_page_view==null&&(e.send_page_view=!0),gs("page_view",e)}},Lm=function(n){var e=ln(),t=e.appName;if(n){var r;typeof n=="string"?r={screen_name:n}:r=n,r.app_name=r.app_name||t,gs("screen_view",r)}},zw=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];gs.apply(void 0,["exception"].concat(e))},Xw=function(n){oh("linker",n)},Gw=function(n){gs("timing_complete",n)},Yw=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];ls.apply(void 0,["set"].concat(e))},Kw=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];gs.apply(void 0,["refund"].concat(e))},qw=function(n){gs("purchase",n)},Jw=function(n){oh({custom_map:n})},Zw=Object.freeze({__proto__:null,query:ls,config:oh,optOut:Mm,optIn:Ww,pageview:Fm,screenview:Lm,exception:zw,linker:Xw,time:Gw,set:Yw,refund:Kw,purchase:qw,customMap:Jw,event:gs}),Qw=function(e){e.config.globalProperties.$gtag=Zw},eS=function(){if(jo()){var n=ln(),e=n.enabled,t=n.globalObjectName,r=n.globalDataLayerName;return window[t]==null&&(window[r]=window[r]||[],window[t]=function(){window[r].push(arguments)}),window[t]("js",new Date),e||Mm(),window[t]}},Bd=function(e){return su({send_page_view:!1},e)},jm=function(){var n=ln(),e=n.config,t=n.includes;ls("config",e.id,Bd(e.params)),Array.isArray(t)&&t.forEach(function(r){ls("config",r.id,Bd(r.params))})},Nd=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=ln(),r=t.appName,s=t.pageTrackerTemplate,i=t.pageTrackerScreenviewEnabled,o=t.pageTrackerSkipSamePath;if(!(o&&n.path===e.path)){var a=n;if(he(s)?a=s(n,e):i&&(a=Nw({app_name:r,screen_name:n.name})),i){Lm(a);return}Fm(a)}},Vd=function(e){var t=ln(),r=t.pageTrackerExcludedRoutes;return r.includes(e.path)||r.includes(e.name)},tS=function(){var n=ln(),e=n.onBeforeTrack,t=n.onAfterTrack,r=ah();r.isReady().then(function(){an().then(function(){var s=r.currentRoute;jm(),!Vd(s.value)&&Nd(s.value)}),r.afterEach(function(s,i){an().then(function(){Vd(s)||(he(e)&&e(s,i),Nd(s,i),he(t)&&t(s,i))})})})},nS=function(){var n=ln(),e=n.onReady,t=n.onError,r=n.globalObjectName,s=n.globalDataLayerName,i=n.config,o=n.customResourceURL,a=n.customPreconnectOrigin,l=n.deferScriptLoad,u=n.pageTrackerEnabled,c=n.disableScriptLoad,h=!!(u&&ah());if(eS(),h?tS():jm(),!c)return Iw("".concat(o,"?id=").concat(i.id,"&l=").concat(s),{preconnectOrigin:a,defer:l}).then(function(){e&&e(window[r])}).catch(function(d){return t&&t(d),d})},rS=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;Qw(e),Uw(t),$w(r),ln().bootstrap&&nS()};function sS(n){return Qs()?(Po(n),!0):!1}function Im(n){return typeof n=="function"?n():ve(n)}const iS=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const oS=Object.prototype.toString,aS=n=>oS.call(n)==="[object Object]",lS=()=>{};function cS(n){var e;const t=Im(n);return(e=t==null?void 0:t.$el)!=null?e:t}const uS=iS?window:void 0;function gr(...n){let e,t,r,s;if(typeof n[0]=="string"||Array.isArray(n[0])?([t,r,s]=n,e=uS):[e,t,r,s]=n,!e)return lS;Array.isArray(t)||(t=[t]),Array.isArray(r)||(r=[r]);const i=[],o=()=>{i.forEach(c=>c()),i.length=0},a=(c,h,d,f)=>(c.addEventListener(h,d,f),()=>c.removeEventListener(h,d,f)),l=$e(()=>[cS(e),Im(s)],([c,h])=>{if(o(),!c)return;const d=aS(h)?{...h}:h;i.push(...t.flatMap(f=>r.map(p=>a(c,f,p,d))))},{immediate:!0,flush:"post"}),u=()=>{l(),o()};return sS(u),u}function hS(n){return Qs()?(Po(n),!0):!1}function dS(n){return typeof n=="function"?n():ve(n)}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;function fS(n){var e;const t=dS(n);return(e=t==null?void 0:t.$el)!=null?e:t}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Bm=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Ga=Bm.join(","),Nm=typeof Element>"u",cs=Nm?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Ya=!Nm&&Element.prototype.getRootNode?function(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}:function(n){return n==null?void 0:n.ownerDocument},Ka=function n(e,t){var r;t===void 0&&(t=!0);var s=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),i=s===""||s==="true",o=i||t&&e&&n(e.parentNode);return o},pS=function(e){var t,r=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return r===""||r==="true"},Vm=function(e,t,r){if(Ka(e))return[];var s=Array.prototype.slice.apply(e.querySelectorAll(Ga));return t&&cs.call(e,Ga)&&s.unshift(e),s=s.filter(r),s},Hm=function n(e,t,r){for(var s=[],i=Array.from(e);i.length;){var o=i.shift();if(!Ka(o,!1))if(o.tagName==="SLOT"){var a=o.assignedElements(),l=a.length?a:o.children,u=n(l,!0,r);r.flatten?s.push.apply(s,u):s.push({scopeParent:o,candidates:u})}else{var c=cs.call(o,Ga);c&&r.filter(o)&&(t||!e.includes(o))&&s.push(o);var h=o.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(o),d=!Ka(h,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(o));if(h&&d){var f=n(h===!0?o.children:h.children,!0,r);r.flatten?s.push.apply(s,f):s.push({scopeParent:o,candidates:f})}else i.unshift.apply(i,o.children)}}return s},Um=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Hr=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||pS(e))&&!Um(e)?0:e.tabIndex},gS=function(e,t){var r=Hr(e);return r<0&&t&&!Um(e)?0:r},mS=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},Wm=function(e){return e.tagName==="INPUT"},vS=function(e){return Wm(e)&&e.type==="hidden"},yS=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return t},bS=function(e,t){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===t)return e[r]},_S=function(e){if(!e.name)return!0;var t=e.form||Ya(e),r=function(a){return t.querySelectorAll('input[type="radio"][name="'+a+'"]')},s;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")s=r(window.CSS.escape(e.name));else try{s=r(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var i=bS(s,e.form);return!i||i===e},wS=function(e){return Wm(e)&&e.type==="radio"},SS=function(e){return wS(e)&&!_S(e)},xS=function(e){var t,r=e&&Ya(e),s=(t=r)===null||t===void 0?void 0:t.host,i=!1;if(r&&r!==e){var o,a,l;for(i=!!((o=s)!==null&&o!==void 0&&(a=o.ownerDocument)!==null&&a!==void 0&&a.contains(s)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!i&&s;){var u,c,h;r=Ya(s),s=(u=r)===null||u===void 0?void 0:u.host,i=!!((c=s)!==null&&c!==void 0&&(h=c.ownerDocument)!==null&&h!==void 0&&h.contains(s))}}return i},Hd=function(e){var t=e.getBoundingClientRect(),r=t.width,s=t.height;return r===0&&s===0},CS=function(e,t){var r=t.displayCheck,s=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var i=cs.call(e,"details>summary:first-of-type"),o=i?e.parentElement:e;if(cs.call(o,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof s=="function"){for(var a=e;e;){var l=e.parentElement,u=Ya(e);if(l&&!l.shadowRoot&&s(l)===!0)return Hd(e);e.assignedSlot?e=e.assignedSlot:!l&&u!==e.ownerDocument?e=u.host:e=l}e=a}if(xS(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return Hd(e);return!1},TS=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var r=0;r<t.children.length;r++){var s=t.children.item(r);if(s.tagName==="LEGEND")return cs.call(t,"fieldset[disabled] *")?!0:!s.contains(e)}return!0}t=t.parentElement}return!1},qa=function(e,t){return!(t.disabled||Ka(t)||vS(t)||CS(t,e)||yS(t)||TS(t))},iu=function(e,t){return!(SS(t)||Hr(t)<0||!qa(e,t))},OS=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},ES=function n(e){var t=[],r=[];return e.forEach(function(s,i){var o=!!s.scopeParent,a=o?s.scopeParent:s,l=gS(a,o),u=o?n(s.candidates):a;l===0?o?t.push.apply(t,u):t.push(a):r.push({documentOrder:i,tabIndex:l,item:s,isScope:o,content:u})}),r.sort(mS).reduce(function(s,i){return i.isScope?s.push.apply(s,i.content):s.push(i.content),s},[]).concat(t)},kS=function(e,t){t=t||{};var r;return t.getShadowRoot?r=Hm([e],t.includeContainer,{filter:iu.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:OS}):r=Vm(e,t.includeContainer,iu.bind(null,t)),ES(r)},AS=function(e,t){t=t||{};var r;return t.getShadowRoot?r=Hm([e],t.includeContainer,{filter:qa.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):r=Vm(e,t.includeContainer,qa.bind(null,t)),r},ws=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return cs.call(e,Ga)===!1?!1:iu(t,e)},DS=Bm.concat("iframe").join(","),fc=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return cs.call(e,DS)===!1?!1:qa(t,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function Ud(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Wd(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ud(Object(t),!0).forEach(function(r){PS(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ud(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function PS(n,e,t){return e=RS(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function MS(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function RS(n){var e=MS(n,"string");return typeof e=="symbol"?e:String(e)}var $d={activateTrap:function(e,t){if(e.length>0){var r=e[e.length-1];r!==t&&r.pause()}var s=e.indexOf(t);s===-1||e.splice(s,1),e.push(t)},deactivateTrap:function(e,t){var r=e.indexOf(t);r!==-1&&e.splice(r,1),e.length>0&&e[e.length-1].unpause()}},FS=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},LS=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},Qi=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},jS=function(e){return Qi(e)&&!e.shiftKey},IS=function(e){return Qi(e)&&e.shiftKey},zd=function(e){return setTimeout(e,0)},Xd=function(e,t){var r=-1;return e.every(function(s,i){return t(s)?(r=i,!1):!0}),r},yi=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];return typeof e=="function"?e.apply(void 0,r):e},na=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},BS=[],NS=function(e,t){var r=(t==null?void 0:t.document)||document,s=(t==null?void 0:t.trapStack)||BS,i=Wd({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:jS,isKeyBackward:IS},t),o={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,l=function(C,E,B){return C&&C[E]!==void 0?C[E]:i[B||E]},u=function(C,E){var B=typeof(E==null?void 0:E.composedPath)=="function"?E.composedPath():void 0;return o.containerGroups.findIndex(function(K){var I=K.container,G=K.tabbableNodes;return I.contains(C)||(B==null?void 0:B.includes(I))||G.find(function($){return $===C})})},c=function(C){var E=i[C];if(typeof E=="function"){for(var B=arguments.length,K=new Array(B>1?B-1:0),I=1;I<B;I++)K[I-1]=arguments[I];E=E.apply(void 0,K)}if(E===!0&&(E=void 0),!E){if(E===void 0||E===!1)return E;throw new Error("`".concat(C,"` was specified but was not a node, or did not return a node"))}var G=E;if(typeof E=="string"&&(G=r.querySelector(E),!G))throw new Error("`".concat(C,"` as selector refers to no known node"));return G},h=function(){var C=c("initialFocus");if(C===!1)return!1;if(C===void 0||!fc(C,i.tabbableOptions))if(u(r.activeElement)>=0)C=r.activeElement;else{var E=o.tabbableGroups[0],B=E&&E.firstTabbableNode;C=B||c("fallbackFocus")}if(!C)throw new Error("Your focus-trap needs to have at least one focusable element");return C},d=function(){if(o.containerGroups=o.containers.map(function(C){var E=kS(C,i.tabbableOptions),B=AS(C,i.tabbableOptions),K=E.length>0?E[0]:void 0,I=E.length>0?E[E.length-1]:void 0,G=B.find(function(de){return ws(de)}),$=B.slice().reverse().find(function(de){return ws(de)}),se=!!E.find(function(de){return Hr(de)>0});return{container:C,tabbableNodes:E,focusableNodes:B,posTabIndexesFound:se,firstTabbableNode:K,lastTabbableNode:I,firstDomTabbableNode:G,lastDomTabbableNode:$,nextTabbableNode:function(Te){var ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Ge=E.indexOf(Te);return Ge<0?ke?B.slice(B.indexOf(Te)+1).find(function(Ve){return ws(Ve)}):B.slice(0,B.indexOf(Te)).reverse().find(function(Ve){return ws(Ve)}):E[Ge+(ke?1:-1)]}}}),o.tabbableGroups=o.containerGroups.filter(function(C){return C.tabbableNodes.length>0}),o.tabbableGroups.length<=0&&!c("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(o.containerGroups.find(function(C){return C.posTabIndexesFound})&&o.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},f=function W(C){var E=C.activeElement;if(E)return E.shadowRoot&&E.shadowRoot.activeElement!==null?W(E.shadowRoot):E},p=function W(C){if(C!==!1&&C!==f(document)){if(!C||!C.focus){W(h());return}C.focus({preventScroll:!!i.preventScroll}),o.mostRecentlyFocusedNode=C,FS(C)&&C.select()}},m=function(C){var E=c("setReturnFocus",C);return E||(E===!1?!1:C)},b=function(C){var E=C.target,B=C.event,K=C.isBackward,I=K===void 0?!1:K;E=E||na(B),d();var G=null;if(o.tabbableGroups.length>0){var $=u(E,B),se=$>=0?o.containerGroups[$]:void 0;if($<0)I?G=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:G=o.tabbableGroups[0].firstTabbableNode;else if(I){var de=Xd(o.tabbableGroups,function(je){var U=je.firstTabbableNode;return E===U});if(de<0&&(se.container===E||fc(E,i.tabbableOptions)&&!ws(E,i.tabbableOptions)&&!se.nextTabbableNode(E,!1))&&(de=$),de>=0){var Te=de===0?o.tabbableGroups.length-1:de-1,ke=o.tabbableGroups[Te];G=Hr(E)>=0?ke.lastTabbableNode:ke.lastDomTabbableNode}else Qi(B)||(G=se.nextTabbableNode(E,!1))}else{var Ge=Xd(o.tabbableGroups,function(je){var U=je.lastTabbableNode;return E===U});if(Ge<0&&(se.container===E||fc(E,i.tabbableOptions)&&!ws(E,i.tabbableOptions)&&!se.nextTabbableNode(E))&&(Ge=$),Ge>=0){var Ve=Ge===o.tabbableGroups.length-1?0:Ge+1,pt=o.tabbableGroups[Ve];G=Hr(E)>=0?pt.firstTabbableNode:pt.firstDomTabbableNode}else Qi(B)||(G=se.nextTabbableNode(E))}}else G=c("fallbackFocus");return G},_=function(C){var E=na(C);if(!(u(E,C)>=0)){if(yi(i.clickOutsideDeactivates,C)){a.deactivate({returnFocus:i.returnFocusOnDeactivate});return}yi(i.allowOutsideClick,C)||C.preventDefault()}},S=function(C){var E=na(C),B=u(E,C)>=0;if(B||E instanceof Document)B&&(o.mostRecentlyFocusedNode=E);else{C.stopImmediatePropagation();var K,I=!0;if(o.mostRecentlyFocusedNode)if(Hr(o.mostRecentlyFocusedNode)>0){var G=u(o.mostRecentlyFocusedNode),$=o.containerGroups[G].tabbableNodes;if($.length>0){var se=$.findIndex(function(de){return de===o.mostRecentlyFocusedNode});se>=0&&(i.isKeyForward(o.recentNavEvent)?se+1<$.length&&(K=$[se+1],I=!1):se-1>=0&&(K=$[se-1],I=!1))}}else o.containerGroups.some(function(de){return de.tabbableNodes.some(function(Te){return Hr(Te)>0})})||(I=!1);else I=!1;I&&(K=b({target:o.mostRecentlyFocusedNode,isBackward:i.isKeyBackward(o.recentNavEvent)})),p(K||o.mostRecentlyFocusedNode||h())}o.recentNavEvent=void 0},y=function(C){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o.recentNavEvent=C;var B=b({event:C,isBackward:E});B&&(Qi(C)&&C.preventDefault(),p(B))},x=function(C){if(LS(C)&&yi(i.escapeDeactivates,C)!==!1){C.preventDefault(),a.deactivate();return}(i.isKeyForward(C)||i.isKeyBackward(C))&&y(C,i.isKeyBackward(C))},w=function(C){var E=na(C);u(E,C)>=0||yi(i.clickOutsideDeactivates,C)||yi(i.allowOutsideClick,C)||(C.preventDefault(),C.stopImmediatePropagation())},R=function(){if(o.active)return $d.activateTrap(s,a),o.delayInitialFocusTimer=i.delayInitialFocus?zd(function(){p(h())}):p(h()),r.addEventListener("focusin",S,!0),r.addEventListener("mousedown",_,{capture:!0,passive:!1}),r.addEventListener("touchstart",_,{capture:!0,passive:!1}),r.addEventListener("click",w,{capture:!0,passive:!1}),r.addEventListener("keydown",x,{capture:!0,passive:!1}),a},A=function(){if(o.active)return r.removeEventListener("focusin",S,!0),r.removeEventListener("mousedown",_,!0),r.removeEventListener("touchstart",_,!0),r.removeEventListener("click",w,!0),r.removeEventListener("keydown",x,!0),a},D=function(C){var E=C.some(function(B){var K=Array.from(B.removedNodes);return K.some(function(I){return I===o.mostRecentlyFocusedNode})});E&&p(h())},M=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(D):void 0,j=function(){M&&(M.disconnect(),o.active&&!o.paused&&o.containers.map(function(C){M.observe(C,{subtree:!0,childList:!0})}))};return a={get active(){return o.active},get paused(){return o.paused},activate:function(C){if(o.active)return this;var E=l(C,"onActivate"),B=l(C,"onPostActivate"),K=l(C,"checkCanFocusTrap");K||d(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=r.activeElement,E==null||E();var I=function(){K&&d(),R(),j(),B==null||B()};return K?(K(o.containers.concat()).then(I,I),this):(I(),this)},deactivate:function(C){if(!o.active)return this;var E=Wd({onDeactivate:i.onDeactivate,onPostDeactivate:i.onPostDeactivate,checkCanReturnFocus:i.checkCanReturnFocus},C);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,A(),o.active=!1,o.paused=!1,j(),$d.deactivateTrap(s,a);var B=l(E,"onDeactivate"),K=l(E,"onPostDeactivate"),I=l(E,"checkCanReturnFocus"),G=l(E,"returnFocus","returnFocusOnDeactivate");B==null||B();var $=function(){zd(function(){G&&p(m(o.nodeFocusedBeforeActivation)),K==null||K()})};return G&&I?(I(m(o.nodeFocusedBeforeActivation)).then($,$),this):($(),this)},pause:function(C){if(o.paused||!o.active)return this;var E=l(C,"onPause"),B=l(C,"onPostPause");return o.paused=!0,E==null||E(),A(),j(),B==null||B(),this},unpause:function(C){if(!o.paused||!o.active)return this;var E=l(C,"onUnpause"),B=l(C,"onPostUnpause");return o.paused=!1,E==null||E(),d(),R(),j(),B==null||B(),this},updateContainerElements:function(C){var E=[].concat(C).filter(Boolean);return o.containers=E.map(function(B){return typeof B=="string"?r.querySelector(B):B}),o.active&&d(),j(),this}},a.updateContainerElements(e),a};function VS(n,e={}){let t;const{immediate:r,...s}=e,i=_e(!1),o=_e(!1),a=h=>t&&t.activate(h),l=h=>t&&t.deactivate(h),u=()=>{t&&(t.pause(),o.value=!0)},c=()=>{t&&(t.unpause(),o.value=!1)};return $e(()=>fS(n),h=>{h&&(t=NS(h,{...s,onActivate(){i.value=!0,e.onActivate&&e.onActivate()},onDeactivate(){i.value=!1,e.onDeactivate&&e.onDeactivate()}}),r&&a())},{flush:"post"}),hS(()=>l()),{hasFocus:i,isPaused:o,activate:a,deactivate:l,pause:u,unpause:c}}const HS=n=>(...e)=>{n&&(n==null||n(...e),n=null)},_o=()=>{};function ra(n,e,t){return n>t?t:n<e?e:n}function pc(n,e){var t;const r=((t=Ti(n,e))==null?void 0:t[0])||e;n.push(r)}function Ti(n,e){const t=n.indexOf(e);if(t!==-1)return n.splice(t,1)}const US={teleportTo:{type:[String,null,Boolean,Object],default:"body"},modalId:{type:[String,Number,Symbol],default:void 0},modelValue:{type:Boolean,default:void 0},displayDirective:{type:String,default:"if",validator:n=>["if","show","visible"].includes(n)},hideOverlay:{type:Boolean,default:void 0},overlayBehavior:{type:String,default:"auto",validator:n=>["auto","persist"].includes(n)},overlayTransition:{type:[String,Object],default:void 0},contentTransition:{type:[String,Object],default:void 0},overlayClass:{type:void 0,default:void 0},contentClass:{type:void 0,default:void 0},overlayStyle:{type:[String,Object,Array],default:void 0},contentStyle:{type:[String,Object,Array],default:void 0},clickToClose:{type:Boolean,default:!0},escToClose:{type:Boolean,default:!0},background:{type:String,default:"non-interactive",validator:n=>["interactive","non-interactive"].includes(n)},focusTrap:{type:[Boolean,Object],default:()=>({allowOutsideClick:!0})},lockScroll:{type:Boolean,default:!0},reserveScrollBarGap:{type:Boolean,default:!0},zIndexFn:{type:Function,default:({index:n})=>1e3+2*n},swipeToClose:{type:String,default:"none",validator:n=>["none","up","right","down","left"].includes(n)},threshold:{type:Number,default:0},showSwipeBanner:{type:Boolean,default:void 0},preventNavigationGestures:{type:Boolean,default:void 0}};function Gd(n=!1){const e=_e(n),t=_e(e.value?0:void 0);return[e,t,{beforeEnter(){t.value=1},afterEnter(){t.value=0},beforeLeave(){t.value=3},afterLeave(){t.value=2}}]}function WS(n,e){const{modelValueLocal:t,onEntering:r,onEnter:s,onLeaving:i,onLeave:o}=e,a=_e(t.value),[l,u,c]=Gd(a.value),[h,d,f]=Gd(a.value),p=De(()=>typeof n.contentTransition=="string"?{name:n.contentTransition,appear:!0}:{appear:!0,...n.contentTransition}),m=De(()=>typeof n.overlayTransition=="string"?{name:n.overlayTransition,appear:!0}:{appear:!0,...n.overlayTransition}),b=De(()=>(n.hideOverlay||d.value===2)&&u.value===2);$e(b,y=>{y&&(a.value=!1)}),$e(u,y=>{if(y===1){if(!a.value)return;r==null||r()}else if(y===0){if(!a.value)return;s==null||s()}else y===3?i==null||i():y===2&&(o==null||o())});async function _(){a.value=!0,await an(),l.value=!0,h.value=!0}function S(){l.value=!1,h.value=!1}return{visible:a,contentVisible:l,contentListeners:c,contentTransition:p,overlayVisible:h,overlayListeners:f,overlayTransition:m,enterTransition:_,leaveTransition:S}}function $S(n,e,t){const{vfmRootEl:r,vfmContentEl:s,visible:i,modelValueLocal:o}=t,a=_e();function l(){i.value&&n.escToClose&&(o.value=!1)}function u(h){a.value=h==null?void 0:h.target}function c(){var h;a.value===r.value&&(n.clickToClose?o.value=!1:((h=s.value)==null||h.focus(),e("clickOutside")))}return{onEsc:l,onMouseupRoot:c,onMousedown:u}}function zS(n,e,t){let r=!1;const{open:s,close:i}=t,o=_e(!1),a={get value(){return o.value},set value(u){l(u)}};function l(u){(u?s():i())?(o.value=u,u!==n.modelValue&&e("update:modelValue",u)):(r=!0,e("update:modelValue",!u),an(()=>{r=!1}))}return $e(()=>n.modelValue,u=>{r||(a.value=!!u)}),{modelValueLocal:a}}function XS(n,e){if(n.focusTrap===!1)return{focus(){},blur(){}};const{focusEl:t}=e,{hasFocus:r,activate:s,deactivate:i}=VS(t,n.focusTrap);function o(){requestAnimationFrame(()=>{s()})}function a(){r.value&&i()}return{focus:o,blur:a}}let lh=!1;if(typeof window<"u"){const n={get passive(){lh=!0}};window.addEventListener("testPassive",null,n),window.removeEventListener("testPassive",null,n)}const $m=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);let Sr=[],Ja=!1,_a=0,zm=-1,eo,to;const GS=n=>{if(!n||n.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(n);return["auto","scroll"].includes(e.overflowY)&&n.scrollHeight>n.clientHeight},YS=(n,e)=>!(n.scrollTop===0&&e<0||n.scrollTop+n.clientHeight+e>=n.scrollHeight&&e>0),KS=n=>{const e=[];for(;n;){if(e.push(n),n.classList.contains("vfm"))return e;n=n.parentElement}return e},qS=(n,e)=>{let t=!1;return KS(n).forEach(r=>{GS(r)&&YS(r,e)&&(t=!0)}),t},Xm=n=>Sr.some(()=>qS(n,-_a)),ch=n=>{const e=n||window.event;return Xm(e.target)||e.touches.length>1?!0:(e.preventDefault&&e.preventDefault(),!1)},JS=n=>{if(to===void 0){const e=!!n&&n.reserveScrollBarGap===!0,t=window.innerWidth-document.documentElement.clientWidth;if(e&&t>0){const r=parseInt(getComputedStyle(document.body).getPropertyValue("padding-right"),10);to=document.body.style.paddingRight,document.body.style.paddingRight=`${r+t}px`}}eo===void 0&&(eo=document.body.style.overflow,document.body.style.overflow="hidden")},ZS=()=>{to!==void 0&&(document.body.style.paddingRight=to,to=void 0),eo!==void 0&&(document.body.style.overflow=eo,eo=void 0)},QS=n=>n?n.scrollHeight-n.scrollTop<=n.clientHeight:!1,ex=(n,e)=>(_a=n.targetTouches[0].clientY-zm,Xm(n.target)?!1:e&&e.scrollTop===0&&_a>0||QS(e)&&_a<0?ch(n):(n.stopPropagation(),!0)),tx=(n,e)=>{if(!n){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(Sr.some(r=>r.targetElement===n))return;const t={targetElement:n,options:e||{}};Sr=[...Sr,t],$m?(n.ontouchstart=r=>{r.targetTouches.length===1&&(zm=r.targetTouches[0].clientY)},n.ontouchmove=r=>{r.targetTouches.length===1&&ex(r,n)},Ja||(document.addEventListener("touchmove",ch,lh?{passive:!1}:void 0),Ja=!0)):JS(e)},nx=n=>{if(!n){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}Sr=Sr.filter(e=>e.targetElement!==n),$m?(n.ontouchstart=null,n.ontouchmove=null,Ja&&Sr.length===0&&(document.removeEventListener("touchmove",ch,lh?{passive:!1}:void 0),Ja=!1)):Sr.length||ZS()};function rx(n,e){const{lockScrollEl:t,modelValueLocal:r}=e;let s;$e(t,a=>{a&&(s=a)},{immediate:!0}),$e(()=>n.lockScroll,a=>{a?o():i()}),ni(()=>{i()});function i(){s&&nx(s)}function o(){r.value&&n.lockScroll&&s&&tx(s,{reserveScrollBarGap:n.reserveScrollBarGap,allowTouchMove:a=>{for(;a&&a!==document.body;){if(a.getAttribute("vfm-scroll-lock-ignore")!==null)return!0;a=a.parentElement}return!1}})}return{enableBodyScroll:i,disableBodyScroll:o}}function sx(n){const e=_e();function t(s){var i;e.value=(i=n.zIndexFn)==null?void 0:i.call(n,{index:s<=-1?0:s})}function r(){e.value=void 0}return{zIndex:e,refreshZIndex:t,resetZIndex:r}}const gc={beforeMount(n,{value:e},{transition:t}){n._vov=n.style.visibility==="hidden"?"":n.style.visibility,t&&e?t.beforeEnter(n):bi(n,e)},mounted(n,{value:e},{transition:t}){t&&e&&t.enter(n)},updated(n,{value:e,oldValue:t},{transition:r}){!e!=!t&&(r?e?(r.beforeEnter(n),bi(n,!0),r.enter(n)):r.leave(n,()=>{bi(n,!1)}):bi(n,e))},beforeUnmount(n,{value:e}){bi(n,e)}};function bi(n,e){n.style.visibility=e?n._vov:"hidden"}const Yd=n=>{if(n instanceof MouseEvent){const{clientX:e,clientY:t}=n;return{x:e,y:t}}else{const{clientX:e,clientY:t}=n.targetTouches[0];return{x:e,y:t}}};function ix(n){if(!n)return!1;let e=!1;const t={get passive(){return e=!0,!1}};return n.addEventListener("x",_o,t),n.removeEventListener("x",_o),e}function ox(n,{threshold:e=0,onSwipeStart:t,onSwipe:r,onSwipeEnd:s,passive:i=!0}){const o=Ln({x:0,y:0}),a=Ln({x:0,y:0}),l=De(()=>o.x-a.x),u=De(()=>o.y-a.y),{max:c,abs:h}=Math,d=De(()=>c(h(l.value),h(u.value))>=e),f=_e(!1),p=De(()=>d.value?h(l.value)>h(u.value)?l.value>0?"left":"right":u.value>0?"up":"down":"none"),m=(A,D)=>{o.x=A,o.y=D},b=(A,D)=>{a.x=A,a.y=D};let _,S;function y(A){_.capture&&!_.passive&&A.preventDefault();const{x:D,y:M}=Yd(A);m(D,M),b(D,M),t==null||t(A),S=[gr(n,"mousemove",x,_),gr(n,"touchmove",x,_),gr(n,"mouseup",w,_),gr(n,"touchend",w,_),gr(n,"touchcancel",w,_)]}function x(A){const{x:D,y:M}=Yd(A);b(D,M),!f.value&&d.value&&(f.value=!0),f.value&&(r==null||r(A))}function w(A){f.value&&(s==null||s(A,p.value)),f.value=!1,S.forEach(D=>D())}let R=[];return rr(()=>{const A=ix(window==null?void 0:window.document);i?_=A?{passive:!0}:{capture:!1}:_=A?{passive:!1,capture:!0}:{capture:!0},R=[gr(n,"mousedown",y,_),gr(n,"touchstart",y,_)]}),{isSwiping:f,direction:p,coordsStart:o,coordsEnd:a,lengthX:l,lengthY:u,stop:()=>{R.forEach(A=>A()),S.forEach(A=>A())}}}function ax(n,e){const{vfmContentEl:t,modelValueLocal:r}=e,s=.1,i=300,o=_e(),a=De(()=>{if(!(n.swipeToClose===void 0||n.swipeToClose==="none"))return n.showSwipeBanner?o.value:t.value}),l=_e(0),u=_e(!0);let c=_o,h=!0,d,f=!1;const{lengthX:p,lengthY:m,direction:b,isSwiping:_}=ox(a,{threshold:n.threshold,onSwipeStart(w){c=gr(document,"selectionchange",()=>{var R;u.value=(R=window.getSelection())==null?void 0:R.isCollapsed}),d=new Date().getTime(),f=x(w==null?void 0:w.target)},onSwipe(){var w,R,A,D;if(f&&u.value&&b.value===n.swipeToClose){if(b.value==="up"){const M=ra(Math.abs(m.value||0),0,((w=a.value)==null?void 0:w.offsetHeight)||0)-(n.threshold||0);l.value=M}else if(b.value==="down"){const M=ra(Math.abs(m.value||0),0,((R=a.value)==null?void 0:R.offsetHeight)||0)-(n.threshold||0);l.value=-M}else if(b.value==="right"){const M=ra(Math.abs(p.value||0),0,((A=a.value)==null?void 0:A.offsetWidth)||0)-(n.threshold||0);l.value=-M}else if(b.value==="left"){const M=ra(Math.abs(p.value||0),0,((D=a.value)==null?void 0:D.offsetWidth)||0)-(n.threshold||0);l.value=M}}},onSwipeEnd(w,R){if(c(),!u.value){u.value=!0;return}const A=new Date().getTime(),D=R===n.swipeToClose,M=(()=>{var W,C;if(R==="up"||R==="down")return Math.abs((m==null?void 0:m.value)||0)>s*(((W=a.value)==null?void 0:W.offsetHeight)||0);if(R==="left"||R==="right")return Math.abs((p==null?void 0:p.value)||0)>s*(((C=a.value)==null?void 0:C.offsetWidth)||0)})(),j=A-d<=i;if(h&&f&&D&&(M||j)){r.value=!1;return}l.value=0}}),S=De(()=>{if(n.swipeToClose==="none")return;const w=(()=>{switch(n.swipeToClose){case"up":case"down":return"translateY";case"left":case"right":return"translateX"}})();return{class:{"vfm-bounce-back":!_.value},style:{transform:`${w}(${-l.value}px)`}}});$e(()=>u.value,w=>{w||(l.value=0)}),$e(()=>r.value,w=>{w&&(l.value=0)}),$e(()=>l.value,(w,R)=>{switch(n.swipeToClose){case"down":case"right":h=w<R;break;case"up":case"left":h=w>R;break}});function y(w){n.preventNavigationGestures&&w.preventDefault()}function x(w){const R=w==null?void 0:w.tagName;if(!R||["INPUT","TEXTAREA"].includes(R))return!1;const A=(()=>{switch(n.swipeToClose){case"up":return(w==null?void 0:w.scrollTop)+(w==null?void 0:w.clientHeight)===(w==null?void 0:w.scrollHeight);case"left":return(w==null?void 0:w.scrollLeft)+(w==null?void 0:w.clientWidth)===(w==null?void 0:w.scrollWidth);case"down":return(w==null?void 0:w.scrollTop)===0;case"right":return(w==null?void 0:w.scrollLeft)===0;default:return!1}})();return w===a.value?A:A&&x(w==null?void 0:w.parentElement)}return{vfmContentEl:t,swipeBannerEl:o,bindSwipe:S,onTouchStartSwipeBanner:y}}const Gm=Symbol("vfm");let Ym;const lx=n=>Ym=n,cx={install:_o,modals:[],openedModals:[],openedModalOverlays:[],dynamicModals:[],modalsContainers:_e([]),get:()=>{},toggle:()=>{},open:()=>{},close:()=>{},closeAll:()=>Promise.allSettled([])},ux=()=>Ct()&&$t(Gm,cx)||Ym;function hx(){const n=zr([]),e=zr([]),t=zr([]),r=zr([]),s=_e([]),i=ei({install(o){o.provide(Gm,i),o.config.globalProperties.$vfm=i},modals:n,openedModals:e,openedModalOverlays:t,dynamicModals:r,modalsContainers:s,get(o){return n.find(a=>{var l,u;return((u=(l=no(a))==null?void 0:l.value.modalId)==null?void 0:u.value)===o})},toggle(o,a){var l;const u=i.get(o);return(l=no(u))==null?void 0:l.value.toggle(a)},open(o){return i.toggle(o,!0)},close(o){return i.toggle(o,!1)},closeAll(){return Promise.allSettled(e.reduce((o,a)=>{const l=no(a),u=l==null?void 0:l.value.toggle(!1);return u&&o.push(u),o},[]))}});return lx(i),i}function no(n){var e;return(e=n==null?void 0:n.exposed)==null?void 0:e.modalExposed}const dx=Jt({inheritAttrs:!1}),UD=Jt({...dx,__name:"VueFinalModal",props:US,emits:["update:modelValue","beforeOpen","opened","beforeClose","closed","clickOutside"],setup(n,{expose:e,emit:t}){const r=n,s=t,i=mg(),o=Ct(),{modals:a,openedModals:l,openedModalOverlays:u}=fx(),c=_e(),h=_e(),{focus:d,blur:f}=XS(r,{focusEl:c}),{zIndex:p,refreshZIndex:m,resetZIndex:b}=sx(r),{modelValueLocal:_}=zS(r,s,{open:Te,close:ke}),{enableBodyScroll:S,disableBodyScroll:y}=rx(r,{lockScrollEl:c,modelValueLocal:_});let x=_o;const{visible:w,contentVisible:R,contentListeners:A,contentTransition:D,overlayVisible:M,overlayListeners:j,overlayTransition:W,enterTransition:C,leaveTransition:E}=WS(r,{modelValueLocal:_,onEntering(){an(()=>{y(),d()})},onEnter(){s("opened"),x("opened")},onLeave(){Ti(l,o),b(),S(),s("closed"),x("closed")}}),{onEsc:B,onMouseupRoot:K,onMousedown:I}=$S(r,s,{vfmRootEl:c,vfmContentEl:h,visible:w,modelValueLocal:_}),{swipeBannerEl:G,bindSwipe:$,onTouchStartSwipeBanner:se}=ax(r,{vfmContentEl:h,modelValueLocal:_}),de=De(()=>o?l.indexOf(o):-1);$e([()=>r.zIndexFn,de],()=>{w.value&&m(de.value)}),rr(()=>{pc(a,o)}),r.modelValue&&(_.value=!0);function Te(){let X=!1;return s("beforeOpen",{stop:()=>X=!0}),X?!1:(pc(l,o),pc(u,o),Ve(),C(),!0)}function ke(){let X=!1;return s("beforeClose",{stop:()=>X=!0}),X?!1:(Ti(u,o),Ve(),f(),E(),!0)}function Ge(){_.value=!1}ni(()=>{S(),Ti(a,o),Ti(l,o),f(),Ve()});async function Ve(){await an();const X=u.filter(q=>{var ue;const xe=no(q);return(xe==null?void 0:xe.value.overlayBehavior.value)==="auto"&&!((ue=xe==null?void 0:xe.value.hideOverlay)!=null&&ue.value)});X.forEach((q,ue)=>{const xe=no(q);xe!=null&&xe.value&&(xe.value.overlayVisible.value=ue===X.length-1)})}const pt=zi(()=>r.modalId),je=zi(()=>r.hideOverlay),U=zi(()=>r.overlayBehavior),ie=De(()=>({modalId:pt,hideOverlay:je,overlayBehavior:U,overlayVisible:M,toggle(X){return new Promise(q=>{x=HS(xe=>q(xe));const ue=typeof X=="boolean"?X:!_.value;_.value=ue})}}));return e({modalExposed:ie}),(X,q)=>(ye(),wt(eg,{to:X.teleportTo?X.teleportTo:void 0,disabled:!X.teleportTo},[X.displayDirective!=="if"||ve(w)?es((ye(),Ue("div",wr({key:0},ve(i),{ref_key:"vfmRootEl",ref:c,class:["vfm vfm--fixed vfm--inset",{"vfm--prevent-none":X.background==="interactive"}],style:{zIndex:ve(p)},role:"dialog","aria-modal":"true",onKeydown:q[7]||(q[7]=ym(()=>ve(B)(),["esc"])),onMouseup:q[8]||(q[8]=bo(()=>ve(K)(),["self"])),onMousedown:q[9]||(q[9]=bo(ue=>ve(I)(ue),["self"]))}),[je.value?nn("",!0):(ye(),wt(zs,wr({key:0},ve(W),ja(ve(j))),{default:Wt(()=>[X.displayDirective!=="if"||ve(M)?es((ye(),Ue("div",{key:0,class:lt(["vfm__overlay vfm--overlay vfm--absolute vfm--inset vfm--prevent-none",X.overlayClass]),style:Zs(X.overlayStyle),"aria-hidden":"true"},null,6)),[[rs,X.displayDirective!=="show"||ve(M)],[ve(gc),X.displayDirective!=="visible"||ve(M)]]):nn("",!0)]),_:1},16)),Oe(zs,wr(ve(D),ja(ve(A))),{default:Wt(()=>[X.displayDirective!=="if"||ve(R)?es((ye(),Ue("div",wr({key:0,ref_key:"vfmContentEl",ref:h,class:["vfm__content vfm--outline-none",[X.contentClass,{"vfm--prevent-auto":X.background==="interactive"}]],style:X.contentStyle,tabindex:"0"},ve($),{onMousedown:q[6]||(q[6]=()=>ve(I)())}),[gt(X.$slots,"default",Qt(en({close:Ge}))),X.showSwipeBanner?(ye(),Ue("div",{key:0,ref_key:"swipeBannerEl",ref:G,class:"vfm-swipe-banner-container",onTouchstart:q[2]||(q[2]=ue=>ve(se)(ue))},[gt(X.$slots,"swipe-banner",{},()=>[pe("div",{class:"vfm-swipe-banner-back",onTouchstart:q[0]||(q[0]=ue=>X.swipeToClose==="left"&&ue.preventDefault())},null,32),pe("div",{class:"vfm-swipe-banner-forward",onTouchstart:q[1]||(q[1]=ue=>X.swipeToClose==="right"&&ue.preventDefault())},null,32)])],544)):!X.showSwipeBanner&&X.preventNavigationGestures?(ye(),Ue("div",{key:1,class:"vfm-swipe-banner-container",onTouchstart:q[5]||(q[5]=ue=>ve(se)(ue))},[pe("div",{class:"vfm-swipe-banner-back",onTouchstart:q[3]||(q[3]=ue=>X.swipeToClose==="left"&&ue.preventDefault())},null,32),pe("div",{class:"vfm-swipe-banner-forward",onTouchstart:q[4]||(q[4]=ue=>X.swipeToClose==="right"&&ue.preventDefault())},null,32)],32)):nn("",!0)],16)),[[rs,X.displayDirective!=="show"||ve(R)],[ve(gc),X.displayDirective!=="visible"||ve(R)]]):nn("",!0)]),_:3},16)],16)),[[rs,X.displayDirective!=="show"||ve(w)],[ve(gc),X.displayDirective!=="visible"||ve(w)]]):nn("",!0)],8,["to","disabled"]))}});function fx(){const n=ux();if(!n)throw new Error(`[Vue Final Modal]: getActiveVfm was called with no active Vfm. Did you forget to install vfm?
	const vfm = createVfm()
	app.use(vfm)
This will fail in production.`);return n}const px=n=>{const e=hx();n.use(e)};var gx=Object.defineProperty,mx=Object.defineProperties,vx=Object.getOwnPropertyDescriptors,Kd=Object.getOwnPropertySymbols,yx=Object.prototype.hasOwnProperty,bx=Object.prototype.propertyIsEnumerable,qd=(n,e,t)=>e in n?gx(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ss=(n,e)=>{for(var t in e||(e={}))yx.call(e,t)&&qd(n,t,e[t]);if(Kd)for(var t of Kd(e))bx.call(e,t)&&qd(n,t,e[t]);return n},Jd=(n,e)=>mx(n,vx(e));const _x={props:{autoscroll:{type:Boolean,default:!0}},watch:{typeAheadPointer(){this.autoscroll&&this.maybeAdjustScroll()},open(n){this.autoscroll&&n&&this.$nextTick(()=>this.maybeAdjustScroll())}},methods:{maybeAdjustScroll(){var n;const e=((n=this.$refs.dropdownMenu)==null?void 0:n.children[this.typeAheadPointer])||!1;if(e){const t=this.getDropdownViewport(),{top:r,bottom:s,height:i}=e.getBoundingClientRect();if(r<t.top)return this.$refs.dropdownMenu.scrollTop=e.offsetTop;if(s>t.bottom)return this.$refs.dropdownMenu.scrollTop=e.offsetTop-(t.height-i)}},getDropdownViewport(){return this.$refs.dropdownMenu?this.$refs.dropdownMenu.getBoundingClientRect():{height:0,top:0,bottom:0}}}},wx={data(){return{typeAheadPointer:-1}},watch:{filteredOptions(){for(let n=0;n<this.filteredOptions.length;n++)if(this.selectable(this.filteredOptions[n])){this.typeAheadPointer=n;break}},open(n){n&&this.typeAheadToLastSelected()},selectedValue(){this.open&&this.typeAheadToLastSelected()}},methods:{typeAheadUp(){for(let n=this.typeAheadPointer-1;n>=0;n--)if(this.selectable(this.filteredOptions[n])){this.typeAheadPointer=n;break}},typeAheadDown(){for(let n=this.typeAheadPointer+1;n<this.filteredOptions.length;n++)if(this.selectable(this.filteredOptions[n])){this.typeAheadPointer=n;break}},typeAheadSelect(){const n=this.filteredOptions[this.typeAheadPointer];n&&this.selectable(n)&&this.select(n)},typeAheadToLastSelected(){this.typeAheadPointer=this.selectedValue.length!==0?this.filteredOptions.indexOf(this.selectedValue[this.selectedValue.length-1]):-1}}},Sx={props:{loading:{type:Boolean,default:!1}},data(){return{mutableLoading:!1}},watch:{search(){this.$emit("search",this.search,this.toggleLoading)},loading(n){this.mutableLoading=n}},methods:{toggleLoading(n=null){return n==null?this.mutableLoading=!this.mutableLoading:this.mutableLoading=n}}},uh=(n,e)=>{const t=n.__vccOpts||n;for(const[r,s]of e)t[r]=s;return t},xx={},Cx={xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10"},Tx=pe("path",{d:"M6.895455 5l2.842897-2.842898c.348864-.348863.348864-.914488 0-1.263636L9.106534.261648c-.348864-.348864-.914489-.348864-1.263636 0L5 3.104545 2.157102.261648c-.348863-.348864-.914488-.348864-1.263636 0L.261648.893466c-.348864.348864-.348864.914489 0 1.263636L3.104545 5 .261648 7.842898c-.348864.348863-.348864.914488 0 1.263636l.631818.631818c.348864.348864.914773.348864 1.263636 0L5 6.895455l2.842898 2.842897c.348863.348864.914772.348864 1.263636 0l.631818-.631818c.348864-.348864.348864-.914489 0-1.263636L6.895455 5z"},null,-1),Ox=[Tx];function Ex(n,e){return ye(),Ue("svg",Cx,Ox)}const kx=uh(xx,[["render",Ex]]),Ax={},Dx={xmlns:"http://www.w3.org/2000/svg",width:"14",height:"10"},Px=pe("path",{d:"M9.211364 7.59931l4.48338-4.867229c.407008-.441854.407008-1.158247 0-1.60046l-.73712-.80023c-.407008-.441854-1.066904-.441854-1.474243 0L7 5.198617 2.51662.33139c-.407008-.441853-1.066904-.441853-1.474243 0l-.737121.80023c-.407008.441854-.407008 1.158248 0 1.600461l4.48338 4.867228L7 10l2.211364-2.40069z"},null,-1),Mx=[Px];function Rx(n,e){return ye(),Ue("svg",Dx,Mx)}const Fx=uh(Ax,[["render",Rx]]),Zd={Deselect:kx,OpenIndicator:Fx},Lx={mounted(n,{instance:e}){if(e.appendToBody){const{height:t,top:r,left:s,width:i}=e.$refs.toggle.getBoundingClientRect();let o=window.scrollX||window.pageXOffset,a=window.scrollY||window.pageYOffset;n.unbindPosition=e.calculatePosition(n,e,{width:i+"px",left:o+s+"px",top:a+r+t+"px"}),document.body.appendChild(n)}},unmounted(n,{instance:e}){e.appendToBody&&(n.unbindPosition&&typeof n.unbindPosition=="function"&&n.unbindPosition(),n.parentNode&&n.parentNode.removeChild(n))}};function jx(n){const e={};return Object.keys(n).sort().forEach(t=>{e[t]=n[t]}),JSON.stringify(e)}let Ix=0;function Bx(){return++Ix}const Nx={components:Ss({},Zd),directives:{appendToBody:Lx},mixins:[_x,wx,Sx],compatConfig:{MODE:3},emits:["open","close","update:modelValue","search","search:compositionstart","search:compositionend","search:keydown","search:blur","search:focus","search:input","option:created","option:selecting","option:selected","option:deselecting","option:deselected"],props:{modelValue:{},components:{type:Object,default:()=>({})},options:{type:Array,default(){return[]}},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},deselectFromDropdown:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},placeholder:{type:String,default:""},transition:{type:String,default:"vs__fade"},clearSearchOnSelect:{type:Boolean,default:!0},closeOnSelect:{type:Boolean,default:!0},label:{type:String,default:"label"},autocomplete:{type:String,default:"off"},reduce:{type:Function,default:n=>n},selectable:{type:Function,default:n=>!0},getOptionLabel:{type:Function,default(n){return typeof n=="object"?n.hasOwnProperty(this.label)?n[this.label]:console.warn(`[vue-select warn]: Label key "option.${this.label}" does not exist in options object ${JSON.stringify(n)}.
https://vue-select.org/api/props.html#getoptionlabel`):n}},getOptionKey:{type:Function,default(n){if(typeof n!="object")return n;try{return n.hasOwnProperty("id")?n.id:jx(n)}catch(e){return console.warn(`[vue-select warn]: Could not stringify this option to generate unique key. Please provide'getOptionKey' prop to return a unique key for each option.
https://vue-select.org/api/props.html#getoptionkey`,n,e)}}},onTab:{type:Function,default:function(){this.selectOnTab&&!this.isComposing&&this.typeAheadSelect()}},taggable:{type:Boolean,default:!1},tabindex:{type:Number,default:null},pushTags:{type:Boolean,default:!1},filterable:{type:Boolean,default:!0},filterBy:{type:Function,default(n,e,t){return(e||"").toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>-1}},filter:{type:Function,default(n,e){return n.filter(t=>{let r=this.getOptionLabel(t);return typeof r=="number"&&(r=r.toString()),this.filterBy(t,r,e)})}},createOption:{type:Function,default(n){return typeof this.optionList[0]=="object"?{[this.label]:n}:n}},resetOnOptionsChange:{default:!1,validator:n=>["function","boolean"].includes(typeof n)},clearSearchOnBlur:{type:Function,default:function({clearSearchOnSelect:n,multiple:e}){return n&&!e}},noDrop:{type:Boolean,default:!1},inputId:{type:String},dir:{type:String,default:"auto"},selectOnTab:{type:Boolean,default:!1},selectOnKeyCodes:{type:Array,default:()=>[13]},searchInputQuerySelector:{type:String,default:"[type=search]"},mapKeydown:{type:Function,default:(n,e)=>n},appendToBody:{type:Boolean,default:!1},calculatePosition:{type:Function,default(n,e,{width:t,top:r,left:s}){n.style.top=r,n.style.left=s,n.style.width=t}},dropdownShouldOpen:{type:Function,default({noDrop:n,open:e,mutableLoading:t}){return n?!1:e&&!t}},uid:{type:[String,Number],default:()=>Bx()}},data(){return{search:"",open:!1,isComposing:!1,pushedTags:[],_value:[],deselectButtons:[]}},computed:{isReducingValues(){return this.$props.reduce!==this.$options.props.reduce.default},isTrackingValues(){return typeof this.modelValue>"u"||this.isReducingValues},selectedValue(){let n=this.modelValue;return this.isTrackingValues&&(n=this.$data._value),n!=null&&n!==""?[].concat(n):[]},optionList(){return this.options.concat(this.pushTags?this.pushedTags:[])},searchEl(){return this.$slots.search?this.$refs.selectedOptions.querySelector(this.searchInputQuerySelector):this.$refs.search},scope(){const n={search:this.search,loading:this.loading,searching:this.searching,filteredOptions:this.filteredOptions};return{search:{attributes:Ss({disabled:this.disabled,placeholder:this.searchPlaceholder,tabindex:this.tabindex,readonly:!this.searchable,id:this.inputId,"aria-autocomplete":"list","aria-labelledby":`vs${this.uid}__combobox`,"aria-controls":`vs${this.uid}__listbox`,ref:"search",type:"search",autocomplete:this.autocomplete,value:this.search},this.dropdownOpen&&this.filteredOptions[this.typeAheadPointer]?{"aria-activedescendant":`vs${this.uid}__option-${this.typeAheadPointer}`}:{}),events:{compositionstart:()=>this.isComposing=!0,compositionend:()=>this.isComposing=!1,keydown:this.onSearchKeyDown,blur:this.onSearchBlur,focus:this.onSearchFocus,input:e=>this.search=e.target.value}},spinner:{loading:this.mutableLoading},noOptions:{search:this.search,loading:this.mutableLoading,searching:this.searching},openIndicator:{attributes:{ref:"openIndicator",role:"presentation",class:"vs__open-indicator"}},listHeader:n,listFooter:n,header:Jd(Ss({},n),{deselect:this.deselect}),footer:Jd(Ss({},n),{deselect:this.deselect})}},childComponents(){return Ss(Ss({},Zd),this.components)},stateClasses(){return{"vs--open":this.dropdownOpen,"vs--single":!this.multiple,"vs--multiple":this.multiple,"vs--searching":this.searching&&!this.noDrop,"vs--searchable":this.searchable&&!this.noDrop,"vs--unsearchable":!this.searchable,"vs--loading":this.mutableLoading,"vs--disabled":this.disabled}},searching(){return!!this.search},dropdownOpen(){return this.dropdownShouldOpen(this)},searchPlaceholder(){return this.isValueEmpty&&this.placeholder?this.placeholder:void 0},filteredOptions(){const n=[].concat(this.optionList);if(!this.filterable&&!this.taggable)return n;const e=this.search.length?this.filter(n,this.search,this):n;if(this.taggable&&this.search.length){const t=this.createOption(this.search);this.optionExists(t)||e.unshift(t)}return e},isValueEmpty(){return this.selectedValue.length===0},showClearButton(){return!this.multiple&&this.clearable&&!this.open&&!this.isValueEmpty}},watch:{options(n,e){const t=()=>typeof this.resetOnOptionsChange=="function"?this.resetOnOptionsChange(n,e,this.selectedValue):this.resetOnOptionsChange;!this.taggable&&t()&&this.clearSelection(),this.modelValue&&this.isTrackingValues&&this.setInternalValueFromOptions(this.modelValue)},modelValue:{immediate:!0,handler(n){this.isTrackingValues&&this.setInternalValueFromOptions(n)}},multiple(){this.clearSelection()},open(n){this.$emit(n?"open":"close")}},created(){this.mutableLoading=this.loading},methods:{setInternalValueFromOptions(n){Array.isArray(n)?this.$data._value=n.map(e=>this.findOptionFromReducedValue(e)):this.$data._value=this.findOptionFromReducedValue(n)},select(n){this.$emit("option:selecting",n),this.isOptionSelected(n)?this.deselectFromDropdown&&(this.clearable||this.multiple&&this.selectedValue.length>1)&&this.deselect(n):(this.taggable&&!this.optionExists(n)&&(this.$emit("option:created",n),this.pushTag(n)),this.multiple&&(n=this.selectedValue.concat(n)),this.updateValue(n),this.$emit("option:selected",n)),this.onAfterSelect(n)},deselect(n){this.$emit("option:deselecting",n),this.updateValue(this.selectedValue.filter(e=>!this.optionComparator(e,n))),this.$emit("option:deselected",n)},clearSelection(){this.updateValue(this.multiple?[]:null)},onAfterSelect(n){this.closeOnSelect&&(this.open=!this.open,this.searchEl.blur()),this.clearSearchOnSelect&&(this.search="")},updateValue(n){typeof this.modelValue>"u"&&(this.$data._value=n),n!==null&&(Array.isArray(n)?n=n.map(e=>this.reduce(e)):n=this.reduce(n)),this.$emit("update:modelValue",n)},toggleDropdown(n){const e=n.target!==this.searchEl;e&&n.preventDefault();const t=[...this.deselectButtons||[],this.$refs.clearButton];if(this.searchEl===void 0||t.filter(Boolean).some(r=>r.contains(n.target)||r===n.target)){n.preventDefault();return}this.open&&e?this.searchEl.blur():this.disabled||(this.open=!0,this.searchEl.focus())},isOptionSelected(n){return this.selectedValue.some(e=>this.optionComparator(e,n))},isOptionDeselectable(n){return this.isOptionSelected(n)&&this.deselectFromDropdown},optionComparator(n,e){return this.getOptionKey(n)===this.getOptionKey(e)},findOptionFromReducedValue(n){const e=r=>JSON.stringify(this.reduce(r))===JSON.stringify(n),t=[...this.options,...this.pushedTags].filter(e);return t.length===1?t[0]:t.find(r=>this.optionComparator(r,this.$data._value))||n},closeSearchOptions(){this.open=!1,this.$emit("search:blur")},maybeDeleteValue(){if(!this.searchEl.value.length&&this.selectedValue&&this.selectedValue.length&&this.clearable){let n=null;this.multiple&&(n=[...this.selectedValue.slice(0,this.selectedValue.length-1)]),this.updateValue(n)}},optionExists(n){return this.optionList.some(e=>this.optionComparator(e,n))},normalizeOptionForSlot(n){return typeof n=="object"?n:{[this.label]:n}},pushTag(n){this.pushedTags.push(n)},onEscape(){this.search.length?this.search="":this.searchEl.blur()},onSearchBlur(){if(this.mousedown&&!this.searching)this.mousedown=!1;else{const{clearSearchOnSelect:n,multiple:e}=this;this.clearSearchOnBlur({clearSearchOnSelect:n,multiple:e})&&(this.search=""),this.closeSearchOptions();return}if(this.search.length===0&&this.options.length===0){this.closeSearchOptions();return}},onSearchFocus(){this.open=!0,this.$emit("search:focus")},onMousedown(){this.mousedown=!0},onMouseUp(){this.mousedown=!1},onSearchKeyDown(n){const e=s=>(s.preventDefault(),!this.isComposing&&this.typeAheadSelect()),t={8:s=>this.maybeDeleteValue(),9:s=>this.onTab(),27:s=>this.onEscape(),38:s=>(s.preventDefault(),this.typeAheadUp()),40:s=>(s.preventDefault(),this.typeAheadDown())};this.selectOnKeyCodes.forEach(s=>t[s]=e);const r=this.mapKeydown(t,this);if(typeof r[n.keyCode]=="function")return r[n.keyCode](n)}}},Vx=["dir"],Hx=["id","aria-expanded","aria-owns"],Ux={ref:"selectedOptions",class:"vs__selected-options"},Wx=["disabled","title","aria-label","onClick"],$x={ref:"actions",class:"vs__actions"},zx=["disabled"],Xx={class:"vs__spinner"},Gx=["id"],Yx=["id","aria-selected","onMouseover","onClick"],Kx={key:0,class:"vs__no-options"},qx=Qn(" Sorry, no matching options. "),Jx=["id"];function Zx(n,e,t,r,s,i){const o=gg("append-to-body");return ye(),Ue("div",{dir:t.dir,class:lt(["v-select",i.stateClasses])},[gt(n.$slots,"header",Qt(en(i.scope.header))),pe("div",{id:`vs${t.uid}__combobox`,ref:"toggle",class:"vs__dropdown-toggle",role:"combobox","aria-expanded":i.dropdownOpen.toString(),"aria-owns":`vs${t.uid}__listbox`,"aria-label":"Search for option",onMousedown:e[1]||(e[1]=a=>i.toggleDropdown(a))},[pe("div",Ux,[(ye(!0),Ue(Qe,null,Vc(i.selectedValue,(a,l)=>gt(n.$slots,"selected-option-container",{option:i.normalizeOptionForSlot(a),deselect:i.deselect,multiple:t.multiple,disabled:t.disabled},()=>[(ye(),Ue("span",{key:t.getOptionKey(a),class:"vs__selected"},[gt(n.$slots,"selected-option",Qt(en(i.normalizeOptionForSlot(a))),()=>[Qn(co(t.getOptionLabel(a)),1)]),t.multiple?(ye(),Ue("button",{key:0,ref_for:!0,ref:u=>s.deselectButtons[l]=u,disabled:t.disabled,type:"button",class:"vs__deselect",title:`Deselect ${t.getOptionLabel(a)}`,"aria-label":`Deselect ${t.getOptionLabel(a)}`,onClick:u=>i.deselect(a)},[(ye(),wt(Gi(i.childComponents.Deselect)))],8,Wx)):nn("",!0)]))])),256)),gt(n.$slots,"search",Qt(en(i.scope.search)),()=>[pe("input",wr({class:"vs__search"},i.scope.search.attributes,ja(i.scope.search.events)),null,16)])],512),pe("div",$x,[es(pe("button",{ref:"clearButton",disabled:t.disabled,type:"button",class:"vs__clear",title:"Clear Selected","aria-label":"Clear Selected",onClick:e[0]||(e[0]=(...a)=>i.clearSelection&&i.clearSelection(...a))},[(ye(),wt(Gi(i.childComponents.Deselect)))],8,zx),[[rs,i.showClearButton]]),gt(n.$slots,"open-indicator",Qt(en(i.scope.openIndicator)),()=>[t.noDrop?nn("",!0):(ye(),wt(Gi(i.childComponents.OpenIndicator),Qt(wr({key:0},i.scope.openIndicator.attributes)),null,16))]),gt(n.$slots,"spinner",Qt(en(i.scope.spinner)),()=>[es(pe("div",Xx,"Loading...",512),[[rs,n.mutableLoading]])])],512)],40,Hx),Oe(zs,{name:t.transition},{default:Wt(()=>[i.dropdownOpen?es((ye(),Ue("ul",{id:`vs${t.uid}__listbox`,ref:"dropdownMenu",key:`vs${t.uid}__listbox`,class:"vs__dropdown-menu",role:"listbox",tabindex:"-1",onMousedown:e[2]||(e[2]=bo((...a)=>i.onMousedown&&i.onMousedown(...a),["prevent"])),onMouseup:e[3]||(e[3]=(...a)=>i.onMouseUp&&i.onMouseUp(...a))},[gt(n.$slots,"list-header",Qt(en(i.scope.listHeader))),(ye(!0),Ue(Qe,null,Vc(i.filteredOptions,(a,l)=>(ye(),Ue("li",{id:`vs${t.uid}__option-${l}`,key:t.getOptionKey(a),role:"option",class:lt(["vs__dropdown-option",{"vs__dropdown-option--deselect":i.isOptionDeselectable(a)&&l===n.typeAheadPointer,"vs__dropdown-option--selected":i.isOptionSelected(a),"vs__dropdown-option--highlight":l===n.typeAheadPointer,"vs__dropdown-option--disabled":!t.selectable(a)}]),"aria-selected":l===n.typeAheadPointer?!0:null,onMouseover:u=>t.selectable(a)?n.typeAheadPointer=l:null,onClick:bo(u=>t.selectable(a)?i.select(a):null,["prevent","stop"])},[gt(n.$slots,"option",Qt(en(i.normalizeOptionForSlot(a))),()=>[Qn(co(t.getOptionLabel(a)),1)])],42,Yx))),128)),i.filteredOptions.length===0?(ye(),Ue("li",Kx,[gt(n.$slots,"no-options",Qt(en(i.scope.noOptions)),()=>[qx])])):nn("",!0),gt(n.$slots,"list-footer",Qt(en(i.scope.listFooter)))],40,Gx)),[[o]]):(ye(),Ue("ul",{key:1,id:`vs${t.uid}__listbox`,role:"listbox",style:{display:"none",visibility:"hidden"}},null,8,Jx))]),_:3},8,["name"]),gt(n.$slots,"footer",Qt(en(i.scope.footer)))],10,Vx)}const Qx=uh(Nx,[["render",Zx]]),e1=n=>{n.component("VSelect",Qx)};var t1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function n1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function r1(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var s=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:function(){return n[r]}})}),t}var Km={exports:{}};const s1=r1(Aw);(function(n,e){(function(t,r){n.exports=r(s1)})(typeof self<"u"?self:t1,function(t){return function(){var r={388:function(a,l){var u,c,h;(function(d,f){c=[],u=f,h=typeof u=="function"?u.apply(l,c):u,h===void 0||(a.exports=h)})(typeof self<"u"&&self,function(){function d(){var f=Object.getOwnPropertyDescriptor(document,"currentScript");if(!f&&"currentScript"in document&&document.currentScript||f&&f.get!==d&&document.currentScript)return document.currentScript;try{throw new Error}catch(M){var p,m,b,_=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,S=/@([^@]*):(\d+):(\d+)\s*$/gi,y=_.exec(M.stack)||S.exec(M.stack),x=y&&y[1]||!1,w=y&&y[2]||!1,R=document.location.href.replace(document.location.hash,""),A=document.getElementsByTagName("script");x===R&&(p=document.documentElement.outerHTML,m=new RegExp("(?:[^\\n]+?\\n){0,"+(w-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),b=p.replace(m,"$1").trim());for(var D=0;D<A.length;D++)if(A[D].readyState==="interactive"||A[D].src===x||x===R&&A[D].innerHTML&&A[D].innerHTML.trim()===b)return A[D];return null}}return d})},905:function(a,l,u){u.r(l);var c=u(117),h=u.n(c),d=u(488),f=u.n(d),p=f()(h());p.push([a.id,".vue-slider-dot{position:absolute;-webkit-transition:all 0s;transition:all 0s;z-index:5}.vue-slider-dot:focus{outline:none}.vue-slider-dot-tooltip{position:absolute;visibility:hidden}.vue-slider-dot-hover:hover .vue-slider-dot-tooltip,.vue-slider-dot-tooltip-show{visibility:visible}.vue-slider-dot-tooltip-top{top:-10px;left:50%;-webkit-transform:translate(-50%,-100%);transform:translate(-50%,-100%)}.vue-slider-dot-tooltip-bottom{bottom:-10px;left:50%;-webkit-transform:translate(-50%,100%);transform:translate(-50%,100%)}.vue-slider-dot-tooltip-left{left:-10px;top:50%;-webkit-transform:translate(-100%,-50%);transform:translate(-100%,-50%)}.vue-slider-dot-tooltip-right{right:-10px;top:50%;-webkit-transform:translate(100%,-50%);transform:translate(100%,-50%)}",""]),l.default=p},121:function(a,l,u){u.r(l);var c=u(117),h=u.n(c),d=u(488),f=u.n(d),p=f()(h());p.push([a.id,".vue-slider-marks{position:relative;width:100%;height:100%}.vue-slider-mark{position:absolute;z-index:1}.vue-slider-ltr .vue-slider-mark,.vue-slider-rtl .vue-slider-mark{width:0;height:100%;top:50%}.vue-slider-ltr .vue-slider-mark-step,.vue-slider-rtl .vue-slider-mark-step{top:0}.vue-slider-ltr .vue-slider-mark-label,.vue-slider-rtl .vue-slider-mark-label{top:100%;margin-top:10px}.vue-slider-ltr .vue-slider-mark{-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.vue-slider-ltr .vue-slider-mark-step{left:0}.vue-slider-ltr .vue-slider-mark-label{left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.vue-slider-rtl .vue-slider-mark{-webkit-transform:translate(50%,-50%);transform:translate(50%,-50%)}.vue-slider-rtl .vue-slider-mark-step{right:0}.vue-slider-rtl .vue-slider-mark-label{right:50%;-webkit-transform:translateX(50%);transform:translateX(50%)}.vue-slider-btt .vue-slider-mark,.vue-slider-ttb .vue-slider-mark{width:100%;height:0;left:50%}.vue-slider-btt .vue-slider-mark-step,.vue-slider-ttb .vue-slider-mark-step{left:0}.vue-slider-btt .vue-slider-mark-label,.vue-slider-ttb .vue-slider-mark-label{left:100%;margin-left:10px}.vue-slider-btt .vue-slider-mark{-webkit-transform:translate(-50%,50%);transform:translate(-50%,50%)}.vue-slider-btt .vue-slider-mark-step{top:0}.vue-slider-btt .vue-slider-mark-label{top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.vue-slider-ttb .vue-slider-mark{-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.vue-slider-ttb .vue-slider-mark-step{bottom:0}.vue-slider-ttb .vue-slider-mark-label{bottom:50%;-webkit-transform:translateY(50%);transform:translateY(50%)}.vue-slider-mark-label,.vue-slider-mark-step{position:absolute}",""]),l.default=p},207:function(a,l,u){u.r(l);var c=u(117),h=u.n(c),d=u(488),f=u.n(d),p=f()(h());p.push([a.id,".vue-slider{position:relative;-webkit-box-sizing:content-box;box-sizing:content-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:block;-webkit-tap-highlight-color:rgba(0,0,0,0)}.vue-slider-rail{position:relative;width:100%;height:100%;-webkit-transition-property:width,height,left,right,top,bottom;transition-property:width,height,left,right,top,bottom}.vue-slider-process{position:absolute;z-index:1}",""]),l.default=p},488:function(a){a.exports=function(l){var u=[];return u.toString=function(){return this.map(function(c){var h="",d=typeof c[5]<"u";return c[4]&&(h+="@supports (".concat(c[4],") {")),c[2]&&(h+="@media ".concat(c[2]," {")),d&&(h+="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {")),h+=l(c),d&&(h+="}"),c[2]&&(h+="}"),c[4]&&(h+="}"),h}).join("")},u.i=function(c,h,d,f,p){typeof c=="string"&&(c=[[null,c,void 0]]);var m={};if(d)for(var b=0;b<this.length;b++){var _=this[b][0];_!=null&&(m[_]=!0)}for(var S=0;S<c.length;S++){var y=[].concat(c[S]);d&&m[y[0]]||(typeof p<"u"&&(typeof y[5]>"u"||(y[1]="@layer".concat(y[5].length>0?" ".concat(y[5]):""," {").concat(y[1],"}")),y[5]=p),h&&(y[2]&&(y[1]="@media ".concat(y[2]," {").concat(y[1],"}")),y[2]=h),f&&(y[4]?(y[1]="@supports (".concat(y[4],") {").concat(y[1],"}"),y[4]=f):y[4]="".concat(f)),u.push(y))}},u}},117:function(a){a.exports=function(l){return l[1]}},831:function(a,l){l.Z=(u,c)=>{const h=u.__vccOpts||u;for(const[d,f]of c)h[d]=f;return h}},466:function(a,l,u){var c=u(905);c.__esModule&&(c=c.default),typeof c=="string"&&(c=[[a.id,c,""]]),c.locals&&(a.exports=c.locals);var h=u(959).Z;h("50bc1720",c,!0,{sourceMap:!1,shadowMode:!1})},18:function(a,l,u){var c=u(121);c.__esModule&&(c=c.default),typeof c=="string"&&(c=[[a.id,c,""]]),c.locals&&(a.exports=c.locals);var h=u(959).Z;h("10aa5f36",c,!0,{sourceMap:!1,shadowMode:!1})},631:function(a,l,u){var c=u(207);c.__esModule&&(c=c.default),typeof c=="string"&&(c=[[a.id,c,""]]),c.locals&&(a.exports=c.locals);var h=u(959).Z;h("1772934e",c,!0,{sourceMap:!1,shadowMode:!1})},959:function(a,l,u){function c(C,E){for(var B=[],K={},I=0;I<E.length;I++){var G=E[I],$=G[0],se=G[1],de=G[2],Te=G[3],ke={id:C+":"+I,css:se,media:de,sourceMap:Te};K[$]?K[$].parts.push(ke):B.push(K[$]={id:$,parts:[ke]})}return B}u.d(l,{Z:function(){return w}});var h=typeof document<"u";if(typeof DEBUG<"u"&&DEBUG&&!h)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var d={},f=h&&(document.head||document.getElementsByTagName("head")[0]),p=null,m=0,b=!1,_=function(){},S=null,y="data-vue-ssr-id",x=typeof navigator<"u"&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function w(C,E,B,K){b=B,S=K||{};var I=c(C,E);return R(I),function(G){for(var $=[],se=0;se<I.length;se++){var de=I[se],Te=d[de.id];Te.refs--,$.push(Te)}for(G?(I=c(C,G),R(I)):I=[],se=0;se<$.length;se++)if(Te=$[se],Te.refs===0){for(var ke=0;ke<Te.parts.length;ke++)Te.parts[ke]();delete d[Te.id]}}}function R(C){for(var E=0;E<C.length;E++){var B=C[E],K=d[B.id];if(K){K.refs++;for(var I=0;I<K.parts.length;I++)K.parts[I](B.parts[I]);for(;I<B.parts.length;I++)K.parts.push(D(B.parts[I]));K.parts.length>B.parts.length&&(K.parts.length=B.parts.length)}else{var G=[];for(I=0;I<B.parts.length;I++)G.push(D(B.parts[I]));d[B.id]={id:B.id,refs:1,parts:G}}}}function A(){var C=document.createElement("style");return C.type="text/css",f.appendChild(C),C}function D(C){var E,B,K=document.querySelector("style["+y+'~="'+C.id+'"]');if(K){if(b)return _;K.parentNode.removeChild(K)}if(x){var I=m++;K=p||(p=A()),E=j.bind(null,K,I,!1),B=j.bind(null,K,I,!0)}else K=A(),E=W.bind(null,K),B=function(){K.parentNode.removeChild(K)};return E(C),function(G){if(G){if(G.css===C.css&&G.media===C.media&&G.sourceMap===C.sourceMap)return;E(C=G)}else B()}}var M=function(){var C=[];return function(E,B){return C[E]=B,C.filter(Boolean).join(`
`)}}();function j(C,E,B,K){var I=B?"":K.css;if(C.styleSheet)C.styleSheet.cssText=M(E,I);else{var G=document.createTextNode(I),$=C.childNodes;$[E]&&C.removeChild($[E]),$.length?C.insertBefore(G,$[E]):C.appendChild(G)}}function W(C,E){var B=E.css,K=E.media,I=E.sourceMap;if(K&&C.setAttribute("media",K),S.ssrId&&C.setAttribute(y,E.id),I&&(B+=`
/*# sourceURL=`+I.sources[0]+" */",B+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(I))))+" */"),C.styleSheet)C.styleSheet.cssText=B;else{for(;C.firstChild;)C.removeChild(C.firstChild);C.appendChild(document.createTextNode(B))}}},927:function(a){a.exports=t}},s={};function i(a){var l=s[a];if(l!==void 0)return l.exports;var u=s[a]={id:a,exports:{}};return r[a].call(u.exports,u,u.exports,i),u.exports}(function(){i.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(l,{a:l}),l}})(),function(){i.d=function(a,l){for(var u in l)i.o(l,u)&&!i.o(a,u)&&Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}}(),function(){i.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)}}(),function(){i.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})}}(),function(){i.p=""}();var o={};return function(){if(i.d(o,{default:function(){return e0}}),typeof window<"u"){var a=window.document.currentScript,l=i(388);a=l(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:l});var u=a&&a.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);u&&(i.p=u[1])}var c=i(927);function h(g,v,k){return v in g?Object.defineProperty(g,v,{value:k,enumerable:!0,configurable:!0,writable:!0}):g[v]=k,g}var d={key:0,class:"vue-slider-marks"};function f(g,v,k,L,Q,le){var ge=(0,c.resolveComponent)("vue-slider-mark"),vt=(0,c.resolveComponent)("vue-slider-dot");return(0,c.openBlock)(),(0,c.createElementBlock)("div",(0,c.mergeProps)({ref:"container",class:g.containerClasses,style:g.containerStyles,onClick:v[2]||(v[2]=function(){return g.clickHandle&&g.clickHandle.apply(g,arguments)}),onTouchstartPassive:v[3]||(v[3]=function(){return g.dragStartOnProcess&&g.dragStartOnProcess.apply(g,arguments)}),onMousedownPassive:v[4]||(v[4]=function(){return g.dragStartOnProcess&&g.dragStartOnProcess.apply(g,arguments)})},g.$attrs),[(0,c.createElementVNode)("div",{class:"vue-slider-rail",style:(0,c.normalizeStyle)(g.railStyle)},[((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)(g.processArray,function(we,at){return(0,c.renderSlot)(g.$slots,"process",(0,c.normalizeProps)((0,c.guardReactiveProps)(we)),function(){return[((0,c.openBlock)(),(0,c.createElementBlock)("div",{class:"vue-slider-process",key:"process-".concat(at),style:(0,c.normalizeStyle)(we.style)},null,4))]})}),256)),g.sliderMarks&&g.control?((0,c.openBlock)(),(0,c.createElementBlock)("div",d,[((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)(g.control.markList,function(we,at){return(0,c.renderSlot)(g.$slots,"mark",(0,c.normalizeProps)((0,c.guardReactiveProps)(we)),function(){var kt;return[((0,c.openBlock)(),(0,c.createBlock)(ge,{key:"mark-".concat(at),mark:we,hideLabel:g.hideLabel,style:(0,c.normalizeStyle)((kt={},h(kt,g.isHorizontal?"height":"width","100%"),h(kt,g.isHorizontal?"width":"height",g.tailSize),h(kt,g.mainDirection,"".concat(we.pos,"%")),kt)),stepStyle:g.stepStyle,stepActiveStyle:g.stepActiveStyle,labelStyle:g.labelStyle,labelActiveStyle:g.labelActiveStyle,onPressLabel:v[0]||(v[0]=function(di){return g.clickable&&g.setValueByPos(di)})},{step:(0,c.withCtx)(function(){return[(0,c.renderSlot)(g.$slots,"step",(0,c.normalizeProps)((0,c.guardReactiveProps)(we)))]}),label:(0,c.withCtx)(function(){return[(0,c.renderSlot)(g.$slots,"label",(0,c.normalizeProps)((0,c.guardReactiveProps)(we)))]}),_:2},1032,["mark","hideLabel","style","stepStyle","stepActiveStyle","labelStyle","labelActiveStyle"]))]})}),256))])):(0,c.createCommentVNode)("",!0),((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)(g.dots,function(we,at){var kt;return(0,c.openBlock)(),(0,c.createBlock)(vt,(0,c.mergeProps)({ref_for:!0,ref:"dot-".concat(at),key:"dot-".concat(at),value:we.value,disabled:we.disabled,focus:we.focus,"dot-style":[we.style,we.disabled?we.disabledStyle:null,we.focus?we.focusStyle:null],tooltip:we.tooltip||g.tooltip,"tooltip-style":[g.tooltipStyle,we.tooltipStyle,we.disabled?we.tooltipDisabledStyle:null,we.focus?we.tooltipFocusStyle:null],"tooltip-formatter":Array.isArray(g.sliderTooltipFormatter)?g.sliderTooltipFormatter[at]:g.sliderTooltipFormatter,"tooltip-placement":g.tooltipDirections[at],style:[g.dotBaseStyle,(kt={},h(kt,g.mainDirection,"".concat(we.pos,"%")),h(kt,"transition","".concat(g.mainDirection," ").concat(g.animateTime,"s")),kt)],onDragStart:function(){return g.dragStart(at)},role:"slider","aria-valuenow":we.value,"aria-valuemin":g.min,"aria-valuemax":g.max,"aria-orientation":g.isHorizontal?"horizontal":"vertical",tabindex:"0",onFocus:function(){return g.focus(we,at)},onBlur:v[1]||(v[1]=function(){return g.blur()})},g.dotAttrs),{dot:(0,c.withCtx)(function(){return[(0,c.renderSlot)(g.$slots,"dot",(0,c.normalizeProps)((0,c.guardReactiveProps)(we)))]}),tooltip:(0,c.withCtx)(function(){return[(0,c.renderSlot)(g.$slots,"tooltip",(0,c.normalizeProps)((0,c.guardReactiveProps)(we)))]}),_:2},1040,["value","disabled","focus","dot-style","tooltip","tooltip-style","tooltip-formatter","tooltip-placement","style","onDragStart","aria-valuenow","aria-valuemin","aria-valuemax","aria-orientation","onFocus"])}),128))],4),(0,c.renderSlot)(g.$slots,"default",{value:g.getValue()})],16)}var p=["aria-valuetext"],m={class:"vue-slider-dot-tooltip-text"};function b(g,v,k,L,Q,le){var ge;return(0,c.openBlock)(),(0,c.createElementBlock)("div",{ref:"dot",class:(0,c.normalizeClass)(g.dotClasses),"aria-valuetext":(ge=g.tooltipValue)===null||ge===void 0?void 0:ge.toString(),onMousedownPassive:v[0]||(v[0]=function(){return g.dragStart&&g.dragStart.apply(g,arguments)}),onTouchstartPassive:v[1]||(v[1]=function(){return g.dragStart&&g.dragStart.apply(g,arguments)})},[(0,c.renderSlot)(g.$slots,"dot",{},function(){return[(0,c.createElementVNode)("div",{class:(0,c.normalizeClass)(g.handleClasses),style:(0,c.normalizeStyle)(g.dotStyle)},null,6)]}),g.tooltip!=="none"?((0,c.openBlock)(),(0,c.createElementBlock)("div",{key:0,class:(0,c.normalizeClass)(g.tooltipClasses)},[(0,c.renderSlot)(g.$slots,"tooltip",{},function(){return[(0,c.createElementVNode)("div",{class:(0,c.normalizeClass)(g.tooltipInnerClasses),style:(0,c.normalizeStyle)(g.tooltipStyle)},[(0,c.createElementVNode)("span",m,(0,c.toDisplayString)(g.tooltipValue),1)],6)]})],2)):(0,c.createCommentVNode)("",!0)],42,p)}i(466);var _=(0,c.defineComponent)({name:"VueSliderDot",emits:["drag-start"],props:{value:{type:[String,Number],default:0},tooltip:{type:String,required:!0},tooltipPlacement:{type:String,validator:function(g){return["top","right","bottom","left"].indexOf(g)>-1},required:!0},tooltipFormatter:{type:[String,Function]},focus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},dotStyle:{type:Object},tooltipStyle:{type:Object}},computed:{dotClasses:function(){return["vue-slider-dot",{"vue-slider-dot-hover":this.tooltip==="hover"||this.tooltip==="active","vue-slider-dot-disabled":this.disabled,"vue-slider-dot-focus":this.focus}]},handleClasses:function(){return["vue-slider-dot-handle",{"vue-slider-dot-handle-disabled":this.disabled,"vue-slider-dot-handle-focus":this.focus}]},tooltipClasses:function(){return["vue-slider-dot-tooltip",["vue-slider-dot-tooltip-".concat(this.tooltipPlacement)],{"vue-slider-dot-tooltip-show":this.showTooltip}]},tooltipInnerClasses:function(){return["vue-slider-dot-tooltip-inner",["vue-slider-dot-tooltip-inner-".concat(this.tooltipPlacement)],{"vue-slider-dot-tooltip-inner-disabled":this.disabled,"vue-slider-dot-tooltip-inner-focus":this.focus}]},showTooltip:function(){switch(this.tooltip){case"always":return!0;case"none":return!1;case"focus":case"active":return!!this.focus;default:return!1}},tooltipValue:function(){return this.tooltipFormatter?typeof this.tooltipFormatter=="string"?this.tooltipFormatter.replace(/\{value\}/,String(this.value)):this.tooltipFormatter(this.value):this.value}},methods:{dragStart:function(){if(this.disabled)return!1;this.$emit("drag-start")}}}),S=i(831),x=(0,S.Z)(_,[["render",b]]);function w(g,v,k,L,Q,le){return(0,c.openBlock)(),(0,c.createElementBlock)("div",{class:(0,c.normalizeClass)(g.marksClasses)},[(0,c.renderSlot)(g.$slots,"step",{},function(){return[(0,c.createElementVNode)("div",{class:(0,c.normalizeClass)(g.stepClasses),style:(0,c.normalizeStyle)([g.stepStyle,g.mark.style||{},g.mark.active&&g.stepActiveStyle?g.stepActiveStyle:{},g.mark.active&&g.mark.activeStyle?g.mark.activeStyle:{}])},null,6)]}),g.hideLabel?(0,c.createCommentVNode)("",!0):(0,c.renderSlot)(g.$slots,"label",{key:0},function(){return[(0,c.createElementVNode)("div",{class:(0,c.normalizeClass)(g.labelClasses),style:(0,c.normalizeStyle)([g.labelStyle,g.mark.labelStyle||{},g.mark.active&&g.labelActiveStyle?g.labelActiveStyle:{},g.mark.active&&g.mark.labelActiveStyle?g.mark.labelActiveStyle:{}]),onClick:v[0]||(v[0]=function(){return g.labelClickHandle&&g.labelClickHandle.apply(g,arguments)})},(0,c.toDisplayString)(g.mark.label),7)]})],2)}i(18);var R=(0,c.defineComponent)({name:"VueSliderMark",emits:["press-label"],props:{mark:{type:Object,required:!0},hideLabel:{type:Boolean},stepStyle:{type:Object,default:function(){return{}}},stepActiveStyle:{type:Object,default:function(){return{}}},labelStyle:{type:Object,default:function(){return{}}},labelActiveStyle:{type:Object,default:function(){return{}}}},computed:{marksClasses:function(){return["vue-slider-mark",{"vue-slider-mark-active":this.mark.active}]},stepClasses:function(){return["vue-slider-mark-step",{"vue-slider-mark-step-active":this.mark.active}]},labelClasses:function(){return["vue-slider-mark-label",{"vue-slider-mark-label-active":this.mark.active}]}},methods:{labelClickHandle:function(g){g.stopPropagation(),this.$emit("press-label",this.mark.pos)}}});const A=(0,S.Z)(R,[["render",w]]);var D,M=A,j=function(g){return typeof g=="number"?"".concat(g,"px"):g},W=function(g){var v=document.documentElement,k=document.body,L=g.getBoundingClientRect(),Q={y:L.top+(window.pageYOffset||v.scrollTop)-(v.clientTop||k.clientTop||0),x:L.left+(window.pageXOffset||v.scrollLeft)-(v.clientLeft||k.clientLeft||0)};return Q},C=function(g,v,k){var L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,Q="targetTouches"in g?g.targetTouches[0]:g,le=W(v),ge={x:Q.pageX-le.x,y:Q.pageY-le.y};return{x:k?v.offsetWidth*L-ge.x:ge.x,y:k?v.offsetHeight*L-ge.y:ge.y}};(function(g){g[g.PAGE_UP=33]="PAGE_UP",g[g.PAGE_DOWN=34]="PAGE_DOWN",g[g.END=35]="END",g[g.HOME=36]="HOME",g[g.LEFT=37]="LEFT",g[g.UP=38]="UP",g[g.RIGHT=39]="RIGHT",g[g.DOWN=40]="DOWN"})(D||(D={}));var E=function(g,v){if(v.hook){var k=v.hook(g);if(typeof k=="function")return k;if(!k)return null}switch(g.keyCode){case D.UP:return function(L){return v.direction==="ttb"?L-1:L+1};case D.RIGHT:return function(L){return v.direction==="rtl"?L-1:L+1};case D.DOWN:return function(L){return v.direction==="ttb"?L+1:L-1};case D.LEFT:return function(L){return v.direction==="rtl"?L+1:L-1};case D.END:return function(){return v.max};case D.HOME:return function(){return v.min};case D.PAGE_UP:return function(L){return L+10};case D.PAGE_DOWN:return function(L){return L-10};default:return null}};function B(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function K(g,v){for(var k=0;k<v.length;k++){var L=v[k];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(g,L.key,L)}}function I(g,v,k){return v&&K(g.prototype,v),Object.defineProperty(g,"prototype",{writable:!1}),g}function G(g,v,k){return v in g?Object.defineProperty(g,v,{value:k,enumerable:!0,configurable:!0,writable:!0}):g[v]=k,g}var $,se,de=function(){function g(v){B(this,g),G(this,"num",void 0),this.num=v}return I(g,[{key:"decimal",value:function(v,k){var L=this.num,Q=this.getDecimalLen(L),le=this.getDecimalLen(v),ge=0;switch(k){case"+":ge=this.getExponent(Q,le),this.num=(this.safeRoundUp(L,ge)+this.safeRoundUp(v,ge))/ge;break;case"-":ge=this.getExponent(Q,le),this.num=(this.safeRoundUp(L,ge)-this.safeRoundUp(v,ge))/ge;break;case"*":this.num=this.safeRoundUp(this.safeRoundUp(L,this.getExponent(Q)),this.safeRoundUp(v,this.getExponent(le)))/this.getExponent(Q+le);break;case"/":ge=this.getExponent(Q,le),this.num=this.safeRoundUp(L,ge)/this.safeRoundUp(v,ge);break;case"%":ge=this.getExponent(Q,le),this.num=this.safeRoundUp(L,ge)%this.safeRoundUp(v,ge)/ge;break}return this}},{key:"plus",value:function(v){return this.decimal(v,"+")}},{key:"minus",value:function(v){return this.decimal(v,"-")}},{key:"multiply",value:function(v){return this.decimal(v,"*")}},{key:"divide",value:function(v){return this.decimal(v,"/")}},{key:"remainder",value:function(v){return this.decimal(v,"%")}},{key:"toNumber",value:function(){return this.num}},{key:"getDecimalLen",value:function(v){var k="".concat(v).split("e");return("".concat(k[0]).split(".")[1]||"").length-(k[1]?+k[1]:0)}},{key:"getExponent",value:function(v,k){return Math.pow(10,k!==void 0?Math.max(v,k):v)}},{key:"safeRoundUp",value:function(v,k){return Math.round(v*k)}}]),g}();function Te(g,v){return Ve(g)||Ge(g,v)||X(g,v)||ke()}function ke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ge(g,v){var k=g==null?null:typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(k!=null){var L,Q,le=[],ge=!0,vt=!1;try{for(k=k.call(g);!(ge=(L=k.next()).done)&&(le.push(L.value),!(v&&le.length===v));ge=!0);}catch(we){vt=!0,Q=we}finally{try{ge||k.return==null||k.return()}finally{if(vt)throw Q}}return le}}function Ve(g){if(Array.isArray(g))return g}function pt(g,v){var k=Object.keys(g);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(g);v&&(L=L.filter(function(Q){return Object.getOwnPropertyDescriptor(g,Q).enumerable})),k.push.apply(k,L)}return k}function je(g){for(var v=1;v<arguments.length;v++){var k=arguments[v]!=null?arguments[v]:{};v%2?pt(Object(k),!0).forEach(function(L){z(g,L,k[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(k)):pt(Object(k)).forEach(function(L){Object.defineProperty(g,L,Object.getOwnPropertyDescriptor(k,L))})}return g}function U(g){return ue(g)||q(g)||X(g)||ie()}function ie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X(g,v){if(g){if(typeof g=="string")return xe(g,v);var k=Object.prototype.toString.call(g).slice(8,-1);return k==="Object"&&g.constructor&&(k=g.constructor.name),k==="Map"||k==="Set"?Array.from(g):k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k)?xe(g,v):void 0}}function q(g){if(typeof Symbol<"u"&&g[Symbol.iterator]!=null||g["@@iterator"]!=null)return Array.from(g)}function ue(g){if(Array.isArray(g))return xe(g)}function xe(g,v){(v==null||v>g.length)&&(v=g.length);for(var k=0,L=new Array(v);k<v;k++)L[k]=g[k];return L}function T(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function O(g,v){for(var k=0;k<v.length;k++){var L=v[k];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(g,L.key,L)}}function N(g,v,k){return v&&O(g.prototype,v),Object.defineProperty(g,"prototype",{writable:!1}),g}function z(g,v,k){return v in g?Object.defineProperty(g,v,{value:k,enumerable:!0,configurable:!0,writable:!0}):g[v]=k,g}(function(g){g[g.VALUE=1]="VALUE",g[g.INTERVAL=2]="INTERVAL",g[g.MIN=3]="MIN",g[g.MAX=4]="MAX",g[g.ORDER=5]="ORDER"})(se||(se={}));var Y=($={},z($,se.VALUE,'The type of the "value" is illegal'),z($,se.INTERVAL,'The prop "interval" is invalid, "(max - min)" must be divisible by "interval"'),z($,se.MIN,'The "value" must be greater than or equal to the "min".'),z($,se.MAX,'The "value" must be less than or equal to the "max".'),z($,se.ORDER,'When "order" is false, the parameters "minRange", "maxRange", "fixed", "enabled" are invalid.'),$),J=function(){function g(v){T(this,g),z(this,"dotsPos",[]),z(this,"dotsValue",[]),z(this,"data",void 0),z(this,"enableCross",void 0),z(this,"fixed",void 0),z(this,"max",void 0),z(this,"min",void 0),z(this,"interval",void 0),z(this,"minRange",void 0),z(this,"maxRange",void 0),z(this,"order",void 0),z(this,"marks",void 0),z(this,"included",void 0),z(this,"process",void 0),z(this,"adsorb",void 0),z(this,"dotOptions",void 0),z(this,"onError",void 0),z(this,"cacheRangeDir",{}),this.data=v.data,this.max=v.max,this.min=v.min,this.interval=v.interval,this.order=v.order,this.marks=v.marks,this.included=v.included,this.process=v.process,this.adsorb=v.adsorb,this.dotOptions=v.dotOptions,this.onError=v.onError,this.order?(this.minRange=v.minRange||0,this.maxRange=v.maxRange||0,this.enableCross=v.enableCross,this.fixed=v.fixed):((v.minRange||v.maxRange||!v.enableCross||v.fixed)&&this.emitError(se.ORDER),this.minRange=0,this.maxRange=0,this.enableCross=!0,this.fixed=!1),this.setValue(v.value)}return N(g,[{key:"setValue",value:function(v){this.setDotsValue(Array.isArray(v)?U(v):[v],!0)}},{key:"setDotsValue",value:function(v,k){this.dotsValue=v,k&&this.syncDotsPos()}},{key:"setDotsPos",value:function(v){var k=this,L=this.order?U(v).sort(function(Q,le){return Q-le}):v;this.dotsPos=L,this.setDotsValue(L.map(function(Q){return k.getValueByPos(Q)}),this.adsorb)}},{key:"getValueByPos",value:function(v){var k=this.parsePos(v);if(this.included){var L=100;this.markList.forEach(function(Q){var le=Math.abs(Q.pos-v);le<L&&(L=le,k=Q.value)})}return k}},{key:"syncDotsPos",value:function(){var v=this;this.dotsPos=this.dotsValue.map(function(k){return v.parseValue(k)})}},{key:"markList",get:function(){var v=this;if(!this.marks)return[];var k=function(L,Q){var le=v.parseValue(L);return je({pos:le,value:L,label:L,active:v.isActiveByPos(le)},Q)};return this.marks===!0?this.getValues().map(function(L){return k(L)}):Object.prototype.toString.call(this.marks)==="[object Object]"?Object.keys(this.marks).sort(function(L,Q){return+L-+Q}).map(function(L){var Q=v.marks[L];return k(L,typeof Q!="string"?Q:{label:Q})}):Array.isArray(this.marks)?this.marks.map(function(L){return k(L)}):typeof this.marks=="function"?this.getValues().map(function(L){return{value:L,result:v.marks(L)}}).filter(function(L){var Q=L.result;return!!Q}).map(function(L){var Q=L.value,le=L.result;return k(Q,le)}):[]}},{key:"getRecentDot",value:function(v){var k=this.dotsPos.map(function(L){return Math.abs(L-v)});return k.indexOf(Math.min.apply(Math,U(k)))}},{key:"getIndexByValue",value:function(v){return this.data?this.data.indexOf(v):new de(+v).minus(this.min).divide(this.interval).toNumber()}},{key:"getValueByIndex",value:function(v){return v<0?v=0:v>this.total&&(v=this.total),this.data?this.data[v]:new de(v).multiply(this.interval).plus(this.min).toNumber()}},{key:"setDotPos",value:function(v,k){v=this.getValidPos(v,k).pos;var L=v-this.dotsPos[k];if(L){var Q=new Array(this.dotsPos.length);this.fixed?Q=this.getFixedChangePosArr(L,k):this.minRange||this.maxRange?Q=this.getLimitRangeChangePosArr(v,L,k):Q[k]=L,this.setDotsPos(this.dotsPos.map(function(le,ge){return le+(Q[ge]||0)}))}}},{key:"getFixedChangePosArr",value:function(v,k){var L=this;return this.dotsPos.forEach(function(Q,le){if(le!==k){var ge=L.getValidPos(Q+v,le),vt=ge.pos,we=ge.inRange;we||(v=Math.min(Math.abs(vt-Q),Math.abs(v))*(v<0?-1:1))}}),this.dotsPos.map(function(Q){return v})}},{key:"getLimitRangeChangePosArr",value:function(v,k,L){var Q=this,le=[{index:L,changePos:k}],ge=k;return[this.minRange,this.maxRange].forEach(function(vt,we){if(!vt)return!1;var at=we===0,kt=k>0,di=0;di=at?kt?1:-1:kt?-1:1;for(var t0=function(r0,s0){var $h=Math.abs(r0-s0);return at?$h<Q.minRangeDir:$h>Q.maxRangeDir},fi=L+di,pi=Q.dotsPos[fi],Uh=v;Q.isPos(pi)&&t0(pi,Uh);){var n0=Q.getValidPos(pi+ge,fi),Wh=n0.pos;le.push({index:fi,changePos:Wh-pi}),fi+=di,Uh=Wh,pi=Q.dotsPos[fi]}}),this.dotsPos.map(function(vt,we){var at=le.filter(function(kt){return kt.index===we});return at.length?at[0].changePos:0})}},{key:"isPos",value:function(v){return typeof v=="number"}},{key:"getValidPos",value:function(v,k){var L=this.valuePosRange[k],Q=!0;return v<L[0]?(v=L[0],Q=!1):v>L[1]&&(v=L[1],Q=!1),{pos:v,inRange:Q}}},{key:"parseValue",value:function(v){if(this.data)v=this.data.indexOf(v);else if(typeof v=="number"||typeof v=="string"){if(v=+v,v<this.min)return this.emitError(se.MIN),0;if(v>this.max)return this.emitError(se.MAX),0;if(typeof v!="number"||v!==v)return this.emitError(se.VALUE),0;v=new de(v).minus(this.min).divide(this.interval).toNumber()}var k=new de(v).multiply(this.gap).toNumber();return k<0?0:k>100?100:k}},{key:"parsePos",value:function(v){var k=Math.round(v/this.gap);return this.getValueByIndex(k)}},{key:"isActiveByPos",value:function(v){return this.processArray.some(function(k){var L=Te(k,2),Q=L[0],le=L[1];return v>=Q&&v<=le})}},{key:"getValues",value:function(){if(this.data)return this.data;for(var v=[],k=0;k<=this.total;k++)v.push(new de(k).multiply(this.interval).plus(this.min).toNumber());return v}},{key:"getRangeDir",value:function(v){return v?new de(v).divide(new de(this.data?this.data.length-1:this.max).minus(this.data?0:this.min).toNumber()).multiply(100).toNumber():100}},{key:"emitError",value:function(v){this.onError&&this.onError(v,Y[v])}},{key:"processArray",get:function(){if(this.process){if(typeof this.process=="function")return this.process(this.dotsPos);if(this.dotsPos.length===1)return[[0,this.dotsPos[0]]];if(this.dotsPos.length>1)return[[Math.min.apply(Math,U(this.dotsPos)),Math.max.apply(Math,U(this.dotsPos))]]}return[]}},{key:"total",get:function(){var v=0;return v=this.data?this.data.length-1:new de(this.max).minus(this.min).divide(this.interval).toNumber(),v-Math.floor(v)!==0?(this.emitError(se.INTERVAL),0):v}},{key:"gap",get:function(){return 100/this.total}},{key:"minRangeDir",get:function(){return this.cacheRangeDir[this.minRange]?this.cacheRangeDir[this.minRange]:this.cacheRangeDir[this.minRange]=this.getRangeDir(this.minRange)}},{key:"maxRangeDir",get:function(){return this.cacheRangeDir[this.maxRange]?this.cacheRangeDir[this.maxRange]:this.cacheRangeDir[this.maxRange]=this.getRangeDir(this.maxRange)}},{key:"getDotRange",value:function(v,k,L){if(!this.dotOptions)return L;var Q=Array.isArray(this.dotOptions)?this.dotOptions[v]:this.dotOptions;return Q&&Q[k]!==void 0?this.parseValue(Q[k]):L}},{key:"valuePosRange",get:function(){var v=this,k=this.dotsPos,L=[];return k.forEach(function(Q,le){L.push([Math.max(v.minRange?v.minRangeDir*le:0,v.enableCross?0:k[le-1]||0,v.getDotRange(le,"min",0)),Math.min(v.minRange?100-v.minRangeDir*(k.length-1-le):100,v.enableCross?100:k[le+1]||100,v.getDotRange(le,"max",100))])}),L}},{key:"dotsIndex",get:function(){var v=this;return this.dotsValue.map(function(k){return v.getIndexByValue(k)})}}]),g}();function ne(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function te(g,v){for(var k=0;k<v.length;k++){var L=v[k];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(g,L.key,L)}}function ee(g,v,k){return v&&te(g.prototype,v),Object.defineProperty(g,"prototype",{writable:!1}),g}function Z(g,v,k){return v in g?Object.defineProperty(g,v,{value:k,enumerable:!0,configurable:!0,writable:!0}):g[v]=k,g}var fe=function(){function g(v){ne(this,g),Z(this,"map",void 0),Z(this,"states",0),this.map=v}return ee(g,[{key:"add",value:function(v){this.states|=v}},{key:"delete",value:function(v){this.states&=~v}},{key:"toggle",value:function(v){this.has(v)?this.delete(v):this.add(v)}},{key:"has",value:function(v){return!!(this.states&v)}}]),g}();i(631);function re(g){return Ee(g)||me(g)||or(g)||ce()}function ce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function me(g){if(typeof Symbol<"u"&&g[Symbol.iterator]!=null||g["@@iterator"]!=null)return Array.from(g)}function Ee(g){if(Array.isArray(g))return vs(g)}function Fe(g){return Fe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},Fe(g)}function Me(g,v){var k=Object.keys(g);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(g);v&&(L=L.filter(function(Q){return Object.getOwnPropertyDescriptor(g,Q).enumerable})),k.push.apply(k,L)}return k}function dt(g){for(var v=1;v<arguments.length;v++){var k=arguments[v]!=null?arguments[v]:{};v%2?Me(Object(k),!0).forEach(function(L){We(g,L,k[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(k)):Me(Object(k)).forEach(function(L){Object.defineProperty(g,L,Object.getOwnPropertyDescriptor(k,L))})}return g}function We(g,v,k){return v in g?Object.defineProperty(g,v,{value:k,enumerable:!0,configurable:!0,writable:!0}):g[v]=k,g}function Tt(g,v){return cn(g)||Et(g,v)||or(g,v)||Ot()}function Ot(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function or(g,v){if(g){if(typeof g=="string")return vs(g,v);var k=Object.prototype.toString.call(g).slice(8,-1);return k==="Object"&&g.constructor&&(k=g.constructor.name),k==="Map"||k==="Set"?Array.from(g):k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k)?vs(g,v):void 0}}function vs(g,v){(v==null||v>g.length)&&(v=g.length);for(var k=0,L=new Array(v);k<v;k++)L[k]=g[k];return L}function Et(g,v){var k=g==null?null:typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(k!=null){var L,Q,le=[],ge=!0,vt=!1;try{for(k=k.call(g);!(ge=(L=k.next()).done)&&(le.push(L.value),!(v&&le.length===v));ge=!0);}catch(we){vt=!0,Q=we}finally{try{ge||k.return==null||k.return()}finally{if(vt)throw Q}}return le}}function cn(g){if(Array.isArray(g))return g}var nt={None:0,Drag:2,Focus:4},Zl=4,Zy=(0,c.defineComponent)({name:"VueSlider",components:{VueSliderDot:x,VueSliderMark:M},emits:["change","drag-start","dragging","drag-end","error","update:modelValue"],data:function(){return{control:null,states:new fe(nt),scale:1,focusDotIndex:0}},props:{modelValue:{type:[Number,String,Array],default:0},silent:{type:Boolean,default:!1},direction:{type:String,default:"ltr",validator:function(g){return["ltr","rtl","ttb","btt"].indexOf(g)>-1}},width:{type:[Number,String]},height:{type:[Number,String]},dotSize:{type:[Number,Array],default:14},contained:{type:Boolean,default:!1},min:{type:Number,default:0},max:{type:Number,default:100},interval:{type:Number,default:1},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!0},dragOnClick:{type:Boolean,default:!1},duration:{type:Number,default:.5},data:{type:[Object,Array]},dataValue:{type:String,default:"value"},dataLabel:{type:String,default:"label"},lazy:{type:Boolean,default:!1},tooltip:{type:String,default:"active",validator:function(g){return["none","always","focus","hover","active"].indexOf(g)>-1}},tooltipPlacement:{type:[String,Array],validator:function(g){return(Array.isArray(g)?g:[g]).every(function(v){return["top","right","bottom","left"].indexOf(v)>-1})}},tooltipFormatter:{type:[String,Array,Function]},useKeyboard:{type:Boolean,default:!0},keydownHook:{type:Function},enableCross:{type:Boolean,default:!0},fixed:{type:Boolean,default:!1},order:{type:Boolean,default:!0},minRange:{type:Number},maxRange:{type:Number},marks:{type:[Boolean,Object,Array,Function],default:!1},process:{type:[Boolean,Function],default:!0},zoom:{type:Number},included:{type:Boolean},adsorb:{type:Boolean},hideLabel:{type:Boolean},dotOptions:{type:[Object,Array]},dotAttrs:{type:Object},railStyle:{type:Object},processStyle:{type:Object},dotStyle:{type:Object},tooltipStyle:{type:Object},stepStyle:{type:Object},stepActiveStyle:{type:Object},labelStyle:{type:Object},labelActiveStyle:{type:Object}},computed:{isHorizontal:function(){return this.direction==="ltr"||this.direction==="rtl"},isReverse:function(){return this.direction==="rtl"||this.direction==="btt"},tailSize:function(){return j((this.isHorizontal?this.height:this.width)||Zl)},containerClasses:function(){return["vue-slider",["vue-slider-".concat(this.direction)],{"vue-slider-disabled":this.disabled}]},containerStyles:function(){var g=Array.isArray(this.dotSize)?this.dotSize:[this.dotSize,this.dotSize],v=Tt(g,2),k=v[0],L=v[1],Q=this.width?j(this.width):this.isHorizontal?"auto":j(Zl),le=this.height?j(this.height):this.isHorizontal?j(Zl):"auto";return{padding:this.contained?"".concat(L/2,"px ").concat(k/2,"px"):this.isHorizontal?"".concat(L/2,"px 0"):"0 ".concat(k/2,"px"),width:Q,height:le}},processArray:function(){var g=this;return this.control.processArray.map(function(v,k){var L,Q=Tt(v,3),le=Q[0],ge=Q[1],vt=Q[2];if(le>ge){var we=[ge,le];le=we[0],ge=we[1]}var at=g.isHorizontal?"width":"height";return{start:le,end:ge,index:k,style:dt(dt((L={},We(L,g.isHorizontal?"height":"width","100%"),We(L,g.isHorizontal?"top":"left",0),We(L,g.mainDirection,"".concat(le,"%")),We(L,at,"".concat(ge-le,"%")),We(L,"transitionProperty","".concat(at,",").concat(g.mainDirection)),We(L,"transitionDuration","".concat(g.animateTime,"s")),L),g.processStyle),vt)}})},dotBaseStyle:function(){var g,v=Array.isArray(this.dotSize)?this.dotSize:[this.dotSize,this.dotSize],k=Tt(v,2),L=k[0],Q=k[1];return g=this.isHorizontal?We({transform:"translate(".concat(this.isReverse?"50%":"-50%",", -50%)"),WebkitTransform:"translate(".concat(this.isReverse?"50%":"-50%",", -50%)"),top:"50%"},this.direction==="ltr"?"left":"right","0"):We({transform:"translate(-50%, ".concat(this.isReverse?"50%":"-50%",")"),WebkitTransform:"translate(-50%, ".concat(this.isReverse?"50%":"-50%",")"),left:"50%"},this.direction==="btt"?"bottom":"top","0"),dt({width:"".concat(L,"px"),height:"".concat(Q,"px")},g)},mainDirection:function(){switch(this.direction){case"ltr":return"left";case"rtl":return"right";case"btt":return"bottom";case"ttb":return"top";default:return"left"}},tooltipDirections:function(){var g=this.tooltipPlacement||(this.isHorizontal?"top":"left");return Array.isArray(g)?g:this.dots.map(function(){return g})},dots:function(){var g=this;return this.control.dotsPos.map(function(v,k){return dt({pos:v,index:k,value:g.control.dotsValue[k],focus:g.states.has(nt.Focus)&&g.focusDotIndex===k,disabled:g.disabled,style:g.dotStyle},(Array.isArray(g.dotOptions)?g.dotOptions[k]:g.dotOptions)||{})})},animateTime:function(){return this.states.has(nt.Drag)?0:this.duration},canSort:function(){return this.order&&!this.minRange&&!this.maxRange&&!this.fixed&&this.enableCross},sliderData:function(){var g=this;return this.isObjectArrayData(this.data)?this.data.map(function(v){return v[g.dataValue]}):this.isObjectData(this.data)?Object.keys(this.data):this.data},sliderMarks:function(){var g=this;return this.marks?this.marks:this.isObjectArrayData(this.data)?function(v){var k={label:v};return g.data.some(function(L){return L[g.dataValue]===v&&(k.label=L[g.dataLabel],!0)}),k}:this.isObjectData(this.data)?this.data:void 0},sliderTooltipFormatter:function(){var g=this;if(this.tooltipFormatter)return this.tooltipFormatter;if(this.isObjectArrayData(this.data))return function(k){var L=""+k;return g.data.some(function(Q){return Q[g.dataValue]===k&&(L=Q[g.dataLabel],!0)}),L};if(this.isObjectData(this.data)){var v=this.data;return function(k){return v[k]}}},isNotSync:function(){var g=this.control.dotsValue;return Array.isArray(this.modelValue)?this.modelValue.length!==g.length||this.modelValue.some(function(v,k){return v!==g[k]}):this.modelValue!==g[0]},dragRange:function(){var g=this.dots[this.focusDotIndex-1],v=this.dots[this.focusDotIndex+1];return[g?g.pos:-1/0,v?v.pos:1/0]}},watch:{modelValue:function(){this.control&&!this.states.has(nt.Drag)&&this.isNotSync&&this.control.setValue(this.modelValue)}},methods:{isObjectData:function(g){return!!g&&Object.prototype.toString.call(g)==="[object Object]"},isObjectArrayData:function(g){return!!g&&Array.isArray(g)&&g.length>0&&Fe(g[0])==="object"},bindEvent:function(){document.addEventListener("touchmove",this.dragMove,{passive:!1}),document.addEventListener("touchend",this.dragEnd,{passive:!1}),document.addEventListener("mousedown",this.blurHandle),document.addEventListener("mousemove",this.dragMove),document.addEventListener("mouseup",this.dragEnd),document.addEventListener("mouseleave",this.dragEnd),document.addEventListener("keydown",this.keydownHandle)},unbindEvent:function(){document.removeEventListener("touchmove",this.dragMove),document.removeEventListener("touchend",this.dragEnd),document.removeEventListener("mousedown",this.blurHandle),document.removeEventListener("mousemove",this.dragMove),document.removeEventListener("mouseup",this.dragEnd),document.removeEventListener("mouseleave",this.dragEnd),document.removeEventListener("keydown",this.keydownHandle)},setScale:function(){this.scale=new de(Math.floor(this.isHorizontal?this.$el.offsetWidth:this.$el.offsetHeight)).multiply(this.zoom||1).divide(100).toNumber()},initControl:function(){var g=this;this.control=new J({value:this.modelValue,data:this.sliderData,enableCross:this.enableCross,fixed:this.fixed,max:this.max,min:this.min,interval:this.interval,minRange:this.minRange,maxRange:this.maxRange,order:this.order,marks:this.sliderMarks,included:this.included,process:this.process,adsorb:this.adsorb,dotOptions:this.dotOptions,onError:this.emitError}),["data","enableCross","fixed","max","min","interval","minRange","maxRange","order","marks","process","adsorb","included","dotOptions"].forEach(function(v){g.$watch(v,function(k){if(v==="data"&&Array.isArray(g.control.data)&&Array.isArray(k)&&g.control.data.length===k.length&&k.every(function(L,Q){return L===g.control.data[Q]}))return!1;switch(v){case"data":case"dataLabel":case"dataValue":g.control.data=g.sliderData;break;case"mark":g.control.marks=g.sliderMarks;break;default:g.control[v]=k}["data","max","min","interval"].indexOf(v)>-1&&g.control.syncDotsPos()})})},syncValueByPos:function(){var g=this.control.dotsValue;if(this.isDiff(g,Array.isArray(this.modelValue)?this.modelValue:[this.modelValue])){var v=g.length===1?g[0]:re(g);this.$emit("change",v,this.focusDotIndex),this.$emit("update:modelValue",v)}},isDiff:function(g,v){return g.length!==v.length||g.some(function(k,L){return k!==v[L]})},emitError:function(g,v){this.silent||console.error("[VueSlider error]: ".concat(v)),this.$emit("error",g,v)},dragStartOnProcess:function(g){if(this.dragOnClick){this.setScale();var v=this.getPosByEvent(g),k=this.control.getRecentDot(v);if(this.dots[k].disabled)return;this.dragStart(k),this.control.setDotPos(v,this.focusDotIndex),this.lazy||this.syncValueByPos()}},dragStart:function(g){this.focusDotIndex=g,this.setScale(),this.states.add(nt.Drag),this.states.add(nt.Focus),this.$emit("drag-start",this.focusDotIndex)},dragMove:function(g){if(!this.states.has(nt.Drag))return!1;g.preventDefault();var v=this.getPosByEvent(g);this.isCrossDot(v),this.control.setDotPos(v,this.focusDotIndex),this.lazy||this.syncValueByPos();var k=this.control.dotsValue;this.$emit("dragging",k.length===1?k[0]:re(k),this.focusDotIndex)},isCrossDot:function(g){if(this.canSort){var v=this.focusDotIndex,k=g;if(k>this.dragRange[1]?(k=this.dragRange[1],this.focusDotIndex++):k<this.dragRange[0]&&(k=this.dragRange[0],this.focusDotIndex--),v!==this.focusDotIndex){var L=this.$refs["dot-".concat(this.focusDotIndex)];L&&L.$el&&L.$el.focus(),this.control.setDotPos(k,v)}}},dragEnd:function(g){var v=this;if(!this.states.has(nt.Drag))return!1;setTimeout(function(){v.lazy&&v.syncValueByPos(),v.included&&v.isNotSync?v.control.setValue(v.modelValue):v.control.syncDotsPos(),v.states.delete(nt.Drag),v.useKeyboard&&!("targetTouches"in g)||v.states.delete(nt.Focus),v.$emit("drag-end",v.focusDotIndex)})},blurHandle:function(g){if(!this.states.has(nt.Focus)||!this.$refs.container||this.$refs.container.contains(g.target))return!1;this.states.delete(nt.Focus)},clickHandle:function(g){if(!this.clickable||this.disabled)return!1;if(!this.states.has(nt.Drag)){this.setScale();var v=this.getPosByEvent(g);this.setValueByPos(v)}},focus:function(g){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;g.disabled||(this.states.add(nt.Focus),this.focusDotIndex=v)},blur:function(){this.states.delete(nt.Focus)},getValue:function(){var g=this.control.dotsValue;return g.length===1?g[0]:g},getIndex:function(){var g=this.control.dotsIndex;return g.length===1?g[0]:g},setValue:function(g){this.control.setValue(Array.isArray(g)?re(g):[g]),this.syncValueByPos()},setIndex:function(g){var v=this,k=Array.isArray(g)?g.map(function(L){return v.control.getValueByIndex(L)}):this.control.getValueByIndex(g);this.setValue(k)},setValueByPos:function(g){var v=this,k=this.control.getRecentDot(g);if(this.disabled||this.dots[k].disabled)return!1;this.focusDotIndex=k,this.control.setDotPos(g,k),this.syncValueByPos(),this.useKeyboard&&this.states.add(nt.Focus),setTimeout(function(){v.included&&v.isNotSync?v.control.setValue(v.modelValue):v.control.syncDotsPos()})},keydownHandle:function(g){var v=this;if(!this.useKeyboard||!this.states.has(nt.Focus))return!1;var k=this.included&&this.marks,L=E(g,{direction:this.direction,max:k?this.control.markList.length-1:this.control.total,min:0,hook:this.keydownHook});if(L){g.preventDefault();var Q=-1,le=0;k?(this.control.markList.some(function(ge,vt){return ge.value===v.control.dotsValue[v.focusDotIndex]&&(Q=L(vt),!0)}),Q<0?Q=0:Q>this.control.markList.length-1&&(Q=this.control.markList.length-1),le=this.control.markList[Q].pos):(Q=L(this.control.getIndexByValue(this.control.dotsValue[this.focusDotIndex])),le=this.control.parseValue(this.control.getValueByIndex(Q))),this.isCrossDot(le),this.control.setDotPos(le,this.focusDotIndex),this.syncValueByPos()}},getPosByEvent:function(g){return C(g,this.$el,this.isReverse,this.zoom)[this.isHorizontal?"x":"y"]/this.scale},renderSlot:function(g,v,k){var L=this.$slots[g];return L?L(v):k}},created:function(){this.initControl()},mounted:function(){this.bindEvent()},beforeUnmount:function(){this.unbindEvent()}}),Ql=(0,S.Z)(Zy,[["render",f]]);Ql.VueSliderMark=M,Ql.VueSliderDot=x;var Qy=Ql,e0=Qy}(),o=o.default,o}()})})(Km);var i1=Km.exports;const o1=n1(i1),a1=n=>{n.component("VSlider",o1)},l1=Jt({__name:"VTransition",props:{name:{default:"fade"},duration:{default:200},smoothHeight:{type:Boolean},appear:{type:Boolean}},setup(n){cm(o=>({"1bd6e06c":t}));const t=n.duration+"ms";function r(o){o.style.height="auto";const a=getComputedStyle(o).height;o.style.height="0px",getComputedStyle(o),setTimeout(()=>{o.style.height=a})}function s(o){o.style.height="auto"}function i(o){o.style.height=getComputedStyle(o).height,getComputedStyle(o),setTimeout(()=>{o.style.height="0px"})}return(o,a)=>o.smoothHeight?(ye(),wt(zs,{key:0,appear:o.appear,name:o.name,mode:"out-in",onEnter:r,onAfterEnter:s,onLeave:i},{default:Wt(()=>[gt(o.$slots,"default",{},void 0,!0)]),_:3},8,["appear","name"])):(ye(),wt(zs,{key:1,appear:o.appear,name:o.name,mode:"out-in"},{default:Wt(()=>[gt(o.$slots,"default",{},void 0,!0)]),_:3},8,["appear","name"]))}}),Rr=(n,e)=>{const t=n.__vccOpts||n;for(const[r,s]of e)t[r]=s;return t},qm=Rr(l1,[["__scopeId","data-v-a957d919"]]);/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const ks=typeof document<"u";function Jm(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function c1(n){return n.__esModule||n[Symbol.toStringTag]==="Module"||n.default&&Jm(n.default)}const Ie=Object.assign;function mc(n,e){const t={};for(const r in e){const s=e[r];t[r]=On(s)?s.map(n):n(s)}return t}const ro=()=>{},On=Array.isArray,Zm=/#/g,u1=/&/g,h1=/\//g,d1=/=/g,f1=/\?/g,Qm=/\+/g,p1=/%5B/g,g1=/%5D/g,ev=/%5E/g,m1=/%60/g,tv=/%7B/g,v1=/%7C/g,nv=/%7D/g,y1=/%20/g;function hh(n){return encodeURI(""+n).replace(v1,"|").replace(p1,"[").replace(g1,"]")}function b1(n){return hh(n).replace(tv,"{").replace(nv,"}").replace(ev,"^")}function ou(n){return hh(n).replace(Qm,"%2B").replace(y1,"+").replace(Zm,"%23").replace(u1,"%26").replace(m1,"`").replace(tv,"{").replace(nv,"}").replace(ev,"^")}function _1(n){return ou(n).replace(d1,"%3D")}function w1(n){return hh(n).replace(Zm,"%23").replace(f1,"%3F")}function S1(n){return n==null?"":w1(n).replace(h1,"%2F")}function wo(n){try{return decodeURIComponent(""+n)}catch{}return""+n}const x1=/\/$/,C1=n=>n.replace(x1,"");function vc(n,e,t="/"){let r,s={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),s=n(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=k1(r??e,t),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:wo(o)}}function T1(n,e){const t=e.query?n(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function Qd(n,e){return!e||!n.toLowerCase().startsWith(e.toLowerCase())?n:n.slice(e.length)||"/"}function O1(n,e,t){const r=e.matched.length-1,s=t.matched.length-1;return r>-1&&r===s&&Gs(e.matched[r],t.matched[s])&&rv(e.params,t.params)&&n(e.query)===n(t.query)&&e.hash===t.hash}function Gs(n,e){return(n.aliasOf||n)===(e.aliasOf||e)}function rv(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(!E1(n[t],e[t]))return!1;return!0}function E1(n,e){return On(n)?ef(n,e):On(e)?ef(e,n):n===e}function ef(n,e){return On(e)?n.length===e.length&&n.every((t,r)=>t===e[r]):n.length===1&&n[0]===e}function k1(n,e){if(n.startsWith("/"))return n;if(!n)return e;const t=e.split("/"),r=n.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=t.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return t.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const cr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var So;(function(n){n.pop="pop",n.push="push"})(So||(So={}));var so;(function(n){n.back="back",n.forward="forward",n.unknown=""})(so||(so={}));function A1(n){if(!n)if(ks){const e=document.querySelector("base");n=e&&e.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),C1(n)}const D1=/^[^#]+#/;function P1(n,e){return n.replace(D1,"#")+e}function M1(n,e){const t=document.documentElement.getBoundingClientRect(),r=n.getBoundingClientRect();return{behavior:e.behavior,left:r.left-t.left-(e.left||0),top:r.top-t.top-(e.top||0)}}const Rl=()=>({left:window.scrollX,top:window.scrollY});function R1(n){let e;if("el"in n){const t=n.el,r=typeof t=="string"&&t.startsWith("#"),s=typeof t=="string"?r?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!s)return;e=M1(s,n)}else e=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function tf(n,e){return(history.state?history.state.position-e:-1)+n}const au=new Map;function F1(n,e){au.set(n,e)}function L1(n){const e=au.get(n);return au.delete(n),e}let j1=()=>location.protocol+"//"+location.host;function sv(n,e){const{pathname:t,search:r,hash:s}=e,i=n.indexOf("#");if(i>-1){let a=s.includes(n.slice(i))?n.slice(i).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),Qd(l,"")}return Qd(t,n)+r+s}function I1(n,e,t,r){let s=[],i=[],o=null;const a=({state:d})=>{const f=sv(n,location),p=t.value,m=e.value;let b=0;if(d){if(t.value=f,e.value=d,o&&o===p){o=null;return}b=m?d.position-m.position:0}else r(f);s.forEach(_=>{_(t.value,p,{delta:b,type:So.pop,direction:b?b>0?so.forward:so.back:so.unknown})})};function l(){o=t.value}function u(d){s.push(d);const f=()=>{const p=s.indexOf(d);p>-1&&s.splice(p,1)};return i.push(f),f}function c(){const{history:d}=window;d.state&&d.replaceState(Ie({},d.state,{scroll:Rl()}),"")}function h(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:h}}function nf(n,e,t,r=!1,s=!1){return{back:n,current:e,forward:t,replaced:r,position:window.history.length,scroll:s?Rl():null}}function B1(n){const{history:e,location:t}=window,r={value:sv(n,t)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const h=n.indexOf("#"),d=h>-1?(t.host&&document.querySelector("base")?n:n.slice(h))+l:j1()+n+l;try{e[c?"replaceState":"pushState"](u,"",d),s.value=u}catch(f){console.error(f),t[c?"replace":"assign"](d)}}function o(l,u){const c=Ie({},e.state,nf(s.value.back,l,s.value.forward,!0),u,{position:s.value.position});i(l,c,!0),r.value=l}function a(l,u){const c=Ie({},s.value,e.state,{forward:l,scroll:Rl()});i(c.current,c,!0);const h=Ie({},nf(r.value,l,null),{position:c.position+1},u);i(l,h,!1),r.value=l}return{location:r,state:s,push:a,replace:o}}function N1(n){n=A1(n);const e=B1(n),t=I1(n,e.state,e.location,e.replace);function r(i,o=!0){o||t.pauseListeners(),history.go(i)}const s=Ie({location:"",base:n,go:r,createHref:P1.bind(null,n)},e,t);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function V1(n){return typeof n=="string"||n&&typeof n=="object"}function iv(n){return typeof n=="string"||typeof n=="symbol"}const ov=Symbol("");var rf;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(rf||(rf={}));function Ys(n,e){return Ie(new Error,{type:n,[ov]:!0},e)}function Nn(n,e){return n instanceof Error&&ov in n&&(e==null||!!(n.type&e))}const sf="[^/]+?",H1={sensitive:!1,strict:!1,start:!0,end:!0},U1=/[.+*?^${}()[\]/\\]/g;function W1(n,e){const t=Ie({},H1,e),r=[];let s=t.start?"^":"";const i=[];for(const u of n){const c=u.length?[]:[90];t.strict&&!u.length&&(s+="/");for(let h=0;h<u.length;h++){const d=u[h];let f=40+(t.sensitive?.25:0);if(d.type===0)h||(s+="/"),s+=d.value.replace(U1,"\\$&"),f+=40;else if(d.type===1){const{value:p,repeatable:m,optional:b,regexp:_}=d;i.push({name:p,repeatable:m,optional:b});const S=_||sf;if(S!==sf){f+=10;try{new RegExp(`(${S})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${p}" (${S}): `+x.message)}}let y=m?`((?:${S})(?:/(?:${S}))*)`:`(${S})`;h||(y=b&&u.length<2?`(?:/${y})`:"/"+y),b&&(y+="?"),s+=y,f+=20,b&&(f+=-8),m&&(f+=-20),S===".*"&&(f+=-50)}c.push(f)}r.push(c)}if(t.strict&&t.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}t.strict||(s+="/?"),t.end?s+="$":t.strict&&(s+="(?:/|$)");const o=new RegExp(s,t.sensitive?"":"i");function a(u){const c=u.match(o),h={};if(!c)return null;for(let d=1;d<c.length;d++){const f=c[d]||"",p=i[d-1];h[p.name]=f&&p.repeatable?f.split("/"):f}return h}function l(u){let c="",h=!1;for(const d of n){(!h||!c.endsWith("/"))&&(c+="/"),h=!1;for(const f of d)if(f.type===0)c+=f.value;else if(f.type===1){const{value:p,repeatable:m,optional:b}=f,_=p in u?u[p]:"";if(On(_)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const S=On(_)?_.join("/"):_;if(!S)if(b)d.length<2&&(c.endsWith("/")?c=c.slice(0,-1):h=!0);else throw new Error(`Missing required param "${p}"`);c+=S}}return c||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function $1(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=e[t]-n[t];if(r)return r;t++}return n.length<e.length?n.length===1&&n[0]===80?-1:1:n.length>e.length?e.length===1&&e[0]===80?1:-1:0}function av(n,e){let t=0;const r=n.score,s=e.score;for(;t<r.length&&t<s.length;){const i=$1(r[t],s[t]);if(i)return i;t++}if(Math.abs(s.length-r.length)===1){if(of(r))return 1;if(of(s))return-1}return s.length-r.length}function of(n){const e=n[n.length-1];return n.length>0&&e[e.length-1]<0}const z1={type:0,value:""},X1=/[a-zA-Z0-9_]/;function G1(n){if(!n)return[[]];if(n==="/")return[[z1]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function e(f){throw new Error(`ERR (${t})/"${u}": ${f}`)}let t=0,r=t;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,l,u="",c="";function h(){u&&(t===0?i.push({type:0,value:u}):t===1||t===2||t===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function d(){u+=l}for(;a<n.length;){if(l=n[a++],l==="\\"&&t!==2){r=t,t=4;continue}switch(t){case 0:l==="/"?(u&&h(),o()):l===":"?(h(),t=1):d();break;case 4:d(),t=r;break;case 1:l==="("?t=2:X1.test(l)?d():(h(),t=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:t=3:c+=l;break;case 3:h(),t=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${u}"`),h(),o(),s}function Y1(n,e,t){const r=W1(G1(n.path),t),s=Ie(r,{record:n,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function K1(n,e){const t=[],r=new Map;e=uf({strict:!1,end:!0,sensitive:!1},e);function s(h){return r.get(h)}function i(h,d,f){const p=!f,m=lf(h);m.aliasOf=f&&f.record;const b=uf(e,h),_=[m];if("alias"in h){const x=typeof h.alias=="string"?[h.alias]:h.alias;for(const w of x)_.push(lf(Ie({},m,{components:f?f.record.components:m.components,path:w,aliasOf:f?f.record:m})))}let S,y;for(const x of _){const{path:w}=x;if(d&&w[0]!=="/"){const R=d.record.path,A=R[R.length-1]==="/"?"":"/";x.path=d.record.path+(w&&A+w)}if(S=Y1(x,d,b),f?f.alias.push(S):(y=y||S,y!==S&&y.alias.push(S),p&&h.name&&!cf(S)&&o(h.name)),lv(S)&&l(S),m.children){const R=m.children;for(let A=0;A<R.length;A++)i(R[A],S,f&&f.children[A])}f=f||S}return y?()=>{o(y)}:ro}function o(h){if(iv(h)){const d=r.get(h);d&&(r.delete(h),t.splice(t.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=t.indexOf(h);d>-1&&(t.splice(d,1),h.record.name&&r.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return t}function l(h){const d=Z1(h,t);t.splice(d,0,h),h.record.name&&!cf(h)&&r.set(h.record.name,h)}function u(h,d){let f,p={},m,b;if("name"in h&&h.name){if(f=r.get(h.name),!f)throw Ys(1,{location:h});b=f.record.name,p=Ie(af(d.params,f.keys.filter(y=>!y.optional).concat(f.parent?f.parent.keys.filter(y=>y.optional):[]).map(y=>y.name)),h.params&&af(h.params,f.keys.map(y=>y.name))),m=f.stringify(p)}else if(h.path!=null)m=h.path,f=t.find(y=>y.re.test(m)),f&&(p=f.parse(m),b=f.record.name);else{if(f=d.name?r.get(d.name):t.find(y=>y.re.test(d.path)),!f)throw Ys(1,{location:h,currentLocation:d});b=f.record.name,p=Ie({},d.params,h.params),m=f.stringify(p)}const _=[];let S=f;for(;S;)_.unshift(S.record),S=S.parent;return{name:b,path:m,params:p,matched:_,meta:J1(_)}}n.forEach(h=>i(h));function c(){t.length=0,r.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:s}}function af(n,e){const t={};for(const r of e)r in n&&(t[r]=n[r]);return t}function lf(n){const e={path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:n.aliasOf,beforeEnter:n.beforeEnter,props:q1(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function q1(n){const e={},t=n.props||!1;if("component"in n)e.default=t;else for(const r in n.components)e[r]=typeof t=="object"?t[r]:t;return e}function cf(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function J1(n){return n.reduce((e,t)=>Ie(e,t.meta),{})}function uf(n,e){const t={};for(const r in n)t[r]=r in e?e[r]:n[r];return t}function Z1(n,e){let t=0,r=e.length;for(;t!==r;){const i=t+r>>1;av(n,e[i])<0?r=i:t=i+1}const s=Q1(n);return s&&(r=e.lastIndexOf(s,r-1)),r}function Q1(n){let e=n;for(;e=e.parent;)if(lv(e)&&av(n,e)===0)return e}function lv({record:n}){return!!(n.name||n.components&&Object.keys(n.components).length||n.redirect)}function eC(n){const e={};if(n===""||n==="?")return e;const r=(n[0]==="?"?n.slice(1):n).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(Qm," "),o=i.indexOf("="),a=wo(o<0?i:i.slice(0,o)),l=o<0?null:wo(i.slice(o+1));if(a in e){let u=e[a];On(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function hf(n){let e="";for(let t in n){const r=n[t];if(t=_1(t),r==null){r!==void 0&&(e+=(e.length?"&":"")+t);continue}(On(r)?r.map(i=>i&&ou(i)):[r&&ou(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+t,i!=null&&(e+="="+i))})}return e}function tC(n){const e={};for(const t in n){const r=n[t];r!==void 0&&(e[t]=On(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const nC=Symbol(""),df=Symbol(""),Fl=Symbol(""),dh=Symbol(""),lu=Symbol("");function _i(){let n=[];function e(r){return n.push(r),()=>{const s=n.indexOf(r);s>-1&&n.splice(s,1)}}function t(){n=[]}return{add:e,list:()=>n.slice(),reset:t}}function _r(n,e,t,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const u=d=>{d===!1?l(Ys(4,{from:t,to:e})):d instanceof Error?l(d):V1(d)?l(Ys(2,{from:e,to:d})):(o&&r.enterCallbacks[s]===o&&typeof d=="function"&&o.push(d),a())},c=i(()=>n.call(r&&r.instances[s],e,t,u));let h=Promise.resolve(c);n.length<3&&(h=h.then(u)),h.catch(d=>l(d))})}function yc(n,e,t,r,s=i=>i()){const i=[];for(const o of n)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Jm(l)){const c=(l.__vccOpts||l)[e];c&&i.push(_r(c,t,r,o,a,s))}else{let u=l();i.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=c1(c)?c.default:c;o.mods[a]=c,o.components[a]=h;const f=(h.__vccOpts||h)[e];return f&&_r(f,t,r,o,a,s)()}))}}return i}function ff(n){const e=$t(Fl),t=$t(dh),r=De(()=>{const l=ve(n.to);return e.resolve(l)}),s=De(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],h=t.matched;if(!c||!h.length)return-1;const d=h.findIndex(Gs.bind(null,c));if(d>-1)return d;const f=pf(l[u-2]);return u>1&&pf(c)===f&&h[h.length-1].path!==f?h.findIndex(Gs.bind(null,l[u-2])):d}),i=De(()=>s.value>-1&&oC(t.params,r.value.params)),o=De(()=>s.value>-1&&s.value===t.matched.length-1&&rv(t.params,r.value.params));function a(l={}){return iC(l)?e[ve(n.replace)?"replace":"push"](ve(n.to)).catch(ro):Promise.resolve()}return{route:r,href:De(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}const rC=Jt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:ff,setup(n,{slots:e}){const t=Ln(ff(n)),{options:r}=$t(Fl),s=De(()=>({[gf(n.activeClass,r.linkActiveClass,"router-link-active")]:t.isActive,[gf(n.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const i=e.default&&e.default(t);return n.custom?i:Al("a",{"aria-current":t.isExactActive?n.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:s.value},i)}}}),sC=rC;function iC(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}function oC(n,e){for(const t in e){const r=e[t],s=n[t];if(typeof r=="string"){if(r!==s)return!1}else if(!On(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function pf(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const gf=(n,e,t)=>n??e??t,aC=Jt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:e,slots:t}){const r=$t(lu),s=De(()=>n.route||r.value),i=$t(df,0),o=De(()=>{let u=ve(i);const{matched:c}=s.value;let h;for(;(h=c[u])&&!h.components;)u++;return u}),a=De(()=>s.value.matched[o.value]);Ki(df,De(()=>o.value+1)),Ki(nC,a),Ki(lu,s);const l=_e();return $e(()=>[l.value,a.value,n.name],([u,c,h],[d,f,p])=>{c&&(c.instances[h]=u,f&&f!==c&&u&&u===d&&(c.leaveGuards.size||(c.leaveGuards=f.leaveGuards),c.updateGuards.size||(c.updateGuards=f.updateGuards))),u&&c&&(!f||!Gs(c,f)||!d)&&(c.enterCallbacks[h]||[]).forEach(m=>m(u))},{flush:"post"}),()=>{const u=s.value,c=n.name,h=a.value,d=h&&h.components[c];if(!d)return mf(t.default,{Component:d,route:u});const f=h.props[c],p=f?f===!0?u.params:typeof f=="function"?f(u):f:null,b=Al(d,Ie({},p,e,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(h.instances[c]=null)},ref:l}));return mf(t.default,{Component:b,route:u})||b}}});function mf(n,e){if(!n)return null;const t=n(e);return t.length===1?t[0]:t}const lC=aC;function cC(n){const e=K1(n.routes,n),t=n.parseQuery||eC,r=n.stringifyQuery||hf,s=n.history,i=_i(),o=_i(),a=_i(),l=Uu(cr);let u=cr;ks&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=mc.bind(null,U=>""+U),h=mc.bind(null,S1),d=mc.bind(null,wo);function f(U,ie){let X,q;return iv(U)?(X=e.getRecordMatcher(U),q=ie):q=U,e.addRoute(q,X)}function p(U){const ie=e.getRecordMatcher(U);ie&&e.removeRoute(ie)}function m(){return e.getRoutes().map(U=>U.record)}function b(U){return!!e.getRecordMatcher(U)}function _(U,ie){if(ie=Ie({},ie||l.value),typeof U=="string"){const O=vc(t,U,ie.path),N=e.resolve({path:O.path},ie),z=s.createHref(O.fullPath);return Ie(O,N,{params:d(N.params),hash:wo(O.hash),redirectedFrom:void 0,href:z})}let X;if(U.path!=null)X=Ie({},U,{path:vc(t,U.path,ie.path).path});else{const O=Ie({},U.params);for(const N in O)O[N]==null&&delete O[N];X=Ie({},U,{params:h(O)}),ie.params=h(ie.params)}const q=e.resolve(X,ie),ue=U.hash||"";q.params=c(d(q.params));const xe=T1(r,Ie({},U,{hash:b1(ue),path:q.path})),T=s.createHref(xe);return Ie({fullPath:xe,hash:ue,query:r===hf?tC(U.query):U.query||{}},q,{redirectedFrom:void 0,href:T})}function S(U){return typeof U=="string"?vc(t,U,l.value.path):Ie({},U)}function y(U,ie){if(u!==U)return Ys(8,{from:ie,to:U})}function x(U){return A(U)}function w(U){return x(Ie(S(U),{replace:!0}))}function R(U){const ie=U.matched[U.matched.length-1];if(ie&&ie.redirect){const{redirect:X}=ie;let q=typeof X=="function"?X(U):X;return typeof q=="string"&&(q=q.includes("?")||q.includes("#")?q=S(q):{path:q},q.params={}),Ie({query:U.query,hash:U.hash,params:q.path!=null?{}:U.params},q)}}function A(U,ie){const X=u=_(U),q=l.value,ue=U.state,xe=U.force,T=U.replace===!0,O=R(X);if(O)return A(Ie(S(O),{state:typeof O=="object"?Ie({},ue,O.state):ue,force:xe,replace:T}),ie||X);const N=X;N.redirectedFrom=ie;let z;return!xe&&O1(r,q,X)&&(z=Ys(16,{to:N,from:q}),Te(q,q,!0,!1)),(z?Promise.resolve(z):j(N,q)).catch(Y=>Nn(Y)?Nn(Y,2)?Y:de(Y):$(Y,N,q)).then(Y=>{if(Y){if(Nn(Y,2))return A(Ie({replace:T},S(Y.to),{state:typeof Y.to=="object"?Ie({},ue,Y.to.state):ue,force:xe}),ie||N)}else Y=C(N,q,!0,T,ue);return W(N,q,Y),Y})}function D(U,ie){const X=y(U,ie);return X?Promise.reject(X):Promise.resolve()}function M(U){const ie=Ve.values().next().value;return ie&&typeof ie.runWithContext=="function"?ie.runWithContext(U):U()}function j(U,ie){let X;const[q,ue,xe]=uC(U,ie);X=yc(q.reverse(),"beforeRouteLeave",U,ie);for(const O of q)O.leaveGuards.forEach(N=>{X.push(_r(N,U,ie))});const T=D.bind(null,U,ie);return X.push(T),je(X).then(()=>{X=[];for(const O of i.list())X.push(_r(O,U,ie));return X.push(T),je(X)}).then(()=>{X=yc(ue,"beforeRouteUpdate",U,ie);for(const O of ue)O.updateGuards.forEach(N=>{X.push(_r(N,U,ie))});return X.push(T),je(X)}).then(()=>{X=[];for(const O of xe)if(O.beforeEnter)if(On(O.beforeEnter))for(const N of O.beforeEnter)X.push(_r(N,U,ie));else X.push(_r(O.beforeEnter,U,ie));return X.push(T),je(X)}).then(()=>(U.matched.forEach(O=>O.enterCallbacks={}),X=yc(xe,"beforeRouteEnter",U,ie,M),X.push(T),je(X))).then(()=>{X=[];for(const O of o.list())X.push(_r(O,U,ie));return X.push(T),je(X)}).catch(O=>Nn(O,8)?O:Promise.reject(O))}function W(U,ie,X){a.list().forEach(q=>M(()=>q(U,ie,X)))}function C(U,ie,X,q,ue){const xe=y(U,ie);if(xe)return xe;const T=ie===cr,O=ks?history.state:{};X&&(q||T?s.replace(U.fullPath,Ie({scroll:T&&O&&O.scroll},ue)):s.push(U.fullPath,ue)),l.value=U,Te(U,ie,X,T),de()}let E;function B(){E||(E=s.listen((U,ie,X)=>{if(!pt.listening)return;const q=_(U),ue=R(q);if(ue){A(Ie(ue,{replace:!0}),q).catch(ro);return}u=q;const xe=l.value;ks&&F1(tf(xe.fullPath,X.delta),Rl()),j(q,xe).catch(T=>Nn(T,12)?T:Nn(T,2)?(A(T.to,q).then(O=>{Nn(O,20)&&!X.delta&&X.type===So.pop&&s.go(-1,!1)}).catch(ro),Promise.reject()):(X.delta&&s.go(-X.delta,!1),$(T,q,xe))).then(T=>{T=T||C(q,xe,!1),T&&(X.delta&&!Nn(T,8)?s.go(-X.delta,!1):X.type===So.pop&&Nn(T,20)&&s.go(-1,!1)),W(q,xe,T)}).catch(ro)}))}let K=_i(),I=_i(),G;function $(U,ie,X){de(U);const q=I.list();return q.length?q.forEach(ue=>ue(U,ie,X)):console.error(U),Promise.reject(U)}function se(){return G&&l.value!==cr?Promise.resolve():new Promise((U,ie)=>{K.add([U,ie])})}function de(U){return G||(G=!U,B(),K.list().forEach(([ie,X])=>U?X(U):ie()),K.reset()),U}function Te(U,ie,X,q){const{scrollBehavior:ue}=n;if(!ks||!ue)return Promise.resolve();const xe=!X&&L1(tf(U.fullPath,0))||(q||!X)&&history.state&&history.state.scroll||null;return an().then(()=>ue(U,ie,xe)).then(T=>T&&R1(T)).catch(T=>$(T,U,ie))}const ke=U=>s.go(U);let Ge;const Ve=new Set,pt={currentRoute:l,listening:!0,addRoute:f,removeRoute:p,clearRoutes:e.clearRoutes,hasRoute:b,getRoutes:m,resolve:_,options:n,push:x,replace:w,go:ke,back:()=>ke(-1),forward:()=>ke(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:I.add,isReady:se,install(U){const ie=this;U.component("RouterLink",sC),U.component("RouterView",lC),U.config.globalProperties.$router=ie,Object.defineProperty(U.config.globalProperties,"$route",{enumerable:!0,get:()=>ve(l)}),ks&&!Ge&&l.value===cr&&(Ge=!0,x(s.location).catch(ue=>{}));const X={};for(const ue in cr)Object.defineProperty(X,ue,{get:()=>l.value[ue],enumerable:!0});U.provide(Fl,ie),U.provide(dh,zr(X)),U.provide(lu,l);const q=U.unmount;Ve.add(U),U.unmount=function(){Ve.delete(U),Ve.size<1&&(u=cr,E&&E(),E=null,l.value=cr,Ge=!1,G=!1),q()}}};function je(U){return U.reduce((ie,X)=>ie.then(()=>M(X)),Promise.resolve())}return pt}function uC(n,e){const t=[],r=[],s=[],i=Math.max(e.matched.length,n.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(n.matched.find(u=>Gs(u,a))?r.push(a):t.push(a));const l=n.matched[o];l&&(e.matched.find(u=>Gs(u,l))||s.push(l))}return[t,r,s]}function WD(){return $t(Fl)}function hC(n){return $t(dh)}const dC=n=>{let e={};const t=()=>{try{const c="__local_storage_test_key__";return window[n].setItem(c,c),window[n].removeItem(c),!0}catch{return!1}},r=()=>{t()?window[n].clear():e={}},s=c=>t()?window[n].getItem(c):e.hasOwnProperty(c)?e[c]:null,i=c=>t()?window[n].key(c):Object.keys(e)[c]||null,o=c=>{t()?window[n].removeItem(c):delete e[c]},a=(c,h)=>{t()?window[n].setItem(c,h):e[c]=String(h)},l=()=>t()?window[n].length:Object.keys(e).length,u={getItem:s,setItem:a,removeItem:o,clear:r,key:i};return Object.defineProperty(u,"length",{get:l}),u},cv=dC("localStorage"),$D=(n=0)=>new Promise(e=>{setTimeout(e,n)}),uv="admin_token";function cu(){return cv.getItem(uv)||""}function zD(n){return cv.setItem(uv,n||"")}const fC="https://app.pfpmaker.com/api/v2",pC="/",gC="https://ai.pfpmaker.com",mC="ca-pub-1339424267555984",vC="G-ML3QFZYZ2H",yC="true",bC="",_C="https://pfpmaker-templates.fra1.cdn.digitaloceanspaces.com",wC="",SC="",xC="",It={apiUrl:fC,appUrl:pC,assetsUrl:_C,email:{support:"support@pfpmaker.com"},premiumAppUrl:gC,reportsEnable:yC==="true",templatesEnable:bC==="true",photoEnhanceEnable:wC==="true",adSenseId:mC,gtagId:vC,forceHideAIBanners:SC==="true",forceUseClientAI:xC==="true"},Ll=Ml("common",{state:()=>({showAdWords:!!(window.hideAIBanners||It.forceHideAIBanners),hideAIBanners:!!(window.hideAIBanners||It.forceHideAIBanners),useClientAI:!!(window.useClientAI||It.forceUseClientAI),isAdmin:!!cu()}),actions:{syncPermissions(){this.isAdmin=!!cu()}}}),CC={xmlns:"http://www.w3.org/2000/svg",width:"731",height:"604",fill:"none"};function TC(n,e){return ye(),Ue("svg",CC,e[0]||(e[0]=[pe("path",{fill:"url(#a)",d:"M737-45.577S452.822-172.555 185.188 2.273C-82.446 177.103-7.509 331.079 85.92 360.088c93.428 29.008 267.558-8.714 327.935 135.543C474.232 639.888 737 597.288 737 597.288z",opacity:".04"},null,-1),pe("defs",null,[pe("linearGradient",{id:"a",x1:"-77.1",x2:"384.235",y1:"205.919",y2:"838.574",gradientUnits:"userSpaceOnUse"},[pe("stop",{"stop-color":"#5956e9"}),pe("stop",{offset:"1","stop-color":"#fab8c4"})])],-1)]))}const OC={render:TC},EC={},kC={alt:"",class:"app-background",draggable:"false",src:OC};function AC(n,e){return ye(),Ue("img",kC)}const DC=Rr(EC,[["render",AC],["__scopeId","data-v-d18fae3b"]]),PC=["href"],MC=Jt({__name:"AppFooter",setup(n){return(e,t)=>(ye(),Ue("footer",{class:lt(e.$style.root)},[pe("div",{class:lt(e.$style.container)},[t[1]||(t[1]=pe("p",null," 2019 - 2023. All rights reserved. PFPMaker.com is owned and operated by Logopony OÜ, 6 Sepapaja, 15551 Tallinn, Estonia, Company no: 14309787, VAT no: EE101995894 ",-1)),pe("div",{class:lt(e.$style.legal)},[pe("a",{class:lt([e.$style.link,e.$style.underline]),href:"https://pfpmaker.com/privacy-policy"}," Privacy Policy ",2),t[0]||(t[0]=Qn(" / ")),pe("a",{class:lt([e.$style.link,e.$style.underline]),href:"https://pfpmaker.com/terms-of-service"}," Terms of Service ",2)],2),pe("div",{class:lt(e.$style.support)},[pe("a",{href:`mailto:${ve(It).email.support}`,class:lt(e.$style.link)},[pe("b",null,co(ve(It).email.support),1)],10,PC)],2)],2)],2))}}),RC="_root_e6bbn_7",FC="_container_e6bbn_16",LC="_link_e6bbn_22",jC="_underline_e6bbn_29",IC="_legal_e6bbn_33",BC="_support_e6bbn_37",NC={root:RC,container:FC,link:LC,underline:jC,legal:IC,support:BC},VC={$style:NC},HC=Rr(MC,[["__cssModules",VC]]);function jl(n){return Qs()?(Po(n),!0):!1}function Ft(n){return typeof n=="function"?n():ve(n)}const hv=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const UC=n=>n!=null,WC=Object.prototype.toString,$C=n=>WC.call(n)==="[object Object]",zC=()=>+Date.now(),sn=()=>{},XC=GC();function GC(){var n,e;return hv&&((n=window==null?void 0:window.navigator)==null?void 0:n.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function fh(n,e){function t(...r){return new Promise((s,i)=>{Promise.resolve(n(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})).then(s).catch(i)})}return t}const dv=n=>n();function fv(n,e={}){let t,r,s=sn;const i=a=>{clearTimeout(a),s(),s=sn};return a=>{const l=Ft(n),u=Ft(e.maxWait);return t&&i(t),l<=0||u!==void 0&&u<=0?(r&&(i(r),r=null),Promise.resolve(a())):new Promise((c,h)=>{s=e.rejectOnCancel?h:c,u&&!r&&(r=setTimeout(()=>{t&&i(t),r=null,c(a())},u)),t=setTimeout(()=>{r&&i(r),r=null,c(a())},l)})}}function YC(...n){let e=0,t,r=!0,s=sn,i,o,a,l,u;!Ye(n[0])&&typeof n[0]=="object"?{delay:o,trailing:a=!0,leading:l=!0,rejectOnCancel:u=!1}=n[0]:[o,a=!0,l=!0,u=!1]=n;const c=()=>{t&&(clearTimeout(t),t=void 0,s(),s=sn)};return d=>{const f=Ft(o),p=Date.now()-e,m=()=>i=d();return c(),f<=0?(e=Date.now(),m()):(p>f&&(l||!r)?(e=Date.now(),m()):a&&(i=new Promise((b,_)=>{s=u?_:b,t=setTimeout(()=>{e=Date.now(),r=!0,b(m()),c()},Math.max(0,f-p))})),!l&&!t&&(t=setTimeout(()=>r=!0,f)),r=!1,i)}}function KC(n=dv){const e=_e(!0);function t(){e.value=!1}function r(){e.value=!0}const s=(...i)=>{e.value&&n(...i)};return{isActive:bl(e),pause:t,resume:r,eventFilter:s}}function qC(n){return Ct()}function JC(n,e=200,t={}){return fh(fv(e,t),n)}function ZC(n,e=200,t=!1,r=!0,s=!1){return fh(YC(e,t,r,s),n)}function ph(n,e=!0,t){qC()?rr(n,t):e?n():an(n)}function QC(n,e,t={}){const{eventFilter:r=dv,...s}=t,i=fh(r,e);let o,a,l;if(s.flush==="sync"){const u=_e(!1);a=()=>{},o=c=>{u.value=!0,c(),u.value=!1},l=$e(n,(...c)=>{u.value||i(...c)},s)}else{const u=[],c=_e(0),h=_e(0);a=()=>{c.value=h.value},u.push($e(n,()=>{h.value++},{...s,flush:"sync"})),o=d=>{const f=h.value;d(),c.value+=h.value-f},u.push($e(n,(...d)=>{const f=c.value>0&&c.value===h.value;c.value=0,h.value=0,!f&&i(...d)},s)),l=()=>{u.forEach(d=>d())}}return{stop:l,ignoreUpdates:o,ignorePrevAsyncUpdates:a}}const Fr=hv?window:void 0;function jt(n){var e;const t=Ft(n);return(e=t==null?void 0:t.$el)!=null?e:t}function Ns(...n){let e,t,r,s;if(typeof n[0]=="string"||Array.isArray(n[0])?([t,r,s]=n,e=Fr):[e,t,r,s]=n,!e)return sn;Array.isArray(t)||(t=[t]),Array.isArray(r)||(r=[r]);const i=[],o=()=>{i.forEach(c=>c()),i.length=0},a=(c,h,d,f)=>(c.addEventListener(h,d,f),()=>c.removeEventListener(h,d,f)),l=$e(()=>[jt(e),Ft(s)],([c,h])=>{if(o(),!c)return;const d=$C(h)?{...h}:h;i.push(...t.flatMap(f=>r.map(p=>a(c,f,p,d))))},{immediate:!0,flush:"post"}),u=()=>{l(),o()};return jl(u),u}let vf=!1;function XD(n,e,t={}){const{window:r=Fr,ignore:s=[],capture:i=!0,detectIframe:o=!1}=t;if(!r)return sn;XC&&!vf&&(vf=!0,Array.from(r.document.body.children).forEach(f=>f.addEventListener("click",sn)),r.document.documentElement.addEventListener("click",sn));let a=!0;const l=f=>Ft(s).some(p=>{if(typeof p=="string")return Array.from(r.document.querySelectorAll(p)).some(m=>m===f.target||f.composedPath().includes(m));{const m=jt(p);return m&&(f.target===m||f.composedPath().includes(m))}}),u=f=>{const p=jt(n);if(!(!p||p===f.target||f.composedPath().includes(p))){if(f.detail===0&&(a=!l(f)),!a){a=!0;return}e(f)}};let c=!1;const h=[Ns(r,"click",f=>{c||(c=!0,setTimeout(()=>{c=!1},0),u(f))},{passive:!0,capture:i}),Ns(r,"pointerdown",f=>{const p=jt(n);a=!l(f)&&!!(p&&!f.composedPath().includes(p))},{passive:!0}),o&&Ns(r,"blur",f=>{setTimeout(()=>{var p;const m=jt(n);((p=r.document.activeElement)==null?void 0:p.tagName)==="IFRAME"&&!(m!=null&&m.contains(r.document.activeElement))&&e(f)},0)})].filter(Boolean);return()=>h.forEach(f=>f())}function eT(){const n=_e(!1),e=Ct();return e&&rr(()=>{n.value=!0},e),n}function gh(n){const e=eT();return De(()=>(e.value,!!n()))}function tT(n,e={}){const{window:t=Fr}=e,r=gh(()=>t&&"matchMedia"in t&&typeof t.matchMedia=="function");let s;const i=_e(!1),o=u=>{i.value=u.matches},a=()=>{s&&("removeEventListener"in s?s.removeEventListener("change",o):s.removeListener(o))},l=Ig(()=>{r.value&&(a(),s=t.matchMedia(Ft(n)),"addEventListener"in s?s.addEventListener("change",o):s.addListener(o),i.value=s.matches)});return jl(()=>{l(),a(),s=void 0}),i}function pv(n){return JSON.parse(JSON.stringify(n))}function gv(n){return n}function nT(n,e){return n.value=e}function rT(n){return n?typeof n=="function"?n:pv:gv}function sT(n){return n?typeof n=="function"?n:pv:gv}function iT(n,e={}){const{clone:t=!1,dump:r=rT(t),parse:s=sT(t),setSource:i=nT}=e;function o(){return ei({snapshot:r(n.value),timestamp:zC()})}const a=_e(o()),l=_e([]),u=_e([]),c=y=>{i(n,s(y.snapshot)),a.value=y},h=()=>{l.value.unshift(a.value),a.value=o(),e.capacity&&l.value.length>e.capacity&&l.value.splice(e.capacity,Number.POSITIVE_INFINITY),u.value.length&&u.value.splice(0,u.value.length)},d=()=>{l.value.splice(0,l.value.length),u.value.splice(0,u.value.length)},f=()=>{const y=l.value.shift();y&&(u.value.unshift(a.value),c(y))},p=()=>{const y=u.value.shift();y&&(l.value.unshift(a.value),c(y))},m=()=>{c(a.value)},b=De(()=>[a.value,...l.value]),_=De(()=>l.value.length>0),S=De(()=>u.value.length>0);return{source:n,undoStack:l,redoStack:u,last:a,history:b,canUndo:_,canRedo:S,clear:d,commit:h,reset:m,undo:f,redo:p}}function oT(n,e={}){const{deep:t=!1,flush:r="pre",eventFilter:s}=e,{eventFilter:i,pause:o,resume:a,isActive:l}=KC(s),{ignoreUpdates:u,ignorePrevAsyncUpdates:c,stop:h}=QC(n,b,{deep:t,flush:r,eventFilter:i});function d(x,w){c(),u(()=>{x.value=w})}const f=iT(n,{...e,clone:e.clone||t,setSource:d}),{clear:p,commit:m}=f;function b(){c(),m()}function _(x){a(),x&&b()}function S(x){let w=!1;const R=()=>w=!0;u(()=>{x(R)}),w||b()}function y(){h(),p()}return{...f,isTracking:l,pause:o,resume:_,commit:b,batch:S,dispose:y}}function GD(n,e={}){const t=e.debounce?fv(e.debounce):void 0;return{...oT(n,{...e,eventFilter:t})}}function aT(n,e,t={}){const{window:r=Fr,...s}=t;let i;const o=gh(()=>r&&"ResizeObserver"in r),a=()=>{i&&(i.disconnect(),i=void 0)},l=De(()=>{const h=Ft(n);return Array.isArray(h)?h.map(d=>jt(d)):[jt(h)]}),u=$e(l,h=>{if(a(),o.value&&r){i=new ResizeObserver(e);for(const d of h)d&&i.observe(d,s)}},{immediate:!0,flush:"post"}),c=()=>{a(),u()};return jl(c),{isSupported:o,stop:c}}function YD(n,e={width:0,height:0},t={}){const{window:r=Fr,box:s="content-box"}=t,i=De(()=>{var h,d;return(d=(h=jt(n))==null?void 0:h.namespaceURI)==null?void 0:d.includes("svg")}),o=_e(e.width),a=_e(e.height),{stop:l}=aT(n,([h])=>{const d=s==="border-box"?h.borderBoxSize:s==="content-box"?h.contentBoxSize:h.devicePixelContentBoxSize;if(r&&i.value){const f=jt(n);if(f){const p=f.getBoundingClientRect();o.value=p.width,a.value=p.height}}else if(d){const f=Array.isArray(d)?d:[d];o.value=f.reduce((p,{inlineSize:m})=>p+m,0),a.value=f.reduce((p,{blockSize:m})=>p+m,0)}else o.value=h.contentRect.width,a.value=h.contentRect.height},t);ph(()=>{const h=jt(n);h&&(o.value="offsetWidth"in h?h.offsetWidth:e.width,a.value="offsetHeight"in h?h.offsetHeight:e.height)});const u=$e(()=>jt(n),h=>{o.value=h?e.width:0,a.value=h?e.height:0});function c(){l(),u()}return{width:o,height:a,stop:c}}function KD(n,e,t={}){const{root:r,rootMargin:s="0px",threshold:i=0,window:o=Fr,immediate:a=!0}=t,l=gh(()=>o&&"IntersectionObserver"in o),u=De(()=>{const p=Ft(n);return(Array.isArray(p)?p:[p]).map(jt).filter(UC)});let c=sn;const h=_e(a),d=l.value?$e(()=>[u.value,jt(r),h.value],([p,m])=>{if(c(),!h.value||!p.length)return;const b=new IntersectionObserver(e,{root:jt(m),rootMargin:s,threshold:i});p.forEach(_=>_&&b.observe(_)),c=()=>{b.disconnect(),c=sn}},{immediate:a,flush:"post"}):sn,f=()=>{c(),d(),h.value=!1};return jl(f),{isSupported:l,isActive:h,pause(){c(),h.value=!1},resume(){h.value=!0},stop:f}}const yf=1;function qD(n,e={}){const{throttle:t=0,idle:r=200,onStop:s=sn,onScroll:i=sn,offset:o={left:0,right:0,top:0,bottom:0},eventListenerOptions:a={capture:!1,passive:!0},behavior:l="auto",window:u=Fr,onError:c=A=>{console.error(A)}}=e,h=_e(0),d=_e(0),f=De({get(){return h.value},set(A){m(A,void 0)}}),p=De({get(){return d.value},set(A){m(void 0,A)}});function m(A,D){var M,j,W,C;if(!u)return;const E=Ft(n);if(!E)return;(W=E instanceof Document?u.document.body:E)==null||W.scrollTo({top:(M=Ft(D))!=null?M:p.value,left:(j=Ft(A))!=null?j:f.value,behavior:Ft(l)});const B=((C=E==null?void 0:E.document)==null?void 0:C.documentElement)||(E==null?void 0:E.documentElement)||E;f!=null&&(h.value=B.scrollLeft),p!=null&&(d.value=B.scrollTop)}const b=_e(!1),_=Ln({left:!0,right:!1,top:!0,bottom:!1}),S=Ln({left:!1,right:!1,top:!1,bottom:!1}),y=A=>{b.value&&(b.value=!1,S.left=!1,S.right=!1,S.top=!1,S.bottom=!1,s(A))},x=JC(y,t+r),w=A=>{var D;if(!u)return;const M=((D=A==null?void 0:A.document)==null?void 0:D.documentElement)||(A==null?void 0:A.documentElement)||jt(A),{display:j,flexDirection:W}=getComputedStyle(M),C=M.scrollLeft;S.left=C<h.value,S.right=C>h.value;const E=Math.abs(C)<=(o.left||0),B=Math.abs(C)+M.clientWidth>=M.scrollWidth-(o.right||0)-yf;j==="flex"&&W==="row-reverse"?(_.left=B,_.right=E):(_.left=E,_.right=B),h.value=C;let K=M.scrollTop;A===u.document&&!K&&(K=u.document.body.scrollTop),S.top=K<d.value,S.bottom=K>d.value;const I=Math.abs(K)<=(o.top||0),G=Math.abs(K)+M.clientHeight>=M.scrollHeight-(o.bottom||0)-yf;j==="flex"&&W==="column-reverse"?(_.top=G,_.bottom=I):(_.top=I,_.bottom=G),d.value=K},R=A=>{var D;if(!u)return;const M=(D=A.target.documentElement)!=null?D:A.target;w(M),b.value=!0,x(A),i(A)};return Ns(n,"scroll",t?ZC(R,t,!0,!1):R,a),ph(()=>{try{const A=Ft(n);if(!A)return;w(A)}catch(A){c(A)}}),Ns(n,"scrollend",y,a),{x:f,y:p,isScrolling:b,arrivedState:_,directions:S,measure(){const A=Ft(n);u&&A&&w(A)}}}function lT(n={}){const{window:e=Fr,initialWidth:t=Number.POSITIVE_INFINITY,initialHeight:r=Number.POSITIVE_INFINITY,listenOrientation:s=!0,includeScrollbar:i=!0,type:o="inner"}=n,a=_e(t),l=_e(r),u=()=>{e&&(o==="outer"?(a.value=e.outerWidth,l.value=e.outerHeight):i?(a.value=e.innerWidth,l.value=e.innerHeight):(a.value=e.document.documentElement.clientWidth,l.value=e.document.documentElement.clientHeight))};if(u(),ph(u),Ns("resize",u,{passive:!0}),s){const c=tT("(orientation: portrait)");$e(c,()=>u())}return{width:a,height:l}}const cT="_root_1d7zp_7",uT="_logo_1d7zp_12",hT="_label_1d7zp_26",dT={root:cT,logo:uT,label:hT},fT={};function pT(n,e){return ye(),Ue("div",{class:lt(n.$style.root)},[pe("div",{class:lt(n.$style.logo)},e[0]||(e[0]=[pe("svg",{width:"35",height:"35",viewBox:"0 0 35 35",fill:"none"},[pe("path",{d:"M17.53 3A7.55 7.55 0 0 0 10 10.53a7.55 7.55 0 0 0 7.53 7.53 7.55 7.55 0 0 0 7.53-7.53A7.55 7.55 0 0 0 17.53 3Z",fill:"#FAB8C4"}),pe("path",{d:"M30.9 24.08a9.36 9.36 0 0 0-7.23-5.46c-.33-.03-.7.03-.95.23a7.92 7.92 0 0 1-4.74 1.54 7.92 7.92 0 0 1-4.73-1.54c-.27-.2-.63-.3-.96-.23a9.3 9.3 0 0 0-7.23 5.46c-.1.2-.07.42.03.62.27.46.6.92.89 1.32.46.62.95 1.18 1.51 1.7A14.9 14.9 0 0 0 17.95 32a14.9 14.9 0 0 0 12.85-7.29c.17-.2.2-.43.1-.62Z",fill:"#5956E9"})],-1)]),2),pe("span",{class:lt(n.$style.label)}," Profile Pic Maker ",2)],2)}const gT={$style:dT},mT=Rr(fT,[["render",pT],["__cssModules",gT]]),vT="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let Xr=(n=21)=>{let e="",t=crypto.getRandomValues(new Uint8Array(n));for(;n--;)e+=vT[t[n]&63];return e};function P(n,e,t){return(e=function(r){var s=function(i,o){if(typeof i!="object"||!i)return i;var a=i[Symbol.toPrimitive];if(a!==void 0){var l=a.call(i,o||"default");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}(r,"string");return typeof s=="symbol"?s:s+""}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function bf(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function F(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bf(Object(t),!0).forEach(function(r){P(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):bf(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Ke(n,e){if(n==null)return{};var t,r,s=function(o,a){if(o==null)return{};var l={};for(var u in o)if({}.hasOwnProperty.call(o,u)){if(a.indexOf(u)>=0)continue;l[u]=o[u]}return l}(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)>=0||{}.propertyIsEnumerable.call(n,t)&&(s[t]=n[t])}return s}function Lr(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}class _f{constructor(){P(this,"browserShadowBlurConstant",1),P(this,"DPI",96),P(this,"devicePixelRatio",typeof window<"u"?window.devicePixelRatio:1),P(this,"perfLimitSizeTotal",2097152),P(this,"maxCacheSideLimit",4096),P(this,"minCacheSideLimit",256),P(this,"disableStyleCopyPaste",!1),P(this,"enableGLFiltering",!0),P(this,"textureSize",4096),P(this,"forceGLPutImageData",!1),P(this,"cachesBoundsOfCurve",!1),P(this,"fontPaths",{}),P(this,"NUM_FRACTION_DIGITS",4)}}const Pe=new class extends _f{constructor(n){super(),this.configure(n)}configure(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.assign(this,n)}addFonts(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fontPaths=F(F({},this.fontPaths),n)}removeFonts(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(n=>{delete this.fontPaths[n]})}clearFonts(){this.fontPaths={}}restoreDefaults(n){const e=new _f,t=(n==null?void 0:n.reduce((r,s)=>(r[s]=e[s],r),{}))||e;this.configure(t)}},Ar=function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return console[n]("fabric",...t)};class Rn extends Error{constructor(e,t){super("fabric: ".concat(e),t)}}class yT extends Rn{constructor(e){super("".concat(e," 'options.signal' is in 'aborted' state"))}}class bT{}class _T extends bT{testPrecision(e,t){const r="precision ".concat(t,` float;
void main(){}`),s=e.createShader(e.FRAGMENT_SHADER);return!!s&&(e.shaderSource(s,r),e.compileShader(s),!!e.getShaderParameter(s,e.COMPILE_STATUS))}queryWebGL(e){const t=e.getContext("webgl");t&&(this.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE),this.GLPrecision=["highp","mediump","lowp"].find(r=>this.testPrecision(t,r)),t.getExtension("WEBGL_lose_context").loseContext(),Ar("log","WebGL: max texture size ".concat(this.maxTextureSize)))}isSupported(e){return!!this.maxTextureSize&&this.maxTextureSize>=e}}const wT={};let wf;const In=()=>wf||(wf={document,window,isTouchSupported:"ontouchstart"in window||"ontouchstart"in document||window&&window.navigator&&window.navigator.maxTouchPoints>0,WebGLProbe:new _T,dispose(){},copyPasteData:wT}),ri=()=>In().document,mh=()=>In().window,mv=()=>{var n;return Math.max((n=Pe.devicePixelRatio)!==null&&n!==void 0?n:mh().devicePixelRatio,1)},io=new class{constructor(){P(this,"charWidthsCache",{}),P(this,"boundsOfCurveCache",{})}getFontCache(n){let{fontFamily:e,fontStyle:t,fontWeight:r}=n;e=e.toLowerCase(),this.charWidthsCache[e]||(this.charWidthsCache[e]={});const s=this.charWidthsCache[e],i="".concat(t.toLowerCase(),"_").concat((r+"").toLowerCase());return s[i]||(s[i]={}),s[i]}clearFontCache(n){(n=(n||"").toLowerCase())?this.charWidthsCache[n]&&delete this.charWidthsCache[n]:this.charWidthsCache={}}limitDimsByArea(n){const{perfLimitSizeTotal:e}=Pe,t=Math.sqrt(e*n);return[Math.floor(t),Math.floor(e/t)]}},Ks="6.4.2";function wa(){}const Io=Math.PI/2,Za=2*Math.PI,vh=Math.PI/180,Bt=Object.freeze([1,0,0,1,0,0]),yh=16,ur=.4477152502,Ce="center",Le="left",zt="top",uu="bottom",et="right",Xt="none",bh=/\r?\n/,vv="moving",Il="scaling",yv="rotating",_h="rotate",bv="skewing",xo="resizing",ST="modifyPoly",xT="modifyPath",Qa="changed",Bl="scale",qt="scaleX",gn="scaleY",si="skewX",ii="skewY",it="fill",Gt="stroke",el="modified",xs="json",bc="svg",oe=new class{constructor(){this[xs]=new Map,this[bc]=new Map}has(n){return this[xs].has(n)}getClass(n){const e=this[xs].get(n);if(!e)throw new Rn("No class registered for ".concat(n));return e}setClass(n,e){e?this[xs].set(e,n):(this[xs].set(n.type,n),this[xs].set(n.type.toLowerCase(),n))}getSVGClass(n){return this[bc].get(n)}setSVGClass(n,e){this[bc].set(e??n.type.toLowerCase(),n)}},tl=new class extends Array{remove(n){const e=this.indexOf(n);e>-1&&this.splice(e,1)}cancelAll(){const n=this.splice(0);return n.forEach(e=>e.abort()),n}cancelByCanvas(n){if(!n)return[];const e=this.filter(t=>{var r;return t.target===n||typeof t.target=="object"&&((r=t.target)===null||r===void 0?void 0:r.canvas)===n});return e.forEach(t=>t.abort()),e}cancelByTarget(n){if(!n)return[];const e=this.filter(t=>t.target===n);return e.forEach(t=>t.abort()),e}};class CT{constructor(){P(this,"__eventListeners",{})}on(e,t){if(this.__eventListeners||(this.__eventListeners={}),typeof e=="object")return Object.entries(e).forEach(r=>{let[s,i]=r;this.on(s,i)}),()=>this.off(e);if(t){const r=e;return this.__eventListeners[r]||(this.__eventListeners[r]=[]),this.__eventListeners[r].push(t),()=>this.off(r,t)}return()=>!1}once(e,t){if(typeof e=="object"){const r=[];return Object.entries(e).forEach(s=>{let[i,o]=s;r.push(this.once(i,o))}),()=>r.forEach(s=>s())}if(t){const r=this.on(e,function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];t.call(this,...i),r()});return r}return()=>!1}_removeEventListener(e,t){if(this.__eventListeners[e])if(t){const r=this.__eventListeners[e],s=r.indexOf(t);s>-1&&r.splice(s,1)}else this.__eventListeners[e]=[]}off(e,t){if(this.__eventListeners)if(e===void 0)for(const r in this.__eventListeners)this._removeEventListener(r);else typeof e=="object"?Object.entries(e).forEach(r=>{let[s,i]=r;this._removeEventListener(s,i)}):this._removeEventListener(e,t)}fire(e,t){var r;if(!this.__eventListeners)return;const s=(r=this.__eventListeners[e])===null||r===void 0?void 0:r.concat();if(s)for(let i=0;i<s.length;i++)s[i].call(this,t||{})}}const As=(n,e)=>{const t=n.indexOf(e);return t!==-1&&n.splice(t,1),n},er=n=>{if(n===0)return 1;switch(Math.abs(n)/Io){case 1:case 3:return 0;case 2:return-1}return Math.cos(n)},tr=n=>{if(n===0)return 0;const e=n/Io,t=Math.sign(n);switch(e){case 1:return t;case 2:return 0;case 3:return-t}return Math.sin(n)};class V{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;typeof e=="object"?(this.x=e.x,this.y=e.y):(this.x=e,this.y=t)}add(e){return new V(this.x+e.x,this.y+e.y)}addEquals(e){return this.x+=e.x,this.y+=e.y,this}scalarAdd(e){return new V(this.x+e,this.y+e)}scalarAddEquals(e){return this.x+=e,this.y+=e,this}subtract(e){return new V(this.x-e.x,this.y-e.y)}subtractEquals(e){return this.x-=e.x,this.y-=e.y,this}scalarSubtract(e){return new V(this.x-e,this.y-e)}scalarSubtractEquals(e){return this.x-=e,this.y-=e,this}multiply(e){return new V(this.x*e.x,this.y*e.y)}scalarMultiply(e){return new V(this.x*e,this.y*e)}scalarMultiplyEquals(e){return this.x*=e,this.y*=e,this}divide(e){return new V(this.x/e.x,this.y/e.y)}scalarDivide(e){return new V(this.x/e,this.y/e)}scalarDivideEquals(e){return this.x/=e,this.y/=e,this}eq(e){return this.x===e.x&&this.y===e.y}lt(e){return this.x<e.x&&this.y<e.y}lte(e){return this.x<=e.x&&this.y<=e.y}gt(e){return this.x>e.x&&this.y>e.y}gte(e){return this.x>=e.x&&this.y>=e.y}lerp(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5;return t=Math.max(Math.min(1,t),0),new V(this.x+(e.x-this.x)*t,this.y+(e.y-this.y)*t)}distanceFrom(e){const t=this.x-e.x,r=this.y-e.y;return Math.sqrt(t*t+r*r)}midPointFrom(e){return this.lerp(e)}min(e){return new V(Math.min(this.x,e.x),Math.min(this.y,e.y))}max(e){return new V(Math.max(this.x,e.x),Math.max(this.y,e.y))}toString(){return"".concat(this.x,",").concat(this.y)}setXY(e,t){return this.x=e,this.y=t,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setFromPoint(e){return this.x=e.x,this.y=e.y,this}swap(e){const t=this.x,r=this.y;this.x=e.x,this.y=e.y,e.x=t,e.y=r}clone(){return new V(this.x,this.y)}rotate(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wh;const r=tr(e),s=er(e),i=this.subtract(t);return new V(i.x*s-i.y*r,i.x*r+i.y*s).add(t)}transform(e){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new V(e[0]*this.x+e[2]*this.y+(t?0:e[4]),e[1]*this.x+e[3]*this.y+(t?0:e[5]))}}const wh=new V(0,0),Sa=n=>!!n&&Array.isArray(n._objects);function _v(n){class e extends n{constructor(){super(...arguments),P(this,"_objects",[])}_onObjectAdded(r){}_onObjectRemoved(r){}_onStackOrderChanged(r){}add(){for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];const o=this._objects.push(...s);return s.forEach(a=>this._onObjectAdded(a)),o}insertAt(r){for(var s=arguments.length,i=new Array(s>1?s-1:0),o=1;o<s;o++)i[o-1]=arguments[o];return this._objects.splice(r,0,...i),i.forEach(a=>this._onObjectAdded(a)),this._objects.length}remove(){const r=this._objects,s=[];for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return o.forEach(l=>{const u=r.indexOf(l);u!==-1&&(r.splice(u,1),s.push(l),this._onObjectRemoved(l))}),s}forEachObject(r){this.getObjects().forEach((s,i,o)=>r(s,i,o))}getObjects(){for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return s.length===0?[...this._objects]:this._objects.filter(o=>o.isType(...s))}item(r){return this._objects[r]}isEmpty(){return this._objects.length===0}size(){return this._objects.length}contains(r,s){return!!this._objects.includes(r)||!!s&&this._objects.some(i=>i instanceof e&&i.contains(r,!0))}complexity(){return this._objects.reduce((r,s)=>r+=s.complexity?s.complexity():0,0)}sendObjectToBack(r){return!(!r||r===this._objects[0])&&(As(this._objects,r),this._objects.unshift(r),this._onStackOrderChanged(r),!0)}bringObjectToFront(r){return!(!r||r===this._objects[this._objects.length-1])&&(As(this._objects,r),this._objects.push(r),this._onStackOrderChanged(r),!0)}sendObjectBackwards(r,s){if(!r)return!1;const i=this._objects.indexOf(r);if(i!==0){const o=this.findNewLowerIndex(r,i,s);return As(this._objects,r),this._objects.splice(o,0,r),this._onStackOrderChanged(r),!0}return!1}bringObjectForward(r,s){if(!r)return!1;const i=this._objects.indexOf(r);if(i!==this._objects.length-1){const o=this.findNewUpperIndex(r,i,s);return As(this._objects,r),this._objects.splice(o,0,r),this._onStackOrderChanged(r),!0}return!1}moveObjectTo(r,s){return r!==this._objects[s]&&(As(this._objects,r),this._objects.splice(s,0,r),this._onStackOrderChanged(r),!0)}findNewLowerIndex(r,s,i){let o;if(i){o=s;for(let a=s-1;a>=0;--a)if(r.isOverlapping(this._objects[a])){o=a;break}}else o=s-1;return o}findNewUpperIndex(r,s,i){let o;if(i){o=s;for(let a=s+1;a<this._objects.length;++a)if(r.isOverlapping(this._objects[a])){o=a;break}}else o=s+1;return o}collectObjects(r){let{left:s,top:i,width:o,height:a}=r,{includeIntersecting:l=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const u=[],c=new V(s,i),h=c.add(new V(o,a));for(let d=this._objects.length-1;d>=0;d--){const f=this._objects[d];f.selectable&&f.visible&&(l&&f.intersectsWithRect(c,h)||f.isContainedWithinRect(c,h)||l&&f.containsPoint(c)||l&&f.containsPoint(h))&&u.push(f)}return u}}return e}class wv extends CT{_setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(const t in e)this.set(t,e[t])}_setObject(e){for(const t in e)this._set(t,e[t])}set(e,t){return typeof e=="object"?this._setObject(e):this._set(e,t),this}_set(e,t){this[e]=t}toggle(e){const t=this.get(e);return typeof t=="boolean"&&this.set(e,!t),this}get(e){return this[e]}}function xa(n){return mh().requestAnimationFrame(n)}function TT(n){return mh().cancelAnimationFrame(n)}let OT=0;const Dr=()=>OT++,ht=()=>{const n=ri().createElement("canvas");if(!n||n.getContext===void 0)throw new Rn("Failed to create `canvas` element");return n},ET=()=>ri().createElement("img"),Sv=(n,e,t)=>n.toDataURL("image/".concat(e),t),tt=n=>n*vh,us=n=>n/vh,kT=n=>n.every((e,t)=>e===Bt[t]),Vt=(n,e,t)=>new V(n).transform(e,t),wn=n=>{const e=1/(n[0]*n[3]-n[1]*n[2]),t=[e*n[3],-e*n[1],-e*n[2],e*n[0],0,0],{x:r,y:s}=new V(n[4],n[5]).transform(t,!0);return t[4]=-r,t[5]=-s,t},mt=(n,e,t)=>[n[0]*e[0]+n[2]*e[1],n[1]*e[0]+n[3]*e[1],n[0]*e[2]+n[2]*e[3],n[1]*e[2]+n[3]*e[3],t?0:n[0]*e[4]+n[2]*e[5]+n[4],t?0:n[1]*e[4]+n[3]*e[5]+n[5]],Sh=(n,e)=>n.reduceRight((t,r)=>r&&t?mt(r,t,e):r||t,void 0)||Bt.concat(),xv=n=>{let[e,t]=n;return Math.atan2(t,e)},nl=n=>{const e=xv(n),t=Math.pow(n[0],2)+Math.pow(n[1],2),r=Math.sqrt(t),s=(n[0]*n[3]-n[2]*n[1])/r,i=Math.atan2(n[0]*n[2]+n[1]*n[3],t);return{angle:us(e),scaleX:r,scaleY:s,skewX:us(i),skewY:0,translateX:n[4]||0,translateY:n[5]||0}},Bo=function(n){return[1,0,0,1,n,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0]};function No(){let{angle:n=0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{x:e=0,y:t=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=tt(n),s=er(r),i=tr(r);return[s,i,-i,s,e?e-(s*e-i*t):0,t?t-(i*e+s*t):0]}const xh=function(n){return[n,0,0,arguments.length>1&&arguments[1]!==void 0?arguments[1]:n,0,0]},Cv=n=>Math.tan(tt(n)),Tv=n=>[1,0,Cv(n),1,0,0],Ov=n=>[1,Cv(n),0,1,0,0],Nl=n=>{let{scaleX:e=1,scaleY:t=1,flipX:r=!1,flipY:s=!1,skewX:i=0,skewY:o=0}=n,a=xh(r?-e:e,s?-t:t);return i&&(a=mt(a,Tv(i),!0)),o&&(a=mt(a,Ov(o),!0)),a},AT=n=>{const{translateX:e=0,translateY:t=0,angle:r=0}=n;let s=Bo(e,t);r&&(s=mt(s,No({angle:r})));const i=Nl(n);return kT(i)||(s=mt(s,i)),s},Ca=function(n){let{signal:e,crossOrigin:t=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(r,s){if(e&&e.aborted)return s(new yT("loadImage"));const i=ET();let o;e&&(o=function(l){i.src="",s(l)},e.addEventListener("abort",o,{once:!0}));const a=function(){i.onload=i.onerror=null,o&&(e==null||e.removeEventListener("abort",o)),r(i)};n?(i.onload=a,i.onerror=function(){o&&(e==null||e.removeEventListener("abort",o)),s(new Rn("Error loading ".concat(i.src)))},t&&(i.crossOrigin=t),i.src=n):a()})},Co=function(n){let{signal:e,reviver:t=wa}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((r,s)=>{const i=[];e&&e.addEventListener("abort",s,{once:!0}),Promise.all(n.map(o=>oe.getClass(o.type).fromObject(o,{signal:e}).then(a=>(t(o,a),i.push(a),a)))).then(r).catch(o=>{i.forEach(a=>{a.dispose&&a.dispose()}),s(o)}).finally(()=>{e&&e.removeEventListener("abort",s)})})},Vl=function(n){let{signal:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((t,r)=>{const s=[];e&&e.addEventListener("abort",r,{once:!0});const i=Object.values(n).map(a=>a&&a.type&&oe.has(a.type)?Co([a],{signal:e}).then(l=>{let[u]=l;return s.push(u),u}):a),o=Object.keys(n);Promise.all(i).then(a=>a.reduce((l,u,c)=>(l[o[c]]=u,l),{})).then(t).catch(a=>{s.forEach(l=>{l.dispose&&l.dispose()}),r(a)}).finally(()=>{e&&e.removeEventListener("abort",r)})})},oi=function(n){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).reduce((e,t)=>(t in n&&(e[t]=n[t]),e),{})},Ch=(n,e)=>Object.keys(n).reduce((t,r)=>(e(n[r],r,n)&&(t[r]=n[r]),t),{}),Sf={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#639",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32"},_c=(n,e,t)=>(t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*(e-n)*t:t<.5?e:t<2/3?n+(e-n)*(2/3-t)*6:n),xf=(n,e,t,r)=>{n/=255,e/=255,t/=255;const s=Math.max(n,e,t),i=Math.min(n,e,t);let o,a;const l=(s+i)/2;if(s===i)o=a=0;else{const u=s-i;switch(a=l>.5?u/(2-s-i):u/(s+i),s){case n:o=(e-t)/u+(e<t?6:0);break;case e:o=(t-n)/u+2;break;case t:o=(n-e)/u+4}o/=6}return[Math.round(360*o),Math.round(100*a),Math.round(100*l),r]},Cf=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"1";return parseFloat(n)/(n.endsWith("%")?100:1)},sa=n=>Math.min(Math.round(n),255).toString(16).toUpperCase().padStart(2,"0"),Tf=n=>{let[e,t,r,s=1]=n;const i=Math.round(.3*e+.59*t+.11*r);return[i,i,i,s]};class Be{constructor(e){if(P(this,"isUnrecognised",!1),e)if(e instanceof Be)this.setSource([...e._source]);else if(Array.isArray(e)){const[t,r,s,i=1]=e;this.setSource([t,r,s,i])}else this.setSource(this._tryParsingColor(e));else this.setSource([0,0,0,1])}_tryParsingColor(e){return e in Sf&&(e=Sf[e]),e==="transparent"?[255,255,255,0]:Be.sourceFromHex(e)||Be.sourceFromRgb(e)||Be.sourceFromHsl(e)||(this.isUnrecognised=!0)&&[0,0,0,1]}getSource(){return this._source}setSource(e){this._source=e}toRgb(){const[e,t,r]=this.getSource();return"rgb(".concat(e,",").concat(t,",").concat(r,")")}toRgba(){return"rgba(".concat(this.getSource().join(","),")")}toHsl(){const[e,t,r]=xf(...this.getSource());return"hsl(".concat(e,",").concat(t,"%,").concat(r,"%)")}toHsla(){const[e,t,r,s]=xf(...this.getSource());return"hsla(".concat(e,",").concat(t,"%,").concat(r,"%,").concat(s,")")}toHex(){return this.toHexa().slice(0,6)}toHexa(){const[e,t,r,s]=this.getSource();return"".concat(sa(e)).concat(sa(t)).concat(sa(r)).concat(sa(Math.round(255*s)))}getAlpha(){return this.getSource()[3]}setAlpha(e){return this._source[3]=e,this}toGrayscale(){return this.setSource(Tf(this.getSource())),this}toBlackWhite(e){const[t,,,r]=Tf(this.getSource()),s=t<(e||127)?0:255;return this.setSource([s,s,s,r]),this}overlayWith(e){e instanceof Be||(e=new Be(e));const t=this.getSource(),r=e.getSource(),[s,i,o]=t.map((a,l)=>Math.round(.5*a+.5*r[l]));return this.setSource([s,i,o,t[3]]),this}static fromRgb(e){return Be.fromRgba(e)}static fromRgba(e){return new Be(Be.sourceFromRgb(e))}static sourceFromRgb(e){const t=e.match(/^rgba?\(\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d{0,3}(?:\.\d+)?%?)\s*)?\)$/i);if(t){const[r,s,i]=t.slice(1,4).map(o=>{const a=parseFloat(o);return o.endsWith("%")?Math.round(2.55*a):a});return[r,s,i,Cf(t[4])]}}static fromHsl(e){return Be.fromHsla(e)}static fromHsla(e){return new Be(Be.sourceFromHsl(e))}static sourceFromHsl(e){const t=e.match(/^hsla?\(\s*([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d*(?:\.\d+)?%?)\s*)?\)$/i);if(!t)return;const r=(Be.parseAngletoDegrees(t[1])%360+360)%360/360,s=parseFloat(t[2])/100,i=parseFloat(t[3])/100;let o,a,l;if(s===0)o=a=l=i;else{const u=i<=.5?i*(s+1):i+s-i*s,c=2*i-u;o=_c(c,u,r+1/3),a=_c(c,u,r),l=_c(c,u,r-1/3)}return[Math.round(255*o),Math.round(255*a),Math.round(255*l),Cf(t[4])]}static fromHex(e){return new Be(Be.sourceFromHex(e))}static sourceFromHex(e){if(e.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)){const t=e.slice(e.indexOf("#")+1);let r;r=t.length<=4?t.split("").map(l=>l+l):t.match(/.{2}/g);const[s,i,o,a=255]=r.map(l=>parseInt(l,16));return[s,i,o,a/255]}}static parseAngletoDegrees(e){const t=e.toLowerCase(),r=parseFloat(t);return t.includes("rad")?us(r):t.includes("turn")?360*r:r}}const Je=(n,e)=>parseFloat(Number(n).toFixed(e)),Vs=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yh;const t=/\D{0,2}$/.exec(n),r=parseFloat(n),s=Pe.DPI;switch(t==null?void 0:t[0]){case"mm":return r*s/25.4;case"cm":return r*s/2.54;case"in":return r*s;case"pt":return r*s/72;case"pc":return r*s/72*12;case"em":return r*e;default:return r}},DT=n=>{const[e,t]=n.trim().split(" "),[r,s]=(i=e)&&i!==Xt?[i.slice(1,4),i.slice(5,8)]:i===Xt?[i,i]:["Mid","Mid"];var i;return{meetOrSlice:t||"meet",alignX:r,alignY:s}},rl=n=>"matrix("+n.map(e=>Je(e,Pe.NUM_FRACTION_DIGITS)).join(" ")+")",To=function(n,e){let t,r,s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(e)if(e.toLive)t="url(#SVGID_".concat(e.id,")");else{const i=new Be(e),o=i.getAlpha();t=i.toRgb(),o!==1&&(r=o.toString())}else t="none";return s?"".concat(n,": ").concat(t,"; ").concat(r?"".concat(n,"-opacity: ").concat(r,"; "):""):"".concat(n,'="').concat(t,'" ').concat(r?"".concat(n,'-opacity="').concat(r,'" '):"")},dn=n=>!!n&&n.toLive!==void 0,Of=n=>!!n&&typeof n.toObject=="function",Ef=n=>!!n&&n.offsetX!==void 0&&"source"in n,Ev=n=>!!n&&typeof n._renderText=="function",Ur=n=>!!n&&"multiSelectionStacking"in n;function kv(n){const e=n&&_n(n);let t=0,r=0;if(!n||!e)return{left:t,top:r};let s=n;const i=e.documentElement,o=e.body||{scrollLeft:0,scrollTop:0};for(;s&&(s.parentNode||s.host)&&(s=s.parentNode||s.host,s===e?(t=o.scrollLeft||i.scrollLeft||0,r=o.scrollTop||i.scrollTop||0):(t+=s.scrollLeft||0,r+=s.scrollTop||0),s.nodeType!==1||s.style.position!=="fixed"););return{left:t,top:r}}const _n=n=>n.ownerDocument||null,Av=n=>{var e;return((e=n.ownerDocument)===null||e===void 0?void 0:e.defaultView)||null},Dv=function(n,e,t){let{width:r,height:s}=t,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;n.width=r,n.height=s,i>1&&(n.setAttribute("width",(r*i).toString()),n.setAttribute("height",(s*i).toString()),e.scale(i,i))},hu=(n,e)=>{let{width:t,height:r}=e;t&&(n.style.width=typeof t=="number"?"".concat(t,"px"):t),r&&(n.style.height=typeof r=="number"?"".concat(r,"px"):r)};function kf(n){return n.onselectstart!==void 0&&(n.onselectstart=()=>!1),n.style.userSelect=Xt,n}class Pv{constructor(e){P(this,"_originalCanvasStyle",void 0),P(this,"lower",void 0);const t=this.createLowerCanvas(e);this.lower={el:t,ctx:t.getContext("2d")}}createLowerCanvas(e){const t=(r=e)&&r.getContext!==void 0?e:e&&ri().getElementById(e)||ht();var r;if(t.hasAttribute("data-fabric"))throw new Rn("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");return this._originalCanvasStyle=t.style.cssText,t.setAttribute("data-fabric","main"),t.classList.add("lower-canvas"),t}cleanupDOM(e){let{width:t,height:r}=e;const{el:s}=this.lower;s.classList.remove("lower-canvas"),s.removeAttribute("data-fabric"),s.setAttribute("width","".concat(t)),s.setAttribute("height","".concat(r)),s.style.cssText=this._originalCanvasStyle||"",this._originalCanvasStyle=void 0}setDimensions(e,t){const{el:r,ctx:s}=this.lower;Dv(r,s,e,t)}setCSSDimensions(e){hu(this.lower.el,e)}calcOffset(){return function(e){var t;const r=e&&_n(e),s={left:0,top:0};if(!r)return s;const i=((t=Av(e))===null||t===void 0?void 0:t.getComputedStyle(e,null))||{};s.left+=parseInt(i.borderLeftWidth,10)||0,s.top+=parseInt(i.borderTopWidth,10)||0,s.left+=parseInt(i.paddingLeft,10)||0,s.top+=parseInt(i.paddingTop,10)||0;let o={left:0,top:0};const a=r.documentElement;e.getBoundingClientRect!==void 0&&(o=e.getBoundingClientRect());const l=kv(e);return{left:o.left+l.left-(a.clientLeft||0)+s.left,top:o.top+l.top-(a.clientTop||0)+s.top}}(this.lower.el)}dispose(){In().dispose(this.lower.el),delete this.lower}}const PT={backgroundVpt:!0,backgroundColor:"",overlayVpt:!0,overlayColor:"",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:[...Bt]};class Vo extends _v(wv){get lowerCanvasEl(){var e;return(e=this.elements.lower)===null||e===void 0?void 0:e.el}get contextContainer(){var e;return(e=this.elements.lower)===null||e===void 0?void 0:e.ctx}static getDefaults(){return Vo.ownDefaults}constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,this.constructor.getDefaults()),this.set(t),this.initElements(e),this._setDimensionsImpl({width:this.width||this.elements.lower.el.width||0,height:this.height||this.elements.lower.el.height||0}),this.skipControlsDrawing=!1,this.viewportTransform=[...this.viewportTransform],this.calcViewportBoundaries()}initElements(e){this.elements=new Pv(e)}add(){const e=super.add(...arguments);return arguments.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}insertAt(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];const i=super.insertAt(e,...r);return r.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),i}remove(){const e=super.remove(...arguments);return e.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}_onObjectAdded(e){e.canvas&&e.canvas!==this&&(Ar("warn",`Canvas is trying to add an object that belongs to a different canvas.
Resulting to default behavior: removing object from previous canvas and adding to new canvas`),e.canvas.remove(e)),e._set("canvas",this),e.setCoords(),this.fire("object:added",{target:e}),e.fire("added",{target:this})}_onObjectRemoved(e){e._set("canvas",void 0),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}_onStackOrderChanged(){this.renderOnAddRemove&&this.requestRenderAll()}getRetinaScaling(){return this.enableRetinaScaling?mv():1}calcOffset(){return this._offset=this.elements.calcOffset()}getWidth(){return this.width}getHeight(){return this.height}setWidth(e,t){return this.setDimensions({width:e},t)}setHeight(e,t){return this.setDimensions({height:e},t)}_setDimensionsImpl(e){let{cssOnly:t=!1,backstoreOnly:r=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!t){const s=F({width:this.width,height:this.height},e);this.elements.setDimensions(s,this.getRetinaScaling()),this.hasLostContext=!0,this.width=s.width,this.height=s.height}r||this.elements.setCSSDimensions(e),this.calcOffset()}setDimensions(e,t){this._setDimensionsImpl(e,t),t&&t.cssOnly||this.requestRenderAll()}getZoom(){return this.viewportTransform[0]}setViewportTransform(e){this.viewportTransform=e,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}zoomToPoint(e,t){const r=e,s=[...this.viewportTransform],i=Vt(e,wn(s));s[0]=t,s[3]=t;const o=Vt(i,s);s[4]+=r.x-o.x,s[5]+=r.y-o.y,this.setViewportTransform(s)}setZoom(e){this.zoomToPoint(new V(0,0),e)}absolutePan(e){const t=[...this.viewportTransform];return t[4]=-e.x,t[5]=-e.y,this.setViewportTransform(t)}relativePan(e){return this.absolutePan(new V(-e.x-this.viewportTransform[4],-e.y-this.viewportTransform[5]))}getElement(){return this.elements.lower.el}clearContext(e){e.clearRect(0,0,this.width,this.height)}getContext(){return this.elements.lower.ctx}clear(){this.remove(...this.getObjects()),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor="",this.overlayColor="",this.clearContext(this.getContext()),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll()}renderAll(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}renderAndReset(){this.nextRenderHandle=0,this.renderAll()}requestRenderAll(){this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=xa(()=>this.renderAndReset()))}calcViewportBoundaries(){const e=this.width,t=this.height,r=wn(this.viewportTransform),s=Vt({x:0,y:0},r),i=Vt({x:e,y:t},r),o=s.min(i),a=s.max(i);return this.vptCoords={tl:o,tr:new V(a.x,o.y),bl:new V(o.x,a.y),br:a}}cancelRequestedRender(){this.nextRenderHandle&&(TT(this.nextRenderHandle),this.nextRenderHandle=0)}drawControls(e){}renderCanvas(e,t){if(this.destroyed)return;const r=this.viewportTransform,s=this.clipPath;this.calcViewportBoundaries(),this.clearContext(e),e.imageSmoothingEnabled=this.imageSmoothingEnabled,e.patternQuality="best",this.fire("before:render",{ctx:e}),this._renderBackground(e),e.save(),e.transform(r[0],r[1],r[2],r[3],r[4],r[5]),this._renderObjects(e,t),e.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(e),s&&(s._set("canvas",this),s.shouldCache(),s._transformDone=!0,s.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(e,s)),this._renderOverlay(e),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(e),this.fire("after:render",{ctx:e}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0)}drawClipPathOnCanvas(e,t){const r=this.viewportTransform;e.save(),e.transform(...r),e.globalCompositeOperation="destination-in",t.transform(e),e.scale(1/t.zoomX,1/t.zoomY),e.drawImage(t._cacheCanvas,-t.cacheTranslationX,-t.cacheTranslationY),e.restore()}_renderObjects(e,t){for(let r=0,s=t.length;r<s;++r)t[r]&&t[r].render(e)}_renderBackgroundOrOverlay(e,t){const r=this["".concat(t,"Color")],s=this["".concat(t,"Image")],i=this.viewportTransform,o=this["".concat(t,"Vpt")];if(!r&&!s)return;const a=dn(r);if(r){if(e.save(),e.beginPath(),e.moveTo(0,0),e.lineTo(this.width,0),e.lineTo(this.width,this.height),e.lineTo(0,this.height),e.closePath(),e.fillStyle=a?r.toLive(e):r,o&&e.transform(...i),a){e.transform(1,0,0,1,r.offsetX||0,r.offsetY||0);const l=r.gradientTransform||r.patternTransform;l&&e.transform(...l)}e.fill(),e.restore()}if(s){e.save();const{skipOffscreen:l}=this;this.skipOffscreen=o,o&&e.transform(...i),s.render(e),this.skipOffscreen=l,e.restore()}}_renderBackground(e){this._renderBackgroundOrOverlay(e,"background")}_renderOverlay(e){this._renderBackgroundOrOverlay(e,"overlay")}getCenter(){return{top:this.height/2,left:this.width/2}}getCenterPoint(){return new V(this.width/2,this.height/2)}centerObjectH(e){return this._centerObject(e,new V(this.getCenterPoint().x,e.getCenterPoint().y))}centerObjectV(e){return this._centerObject(e,new V(e.getCenterPoint().x,this.getCenterPoint().y))}centerObject(e){return this._centerObject(e,this.getCenterPoint())}viewportCenterObject(e){return this._centerObject(e,this.getVpCenter())}viewportCenterObjectH(e){return this._centerObject(e,new V(this.getVpCenter().x,e.getCenterPoint().y))}viewportCenterObjectV(e){return this._centerObject(e,new V(e.getCenterPoint().x,this.getVpCenter().y))}getVpCenter(){return Vt(this.getCenterPoint(),wn(this.viewportTransform))}_centerObject(e,t){e.setXY(t,Ce,Ce),e.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}toDatalessJSON(e){return this.toDatalessObject(e)}toObject(e){return this._toObjectMethod("toObject",e)}toJSON(){return this.toObject()}toDatalessObject(e){return this._toObjectMethod("toDatalessObject",e)}_toObjectMethod(e,t){const r=this.clipPath,s=r&&!r.excludeFromExport?this._toObject(r,e,t):null;return F(F(F({version:Ks},oi(this,t)),{},{objects:this._objects.filter(i=>!i.excludeFromExport).map(i=>this._toObject(i,e,t))},this.__serializeBgOverlay(e,t)),s?{clipPath:s}:null)}_toObject(e,t,r){let s;this.includeDefaultValues||(s=e.includeDefaultValues,e.includeDefaultValues=!1);const i=e[t](r);return this.includeDefaultValues||(e.includeDefaultValues=!!s),i}__serializeBgOverlay(e,t){const r={},s=this.backgroundImage,i=this.overlayImage,o=this.backgroundColor,a=this.overlayColor;return dn(o)?o.excludeFromExport||(r.background=o.toObject(t)):o&&(r.background=o),dn(a)?a.excludeFromExport||(r.overlay=a.toObject(t)):a&&(r.overlay=a),s&&!s.excludeFromExport&&(r.backgroundImage=this._toObject(s,e,t)),i&&!i.excludeFromExport&&(r.overlayImage=this._toObject(i,e,t)),r}toSVG(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;e.reviver=t;const r=[];return this._setSVGPreamble(r,e),this._setSVGHeader(r,e),this.clipPath&&r.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId,`)" >
`)),this._setSVGBgOverlayColor(r,"background"),this._setSVGBgOverlayImage(r,"backgroundImage",t),this._setSVGObjects(r,t),this.clipPath&&r.push(`</g>
`),this._setSVGBgOverlayColor(r,"overlay"),this._setSVGBgOverlayImage(r,"overlayImage",t),r.push("</svg>"),r.join("")}_setSVGPreamble(e,t){t.suppressPreamble||e.push('<?xml version="1.0" encoding="',t.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)}_setSVGHeader(e,t){const r=t.width||"".concat(this.width),s=t.height||"".concat(this.height),i=Pe.NUM_FRACTION_DIGITS,o=t.viewBox;let a;if(o)a='viewBox="'.concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height,'" ');else if(this.svgViewportTransformation){const l=this.viewportTransform;a='viewBox="'.concat(Je(-l[4]/l[0],i)," ").concat(Je(-l[5]/l[3],i)," ").concat(Je(this.width/l[0],i)," ").concat(Je(this.height/l[3],i),'" ')}else a='viewBox="0 0 '.concat(this.width," ").concat(this.height,'" ');e.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',r,'" ','height="',s,'" ',a,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",Ks,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(t),`</defs>
`)}createSVGClipPathMarkup(e){const t=this.clipPath;return t?(t.clipPathId="CLIPPATH_".concat(Dr()),'<clipPath id="'.concat(t.clipPathId,`" >
`).concat(t.toClipPathSVG(e.reviver),`</clipPath>
`)):""}createSVGRefElementsMarkup(){return["background","overlay"].map(e=>{const t=this["".concat(e,"Color")];if(dn(t)){const r=this["".concat(e,"Vpt")],s=this.viewportTransform,i={isType:()=>!1,width:this.width/(r?s[0]:1),height:this.height/(r?s[3]:1)};return t.toSVG(i,{additionalTransform:r?rl(s):""})}}).join("")}createSVGFontFacesMarkup(){const e=[],t={},r=Pe.fontPaths;this._objects.forEach(function i(o){e.push(o),Sa(o)&&o._objects.forEach(i)}),e.forEach(i=>{if(!Ev(i))return;const{styles:o,fontFamily:a}=i;!t[a]&&r[a]&&(t[a]=!0,o&&Object.values(o).forEach(l=>{Object.values(l).forEach(u=>{let{fontFamily:c=""}=u;!t[c]&&r[c]&&(t[c]=!0)})}))});const s=Object.keys(t).map(i=>`		@font-face {
			font-family: '`.concat(i,`';
			src: url('`).concat(r[i],`');
		}
`)).join("");return s?`	<style type="text/css"><![CDATA[
`.concat(s,`]]></style>
`):""}_setSVGObjects(e,t){this.forEachObject(r=>{r.excludeFromExport||this._setSVGObject(e,r,t)})}_setSVGObject(e,t,r){e.push(t.toSVG(r))}_setSVGBgOverlayImage(e,t,r){const s=this[t];s&&!s.excludeFromExport&&s.toSVG&&e.push(s.toSVG(r))}_setSVGBgOverlayColor(e,t){const r=this["".concat(t,"Color")];if(r)if(dn(r)){const s=r.repeat||"",i=this.width,o=this.height,a=this["".concat(t,"Vpt")]?rl(wn(this.viewportTransform)):"";e.push('<rect transform="'.concat(a," translate(").concat(i/2,",").concat(o/2,')" x="').concat(r.offsetX-i/2,'" y="').concat(r.offsetY-o/2,'" width="').concat(s!=="repeat-y"&&s!=="no-repeat"||!Ef(r)?i:r.source.width,'" height="').concat(s!=="repeat-x"&&s!=="no-repeat"||!Ef(r)?o:r.source.height,'" fill="url(#SVGID_').concat(r.id,`)"></rect>
`))}else e.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',r,'"',`></rect>
`)}loadFromJSON(e,t){let{signal:r}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return Promise.reject(new Rn("`json` is undefined"));const s=typeof e=="string"?JSON.parse(e):e,{objects:i=[],backgroundImage:o,background:a,overlayImage:l,overlay:u,clipPath:c}=s,h=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([Co(i,{reviver:t,signal:r}),Vl({backgroundImage:o,backgroundColor:a,overlayImage:l,overlayColor:u,clipPath:c},{signal:r})]).then(d=>{let[f,p]=d;return this.clear(),this.add(...f),this.set(s),this.set(p),this.renderOnAddRemove=h,this})}clone(e){const t=this.toObject(e);return this.cloneWithoutData().loadFromJSON(t)}cloneWithoutData(){const e=ht();return e.width=this.width,e.height=this.height,new this.constructor(e)}toDataURL(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:t="png",quality:r=1,multiplier:s=1,enableRetinaScaling:i=!1}=e,o=s*(i?this.getRetinaScaling():1);return Sv(this.toCanvasElement(o,e),t,r)}toCanvasElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,{width:t,height:r,left:s,top:i,filter:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=(t||this.width)*e,l=(r||this.height)*e,u=this.getZoom(),c=this.width,h=this.height,d=this.skipControlsDrawing,f=u*e,p=this.viewportTransform,m=[f,0,0,f,(p[4]-(s||0))*e,(p[5]-(i||0))*e],b=this.enableRetinaScaling,_=ht(),S=o?this._objects.filter(y=>o(y)):this._objects;return _.width=a,_.height=l,this.enableRetinaScaling=!1,this.viewportTransform=m,this.width=a,this.height=l,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(_.getContext("2d"),S),this.viewportTransform=p,this.width=c,this.height=h,this.calcViewportBoundaries(),this.enableRetinaScaling=b,this.skipControlsDrawing=d,_}dispose(){return!this.disposed&&this.elements.cleanupDOM({width:this.width,height:this.height}),tl.cancelByCanvas(this),this.disposed=!0,new Promise((e,t)=>{const r=()=>{this.destroy(),e(!0)};r.kill=t,this.__cleanupTask&&this.__cleanupTask.kill("aborted"),this.destroyed?e(!1):this.nextRenderHandle?this.__cleanupTask=r:r()})}destroy(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject(e=>e.dispose()),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}toString(){return"#<Canvas (".concat(this.complexity(),"): { objects: ").concat(this._objects.length," }>")}}P(Vo,"ownDefaults",PT);const MT=["touchstart","touchmove","touchend"],RT=n=>{const e=kv(n.target),t=function(r){const s=r.changedTouches;return s&&s[0]?s[0]:r}(n);return new V(t.clientX+e.left,t.clientY+e.top)},du=n=>MT.includes(n.type)||n.pointerType==="touch",fu=n=>{n.preventDefault(),n.stopPropagation()},qn=n=>{let e=0,t=0,r=0,s=0;for(let i=0,o=n.length;i<o;i++){const{x:a,y:l}=n[i];(a>r||!i)&&(r=a),(a<e||!i)&&(e=a),(l>s||!i)&&(s=l),(l<t||!i)&&(t=l)}return{left:e,top:t,width:r-e,height:s-t}},FT=["translateX","translateY","scaleX","scaleY"],LT=(n,e)=>sl(n,mt(e,n.calcOwnMatrix())),sl=(n,e)=>{const t=nl(e),{translateX:r,translateY:s,scaleX:i,scaleY:o}=t,a=Ke(t,FT),l=new V(r,s);n.flipX=!1,n.flipY=!1,Object.assign(n,a),n.set({scaleX:i,scaleY:o}),n.setPositionByOrigin(l,Ce,Ce)},jT=n=>{n.scaleX=1,n.scaleY=1,n.skewX=0,n.skewY=0,n.flipX=!1,n.flipY=!1,n.rotate(0)},Mv=n=>({scaleX:n.scaleX,scaleY:n.scaleY,skewX:n.skewX,skewY:n.skewY,angle:n.angle,left:n.left,flipX:n.flipX,flipY:n.flipY,top:n.top}),Th=(n,e,t)=>{const r=n/2,s=e/2,i=[new V(-r,-s),new V(r,-s),new V(-r,s),new V(r,s)].map(a=>a.transform(t)),o=qn(i);return new V(o.width,o.height)},Hl=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Bt;return mt(wn(arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bt),n)},Hs=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bt,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Bt;return n.transform(Hl(e,t))},IT=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bt,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Bt;return n.transform(Hl(e,t),!0)},BT=(n,e,t)=>{const r=Hl(e,t);return sl(n,mt(r,n.calcOwnMatrix())),r},Rv=(n,e)=>{var t;const{transform:{target:r}}=e;(t=r.canvas)===null||t===void 0||t.fire("object:".concat(n),F(F({},e),{},{target:r})),r.fire(n,e)},NT={left:-.5,top:-.5,center:0,bottom:.5,right:.5},rt=n=>typeof n=="string"?NT[n]:n-.5,il="not-allowed";function Fv(n){return rt(n.originX)===rt(Ce)&&rt(n.originY)===rt(Ce)}function Af(n){return .5-rt(n)}const Tn=(n,e)=>n[e],Lv=(n,e,t,r)=>({e:n,transform:e,pointer:new V(t,r)});function jv(n,e){const t=n.getTotalAngle()+us(Math.atan2(e.y,e.x))+360;return Math.round(t%360/45)}function Oh(n,e,t,r,s){var i;let{target:o,corner:a}=n;const l=o.controls[a],u=((i=o.canvas)===null||i===void 0?void 0:i.getZoom())||1,c=o.padding/u,h=function(d,f,p,m){const b=d.getRelativeCenterPoint(),_=p!==void 0&&m!==void 0?d.translateToGivenOrigin(b,Ce,Ce,p,m):new V(d.left,d.top);return(d.angle?f.rotate(-tt(d.angle),b):f).subtract(_)}(o,new V(r,s),e,t);return h.x>=c&&(h.x-=c),h.x<=-c&&(h.x+=c),h.y>=c&&(h.y-=c),h.y<=c&&(h.y+=c),h.x-=l.offsetX,h.y-=l.offsetY,h}const VT=(n,e,t,r)=>{const{target:s,offsetX:i,offsetY:o}=e,a=t-i,l=r-o,u=!Tn(s,"lockMovementX")&&s.left!==a,c=!Tn(s,"lockMovementY")&&s.top!==l;return u&&s.set(Le,a),c&&s.set(zt,l),(u||c)&&Rv(vv,Lv(n,e,t,r)),u||c};class Iv{getSvgStyles(e){const t=this.fillRule?this.fillRule:"nonzero",r=this.strokeWidth?this.strokeWidth:"0",s=this.strokeDashArray?this.strokeDashArray.join(" "):Xt,i=this.strokeDashOffset?this.strokeDashOffset:"0",o=this.strokeLineCap?this.strokeLineCap:"butt",a=this.strokeLineJoin?this.strokeLineJoin:"miter",l=this.strokeMiterLimit?this.strokeMiterLimit:"4",u=this.opacity!==void 0?this.opacity:"1",c=this.visible?"":" visibility: hidden;",h=e?"":this.getSvgFilter(),d=To(it,this.fill);return[To(Gt,this.stroke),"stroke-width: ",r,"; ","stroke-dasharray: ",s,"; ","stroke-linecap: ",o,"; ","stroke-dashoffset: ",i,"; ","stroke-linejoin: ",a,"; ","stroke-miterlimit: ",l,"; ",d,"fill-rule: ",t,"; ","opacity: ",u,";",h,c].join("")}getSvgFilter(){return this.shadow?"filter: url(#SVGID_".concat(this.shadow.id,");"):""}getSvgCommons(){return[this.id?'id="'.concat(this.id,'" '):"",this.clipPath?'clip-path="url(#'.concat(this.clipPath.clipPathId,')" '):""].join("")}getSvgTransform(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e?this.calcTransformMatrix():this.calcOwnMatrix(),s='transform="'.concat(rl(r));return"".concat(s).concat(t,'" ')}_toSVG(e){return[""]}toSVG(e){return this._createBaseSVGMarkup(this._toSVG(e),{reviver:e})}toClipPathSVG(e){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(e),{reviver:e})}_createBaseClipPathSVGMarkup(e){let{reviver:t,additionalTransform:r=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=[this.getSvgTransform(!0,r),this.getSvgCommons()].join(""),i=e.indexOf("COMMON_PARTS");return e[i]=s,t?t(e.join("")):e.join("")}_createBaseSVGMarkup(e){let{noStyle:t,reviver:r,withShadow:s,additionalTransform:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=t?"":'style="'.concat(this.getSvgStyles(),'" '),a=s?'style="'.concat(this.getSvgFilter(),'" '):"",l=this.clipPath,u=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",c=l&&l.absolutePositioned,h=this.stroke,d=this.fill,f=this.shadow,p=[],m=e.indexOf("COMMON_PARTS");let b;l&&(l.clipPathId="CLIPPATH_".concat(Dr()),b='<clipPath id="'.concat(l.clipPathId,`" >
`).concat(l.toClipPathSVG(r),`</clipPath>
`)),c&&p.push("<g ",a,this.getSvgCommons(),` >
`),p.push("<g ",this.getSvgTransform(!1),c?"":a+this.getSvgCommons(),` >
`);const _=[o,u,t?"":this.addPaintOrder()," ",i?'transform="'.concat(i,'" '):""].join("");return e[m]=_,dn(d)&&p.push(d.toSVG(this)),dn(h)&&p.push(h.toSVG(this)),f&&p.push(f.toSVG(this)),l&&p.push(b),p.push(e.join("")),p.push(`</g>
`),c&&p.push(`</g>
`),r?r(p.join("")):p.join("")}addPaintOrder(){return this.paintFirst!==it?' paint-order="'.concat(this.paintFirst,'" '):""}}function Ul(n){return new RegExp("^("+n.join("|")+")\\b","i")}var Df;const hs=String.raw(Df||(Df=Lr(["(?:[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?)"],["(?:[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?)"]))),HT=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+hs+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+hs+"))?\\s+(.*)"),UT={cx:Le,x:Le,r:"radius",cy:zt,y:zt,display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},wc="font-size",Sc="clip-path";Ul(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]);Ul(["symbol","image","marker","pattern","view","svg"]);const Pf=Ul(["symbol","g","a","svg","clipPath","defs"]),WT=new V(1,0),Bv=new V,Nv=(n,e)=>n.rotate(e),pu=(n,e)=>new V(e).subtract(n),gu=n=>n.distanceFrom(Bv),mu=(n,e)=>Math.atan2(oo(n,e),zT(n,e)),$T=n=>mu(WT,n),Eh=n=>n.eq(Bv)?n:n.scalarDivide(gu(n)),Vv=function(n){let e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return Eh(new V(-n.y,n.x).scalarMultiply(e?1:-1))},oo=(n,e)=>n.x*e.y-n.y*e.x,zT=(n,e)=>n.x*e.x+n.y*e.y,Mf=(n,e,t)=>{if(n.eq(e)||n.eq(t))return!0;const r=oo(e,t),s=oo(e,n),i=oo(t,n);return r>=0?s>=0&&i<=0:!(s<=0&&i>=0)},Rf="(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?",Ff=new RegExp("(?:\\s|^)"+Rf+Rf+"("+hs+"?(?:px)?)?(?:\\s?|$)(?:$|\\s)");class Jn{constructor(e){const t=typeof e=="string"?Jn.parseShadow(e):e;Object.assign(this,Jn.ownDefaults,t),this.id=Dr()}static parseShadow(e){const t=e.trim(),[,r=0,s=0,i=0]=(Ff.exec(t)||[]).map(o=>parseFloat(o)||0);return{color:(t.replace(Ff,"")||"rgb(0,0,0)").trim(),offsetX:r,offsetY:s,blur:i}}toString(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")}toSVG(e){const t=Nv(new V(this.offsetX,this.offsetY),tt(-e.angle)),r=new Be(this.color);let s=40,i=40;return e.width&&e.height&&(s=100*Je((Math.abs(t.x)+this.blur)/e.width,Pe.NUM_FRACTION_DIGITS)+20,i=100*Je((Math.abs(t.y)+this.blur)/e.height,Pe.NUM_FRACTION_DIGITS)+20),e.flipX&&(t.x*=-1),e.flipY&&(t.y*=-1),'<filter id="SVGID_'.concat(this.id,'" y="-').concat(i,'%" height="').concat(100+2*i,'%" x="-').concat(s,'%" width="').concat(100+2*s,`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`).concat(Je(this.blur?this.blur/2:0,Pe.NUM_FRACTION_DIGITS),`"></feGaussianBlur>
	<feOffset dx="`).concat(Je(t.x,Pe.NUM_FRACTION_DIGITS),'" dy="').concat(Je(t.y,Pe.NUM_FRACTION_DIGITS),`" result="oBlur" ></feOffset>
	<feFlood flood-color="`).concat(r.toRgb(),'" flood-opacity="').concat(r.getAlpha(),`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`)}toObject(){const e={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},t=Jn.ownDefaults;return this.includeDefaultValues?e:Ch(e,(r,s)=>r!==t[s])}static async fromObject(e){return new this(e)}}P(Jn,"ownDefaults",{color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),P(Jn,"type","shadow"),oe.setClass(Jn,"shadow");const qs=(n,e,t)=>Math.max(n,Math.min(e,t)),XT=[zt,Le,qt,gn,"flipX","flipY","originX","originY","angle","opacity","globalCompositeOperation","shadow","visible",si,ii],sr=[it,Gt,"strokeWidth","strokeDashArray","width","height","paintFirst","strokeUniform","strokeLineCap","strokeDashOffset","strokeLineJoin","strokeMiterLimit","backgroundColor","clipPath"],GT={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:Le,originY:zt,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:it,fill:"rgb(0,0,0)",fillRule:"nonzero",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,globalCompositeOperation:"source-over",backgroundColor:"",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},YT=(n,e,t,r)=>-t*Math.cos(n/r*Io)+t+e,KT=()=>!1;class kh{constructor(e){let{startValue:t,byValue:r,duration:s=500,delay:i=0,easing:o=YT,onStart:a=wa,onChange:l=wa,onComplete:u=wa,abort:c=KT,target:h}=e;P(this,"_state","pending"),P(this,"durationProgress",0),P(this,"valueProgress",0),this.tick=this.tick.bind(this),this.duration=s,this.delay=i,this.easing=o,this._onStart=a,this._onChange=l,this._onComplete=u,this._abort=c,this.target=h,this.startValue=t,this.byValue=r,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}get state(){return this._state}isDone(){return this._state==="aborted"||this._state==="completed"}start(){const e=t=>{this._state==="pending"&&(this.startTime=t||+new Date,this._state="running",this._onStart(),this.tick(this.startTime))};this.register(),this.delay>0?setTimeout(()=>xa(e),this.delay):xa(e)}tick(e){const t=(e||+new Date)-this.startTime,r=Math.min(t,this.duration);this.durationProgress=r/this.duration;const{value:s,valueProgress:i}=this.calculate(r);this.value=Object.freeze(s),this.valueProgress=i,this._state!=="aborted"&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state="aborted",this.unregister()):t>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state="completed",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),xa(this.tick)))}register(){tl.push(this)}unregister(){tl.remove(this)}abort(){this._state="aborted",this.unregister()}}const qT=["startValue","endValue"];class JT extends kh{constructor(e){let{startValue:t=0,endValue:r=100}=e;super(F(F({},Ke(e,qT)),{},{startValue:t,byValue:r-t}))}calculate(e){const t=this.easing(e,this.startValue,this.byValue,this.duration);return{value:t,valueProgress:Math.abs((t-this.startValue)/this.byValue)}}}const ZT=["startValue","endValue"];class QT extends kh{constructor(e){let{startValue:t=[0],endValue:r=[100]}=e;super(F(F({},Ke(e,ZT)),{},{startValue:t,byValue:r.map((s,i)=>s-t[i])}))}calculate(e){const t=this.startValue.map((r,s)=>this.easing(e,r,this.byValue[s],this.duration,s));return{value:t,valueProgress:Math.abs((t[0]-this.startValue[0])/this.byValue[0])}}}const eO=["startValue","endValue","easing","onChange","onComplete","abort"],tO=(n,e,t,r)=>e+t*(1-Math.cos(n/r*Io)),xc=n=>n&&((e,t,r)=>n(new Be(e).toRgba(),t,r));class nO extends kh{constructor(e){let{startValue:t,endValue:r,easing:s=tO,onChange:i,onComplete:o,abort:a}=e,l=Ke(e,eO);const u=new Be(t).getSource(),c=new Be(r).getSource();super(F(F({},l),{},{startValue:u,byValue:c.map((h,d)=>h-u[d]),easing:s,onChange:xc(i),onComplete:xc(o),abort:xc(a)}))}calculate(e){const[t,r,s,i]=this.startValue.map((a,l)=>this.easing(e,a,this.byValue[l],this.duration,l)),o=[...[t,r,s].map(Math.round),qs(0,i,1)];return{value:o,valueProgress:o.map((a,l)=>this.byValue[l]!==0?Math.abs((a-this.startValue[l])/this.byValue[l]):0).find(a=>a!==0)||0}}}function Hv(n){const e=(t=>Array.isArray(t.startValue)||Array.isArray(t.endValue))(n)?new QT(n):new JT(n);return e.start(),e}function rO(n){const e=new nO(n);return e.start(),e}class qe{constructor(e){this.status=e,this.points=[]}includes(e){return this.points.some(t=>t.eq(e))}append(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.points=this.points.concat(t.filter(s=>!this.includes(s))),this}static isPointContained(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(t.eq(r))return e.eq(t);if(t.x===r.x)return e.x===t.x&&(s||e.y>=Math.min(t.y,r.y)&&e.y<=Math.max(t.y,r.y));if(t.y===r.y)return e.y===t.y&&(s||e.x>=Math.min(t.x,r.x)&&e.x<=Math.max(t.x,r.x));{const i=pu(t,r),o=pu(t,e).divide(i);return s?Math.abs(o.x)===Math.abs(o.y):o.x===o.y&&o.x>=0&&o.x<=1}}static isPointInPolygon(e,t){const r=new V(e).setX(Math.min(e.x-1,...t.map(i=>i.x)));let s=0;for(let i=0;i<t.length;i++){const o=this.intersectSegmentSegment(t[i],t[(i+1)%t.length],e,r);if(o.includes(e))return!0;s+=+(o.status==="Intersection")}return s%2==1}static intersectLineLine(e,t,r,s){let i=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],o=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5];const a=t.x-e.x,l=t.y-e.y,u=s.x-r.x,c=s.y-r.y,h=e.x-r.x,d=e.y-r.y,f=u*d-c*h,p=a*d-l*h,m=c*a-u*l;if(m!==0){const b=f/m,_=p/m;return(i||0<=b&&b<=1)&&(o||0<=_&&_<=1)?new qe("Intersection").append(new V(e.x+b*a,e.y+b*l)):new qe}if(f===0||p===0){const b=i||o||qe.isPointContained(e,r,s)||qe.isPointContained(t,r,s)||qe.isPointContained(r,e,t)||qe.isPointContained(s,e,t);return new qe(b?"Coincident":void 0)}return new qe("Parallel")}static intersectSegmentLine(e,t,r,s){return qe.intersectLineLine(e,t,r,s,!1,!0)}static intersectSegmentSegment(e,t,r,s){return qe.intersectLineLine(e,t,r,s,!1,!1)}static intersectLinePolygon(e,t,r){let s=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];const i=new qe,o=r.length;for(let a,l,u,c=0;c<o;c++){if(a=r[c],l=r[(c+1)%o],u=qe.intersectLineLine(e,t,a,l,s,!1),u.status==="Coincident")return u;i.append(...u.points)}return i.points.length>0&&(i.status="Intersection"),i}static intersectSegmentPolygon(e,t,r){return qe.intersectLinePolygon(e,t,r,!1)}static intersectPolygonPolygon(e,t){const r=new qe,s=e.length,i=[];for(let o=0;o<s;o++){const a=e[o],l=e[(o+1)%s],u=qe.intersectSegmentPolygon(a,l,t);u.status==="Coincident"?(i.push(u),r.append(a,l)):r.append(...u.points)}return i.length>0&&i.length===e.length?new qe("Coincident"):(r.points.length>0&&(r.status="Intersection"),r)}static intersectPolygonRectangle(e,t,r){const s=t.min(r),i=t.max(r),o=new V(i.x,s.y),a=new V(s.x,i.y);return qe.intersectPolygonPolygon(e,[s,o,i,a])}}class sO extends wv{getX(){return this.getXY().x}setX(e){this.setXY(this.getXY().setX(e))}getY(){return this.getXY().y}setY(e){this.setXY(this.getXY().setY(e))}getRelativeX(){return this.left}setRelativeX(e){this.left=e}getRelativeY(){return this.top}setRelativeY(e){this.top=e}getXY(){const e=this.getRelativeXY();return this.group?Vt(e,this.group.calcTransformMatrix()):e}setXY(e,t,r){this.group&&(e=Vt(e,wn(this.group.calcTransformMatrix()))),this.setRelativeXY(e,t,r)}getRelativeXY(){return new V(this.left,this.top)}setRelativeXY(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.originX,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.originY;this.setPositionByOrigin(e,t,r)}isStrokeAccountedForInDimensions(){return!1}getCoords(){const{tl:e,tr:t,br:r,bl:s}=this.aCoords||(this.aCoords=this.calcACoords()),i=[e,t,r,s];if(this.group){const o=this.group.calcTransformMatrix();return i.map(a=>Vt(a,o))}return i}intersectsWithRect(e,t){return qe.intersectPolygonRectangle(this.getCoords(),e,t).status==="Intersection"}intersectsWithObject(e){const t=qe.intersectPolygonPolygon(this.getCoords(),e.getCoords());return t.status==="Intersection"||t.status==="Coincident"||e.isContainedWithinObject(this)||this.isContainedWithinObject(e)}isContainedWithinObject(e){return this.getCoords().every(t=>e.containsPoint(t))}isContainedWithinRect(e,t){const{left:r,top:s,width:i,height:o}=this.getBoundingRect();return r>=e.x&&r+i<=t.x&&s>=e.y&&s+o<=t.y}isOverlapping(e){return this.intersectsWithObject(e)||this.isContainedWithinObject(e)||e.isContainedWithinObject(this)}containsPoint(e){return qe.isPointInPolygon(e,this.getCoords())}isOnScreen(){if(!this.canvas)return!1;const{tl:e,br:t}=this.canvas.vptCoords;return!!this.getCoords().some(r=>r.x<=t.x&&r.x>=e.x&&r.y<=t.y&&r.y>=e.y)||!!this.intersectsWithRect(e,t)||this.containsPoint(e.midPointFrom(t))}isPartiallyOnScreen(){if(!this.canvas)return!1;const{tl:e,br:t}=this.canvas.vptCoords;return this.intersectsWithRect(e,t)?!0:this.getCoords().every(r=>(r.x>=t.x||r.x<=e.x)&&(r.y>=t.y||r.y<=e.y))&&this.containsPoint(e.midPointFrom(t))}getBoundingRect(){return qn(this.getCoords())}getScaledWidth(){return this._getTransformedDimensions().x}getScaledHeight(){return this._getTransformedDimensions().y}scale(e){this._set(qt,e),this._set(gn,e),this.setCoords()}scaleToWidth(e){const t=this.getBoundingRect().width/this.getScaledWidth();return this.scale(e/this.width/t)}scaleToHeight(e){const t=this.getBoundingRect().height/this.getScaledHeight();return this.scale(e/this.height/t)}getCanvasRetinaScaling(){var e;return((e=this.canvas)===null||e===void 0?void 0:e.getRetinaScaling())||1}getTotalAngle(){return this.group?us(xv(this.calcTransformMatrix())):this.angle}getViewportTransform(){var e;return((e=this.canvas)===null||e===void 0?void 0:e.viewportTransform)||Bt.concat()}calcACoords(){const e=No({angle:this.angle}),{x:t,y:r}=this.getRelativeCenterPoint(),s=Bo(t,r),i=mt(s,e),o=this._getTransformedDimensions(),a=o.x/2,l=o.y/2;return{tl:Vt({x:-a,y:-l},i),tr:Vt({x:a,y:-l},i),bl:Vt({x:-a,y:l},i),br:Vt({x:a,y:l},i)}}setCoords(){this.aCoords=this.calcACoords()}transformMatrixKey(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],t=[];return!e&&this.group&&(t=this.group.transformMatrixKey(e)),t.push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,rt(this.originX),rt(this.originY)),t}calcTransformMatrix(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],t=this.calcOwnMatrix();if(e||!this.group)return t;const r=this.transformMatrixKey(e),s=this.matrixCache;return s&&s.key.every((i,o)=>i===r[o])?s.value:(this.group&&(t=mt(this.group.calcTransformMatrix(!1),t)),this.matrixCache={key:r,value:t},t)}calcOwnMatrix(){const e=this.transformMatrixKey(!0),t=this.ownMatrixCache;if(t&&t.key===e)return t.value;const r=this.getRelativeCenterPoint(),s={angle:this.angle,translateX:r.x,translateY:r.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},i=AT(s);return this.ownMatrixCache={key:e,value:i},i}_getNonTransformedDimensions(){return new V(this.width,this.height).scalarAdd(this.strokeWidth)}_calculateCurrentDimensions(e){return this._getTransformedDimensions(e).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}_getTransformedDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=F({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},e),r=t.strokeWidth;let s=r,i=0;this.strokeUniform&&(s=0,i=r);const o=t.width+s,a=t.height+s;let l;return l=t.skewX===0&&t.skewY===0?new V(o*t.scaleX,a*t.scaleY):Th(o,a,Nl(t)),l.scalarAdd(i)}translateToGivenOrigin(e,t,r,s,i){let o=e.x,a=e.y;const l=rt(s)-rt(t),u=rt(i)-rt(r);if(l||u){const c=this._getTransformedDimensions();o+=l*c.x,a+=u*c.y}return new V(o,a)}translateToCenterPoint(e,t,r){if(t===Ce&&r===Ce)return e;const s=this.translateToGivenOrigin(e,t,r,Ce,Ce);return this.angle?s.rotate(tt(this.angle),e):s}translateToOriginPoint(e,t,r){const s=this.translateToGivenOrigin(e,Ce,Ce,t,r);return this.angle?s.rotate(tt(this.angle),e):s}getCenterPoint(){const e=this.getRelativeCenterPoint();return this.group?Vt(e,this.group.calcTransformMatrix()):e}getRelativeCenterPoint(){return this.translateToCenterPoint(new V(this.left,this.top),this.originX,this.originY)}getPointByOrigin(e,t){return this.translateToOriginPoint(this.getRelativeCenterPoint(),e,t)}setPositionByOrigin(e,t,r){const s=this.translateToCenterPoint(e,t,r),i=this.translateToOriginPoint(s,this.originX,this.originY);this.set({left:i.x,top:i.y})}_getLeftTopCoords(){return this.translateToOriginPoint(this.getRelativeCenterPoint(),Le,zt)}}const iO=["type"],oO=["extraParam"];let Hn=class Ta extends sO{static getDefaults(){return Ta.ownDefaults}get type(){const e=this.constructor.type;return e==="FabricObject"?"object":e.toLowerCase()}set type(e){Ar("warn","Setting type has no effect",e)}constructor(e){super(),P(this,"_cacheContext",null),Object.assign(this,Ta.ownDefaults),this.setOptions(e)}_createCacheCanvas(){this._cacheCanvas=ht(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0}_limitCacheSize(e){const t=e.width,r=e.height,s=Pe.maxCacheSideLimit,i=Pe.minCacheSideLimit;if(t<=s&&r<=s&&t*r<=Pe.perfLimitSizeTotal)return t<i&&(e.width=i),r<i&&(e.height=i),e;const o=t/r,[a,l]=io.limitDimsByArea(o),u=qs(i,a,s),c=qs(i,l,s);return t>u&&(e.zoomX/=t/u,e.width=u,e.capped=!0),r>c&&(e.zoomY/=r/c,e.height=c,e.capped=!0),e}_getCacheCanvasDimensions(){const e=this.getTotalObjectScaling(),t=this._getTransformedDimensions({skewX:0,skewY:0}),r=t.x*e.x/this.scaleX,s=t.y*e.y/this.scaleY;return{width:r+2,height:s+2,zoomX:e.x,zoomY:e.y,x:r,y:s}}_updateCacheCanvas(){const e=this._cacheCanvas,t=this._cacheContext,r=this._limitCacheSize(this._getCacheCanvasDimensions()),s=Pe.minCacheSideLimit,i=r.width,o=r.height,a=r.zoomX,l=r.zoomY,u=i!==e.width||o!==e.height,c=this.zoomX!==a||this.zoomY!==l;if(!e||!t)return!1;let h,d,f=u||c,p=0,m=0,b=!1;if(u){const _=this._cacheCanvas.width,S=this._cacheCanvas.height,y=i>_||o>S;b=y||(i<.9*_||o<.9*S)&&_>s&&S>s,y&&!r.capped&&(i>s||o>s)&&(p=.1*i,m=.1*o)}return Ev(this)&&this.path&&(f=!0,b=!0,p+=this.getHeightOfLine(0)*this.zoomX,m+=this.getHeightOfLine(0)*this.zoomY),!!f&&(b?(e.width=Math.ceil(i+p),e.height=Math.ceil(o+m)):(t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height)),h=r.x/2,d=r.y/2,this.cacheTranslationX=Math.round(e.width/2-h)+h,this.cacheTranslationY=Math.round(e.height/2-d)+d,t.translate(this.cacheTranslationX,this.cacheTranslationY),t.scale(a,l),this.zoomX=a,this.zoomY=l,!0)}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setOptions(e)}transform(e){const t=this.group&&!this.group._transformDone||this.group&&this.canvas&&e===this.canvas.contextTop,r=this.calcTransformMatrix(!t);e.transform(r[0],r[1],r[2],r[3],r[4],r[5])}getObjectScaling(){if(!this.group)return new V(Math.abs(this.scaleX),Math.abs(this.scaleY));const e=nl(this.calcTransformMatrix());return new V(Math.abs(e.scaleX),Math.abs(e.scaleY))}getTotalObjectScaling(){const e=this.getObjectScaling();if(this.canvas){const t=this.canvas.getZoom(),r=this.getCanvasRetinaScaling();return e.scalarMultiply(t*r)}return e}getObjectOpacity(){let e=this.opacity;return this.group&&(e*=this.group.getObjectOpacity()),e}_constrainScale(e){return Math.abs(e)<this.minScaleLimit?e<0?-this.minScaleLimit:this.minScaleLimit:e===0?1e-4:e}_set(e,t){e!==qt&&e!==gn||(t=this._constrainScale(t)),e===qt&&t<0?(this.flipX=!this.flipX,t*=-1):e==="scaleY"&&t<0?(this.flipY=!this.flipY,t*=-1):e!=="shadow"||!t||t instanceof Jn||(t=new Jn(t));const r=this[e]!==t;return this[e]=t,r&&this.constructor.cacheProperties.includes(e)&&(this.dirty=!0),this.parent&&(this.dirty||r&&this.constructor.stateProperties.includes(e))&&this.parent._set("dirty",!0),this}isNotVisible(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible}render(e){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(e.save(),this._setupCompositeOperation(e),this.drawSelectionBackground(e),this.transform(e),this._setOpacity(e),this._setShadow(e),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(e)):(this._removeCacheCanvas(),this.drawObject(e),this.dirty=!1),e.restore())}drawSelectionBackground(e){}renderCache(e){e=e||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext&&(this.drawObject(this._cacheContext,e.forClipping),this.dirty=!1)}_removeCacheCanvas(){this._cacheCanvas=void 0,this._cacheContext=null}hasStroke(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0}hasFill(){return this.fill&&this.fill!=="transparent"}needsItsOwnCache(){return!!(this.paintFirst===Gt&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}shouldCache(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.parent||!this.parent.isOnACache()),this.ownCaching}willDrawShadow(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)}drawClipPathOnCache(e,t){if(e.save(),t.inverted?e.globalCompositeOperation="destination-out":e.globalCompositeOperation="destination-in",t.absolutePositioned){const r=wn(this.calcTransformMatrix());e.transform(r[0],r[1],r[2],r[3],r[4],r[5])}t.transform(e),e.scale(1/t.zoomX,1/t.zoomY),e.drawImage(t._cacheCanvas,-t.cacheTranslationX,-t.cacheTranslationY),e.restore()}drawObject(e,t){const r=this.fill,s=this.stroke;t?(this.fill="black",this.stroke="",this._setClippingProperties(e)):this._renderBackground(e),this._render(e),this._drawClipPath(e,this.clipPath),this.fill=r,this.stroke=s}_drawClipPath(e,t){t&&(t._set("canvas",this.canvas),t.shouldCache(),t._transformDone=!0,t.renderCache({forClipping:!0}),this.drawClipPathOnCache(e,t))}drawCacheOnCanvas(e){e.scale(1/this.zoomX,1/this.zoomY),e.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}isCacheDirty(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.isNotVisible())return!1;const t=this._cacheCanvas,r=this._cacheContext;return!(!t||!r||e||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(t&&r&&!e&&(r.save(),r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,t.width,t.height),r.restore()),!0)}_renderBackground(e){if(!this.backgroundColor)return;const t=this._getNonTransformedDimensions();e.fillStyle=this.backgroundColor,e.fillRect(-t.x/2,-t.y/2,t.x,t.y),this._removeShadow(e)}_setOpacity(e){this.group&&!this.group._transformDone?e.globalAlpha=this.getObjectOpacity():e.globalAlpha*=this.opacity}_setStrokeStyles(e,t){const r=t.stroke;r&&(e.lineWidth=t.strokeWidth,e.lineCap=t.strokeLineCap,e.lineDashOffset=t.strokeDashOffset,e.lineJoin=t.strokeLineJoin,e.miterLimit=t.strokeMiterLimit,dn(r)?r.gradientUnits==="percentage"||r.gradientTransform||r.patternTransform?this._applyPatternForTransformedGradient(e,r):(e.strokeStyle=r.toLive(e),this._applyPatternGradientTransform(e,r)):e.strokeStyle=t.stroke)}_setFillStyles(e,t){let{fill:r}=t;r&&(dn(r)?(e.fillStyle=r.toLive(e),this._applyPatternGradientTransform(e,r)):e.fillStyle=r)}_setClippingProperties(e){e.globalAlpha=1,e.strokeStyle="transparent",e.fillStyle="#000000"}_setLineDash(e,t){t&&t.length!==0&&(1&t.length&&t.push(...t),e.setLineDash(t))}_setShadow(e){if(!this.shadow)return;const t=this.shadow,r=this.canvas,s=this.getCanvasRetinaScaling(),[i,,,o]=(r==null?void 0:r.viewportTransform)||Bt,a=i*s,l=o*s,u=t.nonScaling?new V(1,1):this.getObjectScaling();e.shadowColor=t.color,e.shadowBlur=t.blur*Pe.browserShadowBlurConstant*(a+l)*(u.x+u.y)/4,e.shadowOffsetX=t.offsetX*a*u.x,e.shadowOffsetY=t.offsetY*l*u.y}_removeShadow(e){this.shadow&&(e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0)}_applyPatternGradientTransform(e,t){if(!dn(t))return{offsetX:0,offsetY:0};const r=t.gradientTransform||t.patternTransform,s=-this.width/2+t.offsetX||0,i=-this.height/2+t.offsetY||0;return t.gradientUnits==="percentage"?e.transform(this.width,0,0,this.height,s,i):e.transform(1,0,0,1,s,i),r&&e.transform(r[0],r[1],r[2],r[3],r[4],r[5]),{offsetX:s,offsetY:i}}_renderPaintInOrder(e){this.paintFirst===Gt?(this._renderStroke(e),this._renderFill(e)):(this._renderFill(e),this._renderStroke(e))}_render(e){}_renderFill(e){this.fill&&(e.save(),this._setFillStyles(e,this),this.fillRule==="evenodd"?e.fill("evenodd"):e.fill(),e.restore())}_renderStroke(e){if(this.stroke&&this.strokeWidth!==0){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this.strokeUniform){const t=this.getObjectScaling();e.scale(1/t.x,1/t.y)}this._setLineDash(e,this.strokeDashArray),this._setStrokeStyles(e,this),e.stroke(),e.restore()}}_applyPatternForTransformedGradient(e,t){var r;const s=this._limitCacheSize(this._getCacheCanvasDimensions()),i=ht(),o=this.getCanvasRetinaScaling(),a=s.x/this.scaleX/o,l=s.y/this.scaleY/o;i.width=Math.ceil(a),i.height=Math.ceil(l);const u=i.getContext("2d");u&&(u.beginPath(),u.moveTo(0,0),u.lineTo(a,0),u.lineTo(a,l),u.lineTo(0,l),u.closePath(),u.translate(a/2,l/2),u.scale(s.zoomX/this.scaleX/o,s.zoomY/this.scaleY/o),this._applyPatternGradientTransform(u,t),u.fillStyle=t.toLive(e),u.fill(),e.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),e.scale(o*this.scaleX/s.zoomX,o*this.scaleY/s.zoomY),e.strokeStyle=(r=u.createPattern(i,"no-repeat"))!==null&&r!==void 0?r:"")}_findCenterFromElement(){return new V(this.left+this.width/2,this.top+this.height/2)}clone(e){const t=this.toObject(e);return this.constructor.fromObject(t)}cloneAsImage(e){const t=this.toCanvasElement(e);return new(oe.getClass("image"))(t)}toCanvasElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=Mv(this),r=this.group,s=this.shadow,i=Math.abs,o=e.enableRetinaScaling?mv():1,a=(e.multiplier||1)*o,l=e.canvasProvider||(S=>new Vo(S,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1}));delete this.group,e.withoutTransform&&jT(this),e.withoutShadow&&(this.shadow=null),e.viewportTransform&&BT(this,this.getViewportTransform()),this.setCoords();const u=ht(),c=this.getBoundingRect(),h=this.shadow,d=new V;if(h){const S=h.blur,y=h.nonScaling?new V(1,1):this.getObjectScaling();d.x=2*Math.round(i(h.offsetX)+S)*i(y.x),d.y=2*Math.round(i(h.offsetY)+S)*i(y.y)}const f=c.width+d.x,p=c.height+d.y;u.width=Math.ceil(f),u.height=Math.ceil(p);const m=l(u);e.format==="jpeg"&&(m.backgroundColor="#fff"),this.setPositionByOrigin(new V(m.width/2,m.height/2),Ce,Ce);const b=this.canvas;m._objects=[this],this.set("canvas",m),this.setCoords();const _=m.toCanvasElement(a||1,e);return this.set("canvas",b),this.shadow=s,r&&(this.group=r),this.set(t),this.setCoords(),m._objects=[],m.destroy(),_}toDataURL(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Sv(this.toCanvasElement(e),e.format||"png",e.quality||1)}isType(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.includes(this.constructor.type)||t.includes(this.type)}complexity(){return 1}toJSON(){return this.toObject()}rotate(e){const{centeredRotation:t,originX:r,originY:s}=this;if(t){const{x:i,y:o}=this.getRelativeCenterPoint();this.originX=Ce,this.originY=Ce,this.left=i,this.top=o}if(this.set("angle",e),t){const{x:i,y:o}=this.translateToOriginPoint(this.getRelativeCenterPoint(),r,s);this.left=i,this.top=o,this.originX=r,this.originY=s}}setOnGroup(){}_setupCompositeOperation(e){this.globalCompositeOperation&&(e.globalCompositeOperation=this.globalCompositeOperation)}dispose(){tl.cancelByTarget(this),this.off(),this._set("canvas",void 0),this._cacheCanvas&&In().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}animate(e,t){return Object.entries(e).reduce((r,s)=>{let[i,o]=s;return r[i]=this._animate(i,o,t),r},{})}_animate(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=e.split("."),i=this.constructor.colorProperties.includes(s[s.length-1]),{abort:o,startValue:a,onChange:l,onComplete:u}=r,c=F(F({},r),{},{target:this,startValue:a??s.reduce((h,d)=>h[d],this),endValue:t,abort:o==null?void 0:o.bind(this),onChange:(h,d,f)=>{s.reduce((p,m,b)=>(b===s.length-1&&(p[m]=h),p[m]),this),l&&l(h,d,f)},onComplete:(h,d,f)=>{this.setCoords(),u&&u(h,d,f)}});return i?rO(c):Hv(c)}isDescendantOf(e){const{parent:t,group:r}=this;return t===e||r===e||!!t&&t.isDescendantOf(e)||!!r&&r!==t&&r.isDescendantOf(e)}getAncestors(){const e=[];let t=this;do t=t.parent,t&&e.push(t);while(t);return e}findCommonAncestors(e){if(this===e)return{fork:[],otherFork:[],common:[this,...this.getAncestors()]};const t=this.getAncestors(),r=e.getAncestors();if(t.length===0&&r.length>0&&this===r[r.length-1])return{fork:[],otherFork:[e,...r.slice(0,r.length-1)],common:[this]};for(let s,i=0;i<t.length;i++){if(s=t[i],s===e)return{fork:[this,...t.slice(0,i)],otherFork:[],common:t.slice(i)};for(let o=0;o<r.length;o++){if(this===r[o])return{fork:[],otherFork:[e,...r.slice(0,o)],common:[this,...t]};if(s===r[o])return{fork:[this,...t.slice(0,i)],otherFork:[e,...r.slice(0,o)],common:t.slice(i)}}}return{fork:[this,...t],otherFork:[e,...r],common:[]}}hasCommonAncestors(e){const t=this.findCommonAncestors(e);return t&&!!t.common.length}isInFrontOf(e){if(this===e)return;const t=this.findCommonAncestors(e);if(t.fork.includes(e))return!0;if(t.otherFork.includes(this))return!1;const r=t.common[0]||this.canvas;if(!r)return;const s=t.fork.pop(),i=t.otherFork.pop(),o=r._objects.indexOf(s),a=r._objects.indexOf(i);return o>-1&&o>a}toObject(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).concat(Ta.customProperties,this.constructor.customProperties||[]);let t;const r=Pe.NUM_FRACTION_DIGITS,{clipPath:s,fill:i,stroke:o,shadow:a,strokeDashArray:l,left:u,top:c,originX:h,originY:d,width:f,height:p,strokeWidth:m,strokeLineCap:b,strokeDashOffset:_,strokeLineJoin:S,strokeUniform:y,strokeMiterLimit:x,scaleX:w,scaleY:R,angle:A,flipX:D,flipY:M,opacity:j,visible:W,backgroundColor:C,fillRule:E,paintFirst:B,globalCompositeOperation:K,skewX:I,skewY:G}=this;s&&!s.excludeFromExport&&(t=s.toObject(e.concat("inverted","absolutePositioned")));const $=de=>Je(de,r),se=F(F({},oi(this,e)),{},{type:this.constructor.type,version:Ks,originX:h,originY:d,left:$(u),top:$(c),width:$(f),height:$(p),fill:Of(i)?i.toObject():i,stroke:Of(o)?o.toObject():o,strokeWidth:$(m),strokeDashArray:l&&l.concat(),strokeLineCap:b,strokeDashOffset:_,strokeLineJoin:S,strokeUniform:y,strokeMiterLimit:$(x),scaleX:$(w),scaleY:$(R),angle:$(A),flipX:D,flipY:M,opacity:$(j),shadow:a&&a.toObject(),visible:W,backgroundColor:C,fillRule:E,paintFirst:B,globalCompositeOperation:K,skewX:$(I),skewY:$(G)},t?{clipPath:t}:null);return this.includeDefaultValues?se:this._removeDefaultValues(se)}toDatalessObject(e){return this.toObject(e)}_removeDefaultValues(e){const t=this.constructor.getDefaults(),r=Object.keys(t).length>0?t:Object.getPrototypeOf(this);return Ch(e,(s,i)=>{if(i===Le||i===zt||i==="type")return!0;const o=r[i];return s!==o&&!(Array.isArray(s)&&Array.isArray(o)&&s.length===0&&o.length===0)})}toString(){return"#<".concat(this.constructor.type,">")}static _fromObject(e){let t=Ke(e,iO),r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{extraParam:s}=r,i=Ke(r,oO);return Vl(t,i).then(o=>s?(delete o[s],new this(t[s],o)):new this(o))}static fromObject(e,t){return this._fromObject(e,t)}};P(Hn,"stateProperties",XT),P(Hn,"cacheProperties",sr),P(Hn,"ownDefaults",GT),P(Hn,"type","FabricObject"),P(Hn,"colorProperties",[it,Gt,"backgroundColor"]),P(Hn,"customProperties",[]),oe.setClass(Hn),oe.setClass(Hn,"object");const ai=(n,e,t)=>(r,s,i,o)=>{const a=e(r,s,i,o);return a&&Rv(n,F(F({},Lv(r,s,i,o)),t)),a};function li(n){return(e,t,r,s)=>{const{target:i,originX:o,originY:a}=t,l=i.getRelativeCenterPoint(),u=i.translateToOriginPoint(l,o,a),c=n(e,t,r,s);return i.setPositionByOrigin(u,t.originX,t.originY),c}}const Lf=ai(xo,li((n,e,t,r)=>{const s=Oh(e,e.originX,e.originY,t,r);if(rt(e.originX)===rt(Ce)||rt(e.originX)===rt(et)&&s.x<0||rt(e.originX)===rt(Le)&&s.x>0){const{target:i}=e,o=i.strokeWidth/(i.strokeUniform?i.scaleX:1),a=Fv(e)?2:1,l=i.width,u=Math.ceil(Math.abs(s.x*a/i.scaleX)-o);return i.set("width",Math.max(u,0)),l!==i.width}return!1}));function aO(n,e,t,r,s){r=r||{};const i=this.sizeX||r.cornerSize||s.cornerSize,o=this.sizeY||r.cornerSize||s.cornerSize,a=r.transparentCorners!==void 0?r.transparentCorners:s.transparentCorners,l=a?Gt:it,u=!a&&(r.cornerStrokeColor||s.cornerStrokeColor);let c,h=e,d=t;n.save(),n.fillStyle=r.cornerColor||s.cornerColor||"",n.strokeStyle=r.cornerStrokeColor||s.cornerStrokeColor||"",i>o?(c=i,n.scale(1,o/i),d=t*i/o):o>i?(c=o,n.scale(i/o,1),h=e*o/i):c=i,n.lineWidth=1,n.beginPath(),n.arc(h,d,c/2,0,Za,!1),n[l](),u&&n.stroke(),n.restore()}function lO(n,e,t,r,s){r=r||{};const i=this.sizeX||r.cornerSize||s.cornerSize,o=this.sizeY||r.cornerSize||s.cornerSize,a=r.transparentCorners!==void 0?r.transparentCorners:s.transparentCorners,l=a?Gt:it,u=!a&&(r.cornerStrokeColor||s.cornerStrokeColor),c=i/2,h=o/2;n.save(),n.fillStyle=r.cornerColor||s.cornerColor||"",n.strokeStyle=r.cornerStrokeColor||s.cornerStrokeColor||"",n.lineWidth=1,n.translate(e,t);const d=s.getTotalAngle();n.rotate(tt(d)),n["".concat(l,"Rect")](-c,-h,i,o),u&&n.strokeRect(-c,-h,i,o),n.restore()}class vn{constructor(e){P(this,"visible",!0),P(this,"actionName",Bl),P(this,"angle",0),P(this,"x",0),P(this,"y",0),P(this,"offsetX",0),P(this,"offsetY",0),P(this,"sizeX",0),P(this,"sizeY",0),P(this,"touchSizeX",0),P(this,"touchSizeY",0),P(this,"cursorStyle","crosshair"),P(this,"withConnection",!1),Object.assign(this,e)}shouldActivate(e,t,r,s){var i;let{tl:o,tr:a,br:l,bl:u}=s;return((i=t.canvas)===null||i===void 0?void 0:i.getActiveObject())===t&&t.isControlVisible(e)&&qe.isPointInPolygon(r,[o,a,l,u])}getActionHandler(e,t,r){return this.actionHandler}getMouseDownHandler(e,t,r){return this.mouseDownHandler}getMouseUpHandler(e,t,r){return this.mouseUpHandler}cursorStyleHandler(e,t,r){return t.cursorStyle}getActionName(e,t,r){return t.actionName}getVisibility(e,t){var r,s;return(r=(s=e._controlsVisibility)===null||s===void 0?void 0:s[t])!==null&&r!==void 0?r:this.visible}setVisibility(e,t,r){this.visible=e}positionHandler(e,t,r,s){return new V(this.x*e.x+this.offsetX,this.y*e.y+this.offsetY).transform(t)}calcCornerCoords(e,t,r,s,i,o){const a=Sh([Bo(r,s),No({angle:e}),xh((i?this.touchSizeX:this.sizeX)||t,(i?this.touchSizeY:this.sizeY)||t)]);return{tl:new V(-.5,-.5).transform(a),tr:new V(.5,-.5).transform(a),br:new V(.5,.5).transform(a),bl:new V(-.5,.5).transform(a)}}render(e,t,r,s,i){((s=s||{}).cornerStyle||i.cornerStyle)==="circle"?aO.call(this,e,t,r,s,i):lO.call(this,e,t,r,s,i)}}const cO=(n,e,t)=>t.lockRotation?il:e.cursorStyle,uO=ai(yv,li((n,e,t,r)=>{let{target:s,ex:i,ey:o,theta:a,originX:l,originY:u}=e;const c=s.translateToOriginPoint(s.getRelativeCenterPoint(),l,u);if(Tn(s,"lockRotation"))return!1;const h=Math.atan2(o-c.y,i-c.x),d=Math.atan2(r-c.y,t-c.x);let f=us(d-h+a);if(s.snapAngle&&s.snapAngle>0){const m=s.snapAngle,b=s.snapThreshold||m,_=Math.ceil(f/m)*m,S=Math.floor(f/m)*m;Math.abs(f-S)<b?f=S:Math.abs(f-_)<b&&(f=_)}f<0&&(f=360+f),f%=360;const p=s.angle!==f;return s.angle=f,p}));function Uv(n,e){const t=e.canvas,r=n[t.uniScaleKey];return t.uniformScaling&&!r||!t.uniformScaling&&r}function Wv(n,e,t){const r=Tn(n,"lockScalingX"),s=Tn(n,"lockScalingY");if(r&&s||!e&&(r||s)&&t||r&&e==="x"||s&&e==="y")return!0;const{width:i,height:o,strokeWidth:a}=n;return i===0&&a===0&&e!=="y"||o===0&&a===0&&e!=="x"}const hO=["e","se","s","sw","w","nw","n","ne","e"],Oi=(n,e,t)=>{const r=Uv(n,t);if(Wv(t,e.x!==0&&e.y===0?"x":e.x===0&&e.y!==0?"y":"",r))return il;const s=jv(t,e);return"".concat(hO[s],"-resize")};function Ah(n,e,t,r){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i=e.target,o=s.by,a=Uv(n,i);let l,u,c,h,d,f;if(Wv(i,o,a))return!1;if(e.gestureScale)u=e.scaleX*e.gestureScale,c=e.scaleY*e.gestureScale;else{if(l=Oh(e,e.originX,e.originY,t,r),d=o!=="y"?Math.sign(l.x||e.signX||1):1,f=o!=="x"?Math.sign(l.y||e.signY||1):1,e.signX||(e.signX=d),e.signY||(e.signY=f),Tn(i,"lockScalingFlip")&&(e.signX!==d||e.signY!==f))return!1;if(h=i._getTransformedDimensions(),a&&!o){const b=Math.abs(l.x)+Math.abs(l.y),{original:_}=e,S=b/(Math.abs(h.x*_.scaleX/i.scaleX)+Math.abs(h.y*_.scaleY/i.scaleY));u=_.scaleX*S,c=_.scaleY*S}else u=Math.abs(l.x*i.scaleX/h.x),c=Math.abs(l.y*i.scaleY/h.y);Fv(e)&&(u*=2,c*=2),e.signX!==d&&o!=="y"&&(e.originX=Af(e.originX),u*=-1,e.signX=d),e.signY!==f&&o!=="x"&&(e.originY=Af(e.originY),c*=-1,e.signY=f)}const p=i.scaleX,m=i.scaleY;return o?(o==="x"&&i.set(qt,u),o==="y"&&i.set(gn,c)):(!Tn(i,"lockScalingX")&&i.set(qt,u),!Tn(i,"lockScalingY")&&i.set(gn,c)),p!==i.scaleX||m!==i.scaleY}const ia=ai(Il,li((n,e,t,r)=>Ah(n,e,t,r))),dO=ai(Il,li((n,e,t,r)=>Ah(n,e,t,r,{by:"x"}))),fO=ai(Il,li((n,e,t,r)=>Ah(n,e,t,r,{by:"y"}))),pO=["target","ex","ey","skewingSide"],Cc={x:{counterAxis:"y",scale:qt,skew:si,lockSkewing:"lockSkewingX",origin:"originX",flip:"flipX"},y:{counterAxis:"x",scale:gn,skew:ii,lockSkewing:"lockSkewingY",origin:"originY",flip:"flipY"}},gO=["ns","nesw","ew","nwse"],mO=(n,e,t)=>{if(e.x!==0&&Tn(t,"lockSkewingY")||e.y!==0&&Tn(t,"lockSkewingX"))return il;const r=jv(t,e)%4;return"".concat(gO[r],"-resize")};function $v(n,e,t,r,s){const{target:i}=t,{counterAxis:o,origin:a,lockSkewing:l,skew:u,flip:c}=Cc[n];if(Tn(i,l))return!1;const{origin:h,flip:d}=Cc[o],f=rt(t[h])*(i[d]?-1:1),p=-Math.sign(f)*(i[c]?-1:1),m=.5*-((i[u]===0&&Oh(t,Ce,Ce,r,s)[n]>0||i[u]>0?1:-1)*p)+.5;return ai(bv,li((_,S,y,x)=>function(w,R,A){let{target:D,ex:M,ey:j,skewingSide:W}=R,C=Ke(R,pO);const{skew:E}=Cc[w],B=A.subtract(new V(M,j)).divide(new V(D.scaleX,D.scaleY))[w],K=D[E],I=C[E],G=Math.tan(tt(I)),$=w==="y"?D._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:D._getTransformedDimensions({scaleX:1,scaleY:1}).y,se=2*B*W/Math.max($,1)+G,de=us(Math.atan(se));D.set(E,de);const Te=K!==D[E];if(Te&&w==="y"){const{skewX:ke,scaleX:Ge}=D,Ve=D._getTransformedDimensions({skewY:K}),pt=D._getTransformedDimensions(),je=ke!==0?Ve.x/pt.x:1;je!==1&&D.set(qt,je*Ge)}return Te}(n,S,new V(y,x))))(e,F(F({},t),{},{[a]:m,skewingSide:p}),r,s)}const vO=(n,e,t,r)=>$v("x",n,e,t,r),yO=(n,e,t,r)=>$v("y",n,e,t,r);function Wl(n,e){return n[e.canvas.altActionKey]}const oa=(n,e,t)=>{const r=Wl(n,t);return e.x===0?r?si:gn:e.y===0?r?ii:qt:""},Ps=(n,e,t)=>Wl(n,t)?mO(0,e,t):Oi(n,e,t),jf=(n,e,t,r)=>Wl(n,e.target)?yO(n,e,t,r):dO(n,e,t,r),If=(n,e,t,r)=>Wl(n,e.target)?vO(n,e,t,r):fO(n,e,t,r),zv=()=>({ml:new vn({x:-.5,y:0,cursorStyleHandler:Ps,actionHandler:jf,getActionName:oa}),mr:new vn({x:.5,y:0,cursorStyleHandler:Ps,actionHandler:jf,getActionName:oa}),mb:new vn({x:0,y:.5,cursorStyleHandler:Ps,actionHandler:If,getActionName:oa}),mt:new vn({x:0,y:-.5,cursorStyleHandler:Ps,actionHandler:If,getActionName:oa}),tl:new vn({x:-.5,y:-.5,cursorStyleHandler:Oi,actionHandler:ia}),tr:new vn({x:.5,y:-.5,cursorStyleHandler:Oi,actionHandler:ia}),bl:new vn({x:-.5,y:.5,cursorStyleHandler:Oi,actionHandler:ia}),br:new vn({x:.5,y:.5,cursorStyleHandler:Oi,actionHandler:ia}),mtr:new vn({x:0,y:-.5,actionHandler:uO,cursorStyleHandler:cO,offsetY:-40,withConnection:!0,actionName:_h})}),bO=()=>({mr:new vn({x:.5,y:0,actionHandler:Lf,cursorStyleHandler:Ps,actionName:xo}),ml:new vn({x:-.5,y:0,actionHandler:Lf,cursorStyleHandler:Ps,actionName:xo})}),_O=()=>F(F({},zv()),bO());class Oo extends Hn{static getDefaults(){return F(F({},super.getDefaults()),Oo.ownDefaults)}constructor(e){super(),Object.assign(this,this.constructor.createControls(),Oo.ownDefaults),this.setOptions(e)}static createControls(){return{controls:zv()}}_updateCacheCanvas(){const e=this.canvas;if(this.noScaleCache&&e&&e._currentTransform){const t=e._currentTransform,r=t.target,s=t.action;if(this===r&&s&&s.startsWith(Bl))return!1}return super._updateCacheCanvas()}getActiveControl(){const e=this.__corner;return e?{key:e,control:this.controls[e],coord:this.oCoords[e]}:void 0}findControl(e){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.hasControls||!this.canvas)return;this.__corner=void 0;const r=Object.entries(this.oCoords);for(let s=r.length-1;s>=0;s--){const[i,o]=r[s],a=this.controls[i];if(a.shouldActivate(i,this,e,t?o.touchCorner:o.corner))return this.__corner=i,{key:i,control:a,coord:this.oCoords[i]}}}calcOCoords(){const e=this.getViewportTransform(),t=this.getCenterPoint(),r=Bo(t.x,t.y),s=No({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),i=mt(r,s),o=mt(e,i),a=mt(o,[1/e[0],0,0,1/e[3],0,0]),l=this.group?nl(this.calcTransformMatrix()):void 0;l&&(l.scaleX=Math.abs(l.scaleX),l.scaleY=Math.abs(l.scaleY));const u=this._calculateCurrentDimensions(l),c={};return this.forEachControl((h,d)=>{const f=h.positionHandler(u,a,this,h);c[d]=Object.assign(f,this._calcCornerCoords(h,f))}),c}_calcCornerCoords(e,t){const r=this.getTotalAngle();return{corner:e.calcCornerCoords(r,this.cornerSize,t.x,t.y,!1,this),touchCorner:e.calcCornerCoords(r,this.touchCornerSize,t.x,t.y,!0,this)}}setCoords(){super.setCoords(),this.canvas&&(this.oCoords=this.calcOCoords())}forEachControl(e){for(const t in this.controls)e(this.controls[t],t,this)}drawSelectionBackground(e){if(!this.selectionBackgroundColor||this.canvas&&this.canvas._activeObject!==this)return;e.save();const t=this.getRelativeCenterPoint(),r=this._calculateCurrentDimensions(),s=this.getViewportTransform();e.translate(t.x,t.y),e.scale(1/s[0],1/s[3]),e.rotate(tt(this.angle)),e.fillStyle=this.selectionBackgroundColor,e.fillRect(-r.x/2,-r.y/2,r.x,r.y),e.restore()}strokeBorders(e,t){e.strokeRect(-t.x/2,-t.y/2,t.x,t.y)}_drawBorders(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=F({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},r);e.save(),e.strokeStyle=s.borderColor,this._setLineDash(e,s.borderDashArray),this.strokeBorders(e,t),s.hasControls&&this.drawControlsConnectingLines(e,t),e.restore()}_renderControls(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{hasBorders:r,hasControls:s}=this,i=F({hasBorders:r,hasControls:s},t),o=this.getViewportTransform(),a=i.hasBorders,l=i.hasControls,u=mt(o,this.calcTransformMatrix()),c=nl(u);e.save(),e.translate(c.translateX,c.translateY),e.lineWidth=1*this.borderScaleFactor,this.group===this.parent&&(e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(c.angle-=180),e.rotate(tt(this.group?c.angle:this.angle)),a&&this.drawBorders(e,c,t),l&&this.drawControls(e,t),e.restore()}drawBorders(e,t,r){let s;if(r&&r.forActiveSelection||this.group){const i=Th(this.width,this.height,Nl(t)),o=this.isStrokeAccountedForInDimensions()?wh:(this.strokeUniform?new V().scalarAdd(this.canvas?this.canvas.getZoom():1):new V(t.scaleX,t.scaleY)).scalarMultiply(this.strokeWidth);s=i.add(o).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else s=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(e,s,r)}drawControlsConnectingLines(e,t){let r=!1;e.beginPath(),this.forEachControl((s,i)=>{s.withConnection&&s.getVisibility(this,i)&&(r=!0,e.moveTo(s.x*t.x,s.y*t.y),e.lineTo(s.x*t.x+s.offsetX,s.y*t.y+s.offsetY))}),r&&e.stroke()}drawControls(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e.save();const r=this.getCanvasRetinaScaling(),{cornerStrokeColor:s,cornerDashArray:i,cornerColor:o}=this,a=F({cornerStrokeColor:s,cornerDashArray:i,cornerColor:o},t);e.setTransform(r,0,0,r,0,0),e.strokeStyle=e.fillStyle=a.cornerColor,this.transparentCorners||(e.strokeStyle=a.cornerStrokeColor),this._setLineDash(e,a.cornerDashArray),this.forEachControl((l,u)=>{if(l.getVisibility(this,u)){const c=this.oCoords[u];l.render(e,c.x,c.y,a,this)}}),e.restore()}isControlVisible(e){return this.controls[e]&&this.controls[e].getVisibility(this,e)}setControlVisible(e,t){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[e]=t}setControlsVisibility(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.entries(e).forEach(t=>{let[r,s]=t;return this.setControlVisible(r,s)})}clearContextTop(e){if(!this.canvas)return;const t=this.canvas.contextTop;if(!t)return;const r=this.canvas.viewportTransform;t.save(),t.transform(r[0],r[1],r[2],r[3],r[4],r[5]),this.transform(t);const s=this.width+4,i=this.height+4;return t.clearRect(-s/2,-i/2,s,i),e||t.restore(),t}onDeselect(e){return!1}onSelect(e){return!1}shouldStartDragging(e){return!1}onDragStart(e){return!1}canDrop(e){return!1}renderDragSourceEffect(e){}renderDropTargetEffect(e){}}function Xv(n,e){return e.forEach(t=>{Object.getOwnPropertyNames(t.prototype).forEach(r=>{r!=="constructor"&&Object.defineProperty(n.prototype,r,Object.getOwnPropertyDescriptor(t.prototype,r)||Object.create(null))})}),n}P(Oo,"ownDefaults",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:"rgb(178,204,255)",cornerStrokeColor:"",cornerStyle:"rect",cornerDashArray:null,hasControls:!0,borderColor:"rgb(178,204,255)",borderDashArray:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:"",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:"down",hoverCursor:null,moveCursor:null});class St extends Oo{}Xv(St,[Iv]),oe.setClass(St),oe.setClass(St,"object");const wO=(n,e,t,r)=>{const s=2*(r=Math.round(r))+1,{data:i}=n.getImageData(e-r,t-r,s,s);for(let o=3;o<i.length;o+=4)if(i[o]>0)return!1;return!0};class Gv{constructor(e){this.options=e,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new V(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new V(1/this.options.scaleX,1/this.options.scaleY):new V(1,1)}createSideVector(e,t){const r=pu(e,t);return this.options.strokeUniform?r.multiply(this.scale):r}projectOrthogonally(e,t,r){return this.applySkew(e.add(this.calcOrthogonalProjection(e,t,r)))}isSkewed(){return this.options.skewX!==0||this.options.skewY!==0}applySkew(e){const t=new V(e);return t.y+=t.x*Math.tan(tt(this.options.skewY)),t.x+=t.y*Math.tan(tt(this.options.skewX)),t}scaleUnitVector(e,t){return e.multiply(this.strokeUniformScalar).scalarMultiply(t)}}const SO=new V;class Us extends Gv{static getOrthogonalRotationFactor(e,t){const r=t?mu(e,t):$T(e);return Math.abs(r)<Io?-1:1}constructor(e,t,r,s){super(s),P(this,"AB",void 0),P(this,"AC",void 0),P(this,"alpha",void 0),P(this,"bisector",void 0),this.A=new V(e),this.B=new V(t),this.C=new V(r),this.AB=this.createSideVector(this.A,this.B),this.AC=this.createSideVector(this.A,this.C),this.alpha=mu(this.AB,this.AC),this.bisector=Eh(Nv(this.AB.eq(SO)?this.AC:this.AB,this.alpha/2))}calcOrthogonalProjection(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const s=this.createSideVector(e,t),i=Vv(s),o=Us.getOrthogonalRotationFactor(i,this.bisector);return this.scaleUnitVector(i,r*o)}projectBevel(){const e=[];return(this.alpha%Za==0?[this.B]:[this.B,this.C]).forEach(t=>{e.push(this.projectOrthogonally(this.A,t)),e.push(this.projectOrthogonally(this.A,t,-this.strokeProjectionMagnitude))}),e}projectMiter(){const e=[],t=Math.abs(this.alpha),r=1/Math.sin(t/2),s=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*r),i=this.options.strokeUniform?gu(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return gu(s)/this.strokeProjectionMagnitude<=i&&e.push(this.applySkew(this.A.add(s))),e.push(...this.projectBevel()),e}projectRoundNoSkew(e,t){const r=[],s=new V(Us.getOrthogonalRotationFactor(this.bisector),Us.getOrthogonalRotationFactor(new V(this.bisector.y,this.bisector.x)));return[new V(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(s),new V(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(s)].forEach(i=>{Mf(i,e,t)&&r.push(this.A.add(i))}),r}projectRoundWithSkew(e,t){const r=[],{skewX:s,skewY:i,scaleX:o,scaleY:a,strokeUniform:l}=this.options,u=new V(Math.tan(tt(s)),Math.tan(tt(i))),c=this.strokeProjectionMagnitude,h=l?c/a/Math.sqrt(1/a**2+1/o**2*u.y**2):c/Math.sqrt(1+u.y**2),d=new V(Math.sqrt(Math.max(c**2-h**2,0)),h),f=l?c/Math.sqrt(1+u.x**2*(1/a)**2/(1/o+1/o*u.x*u.y)**2):c/Math.sqrt(1+u.x**2/(1+u.x*u.y)**2),p=new V(f,Math.sqrt(Math.max(c**2-f**2,0)));return[p,p.scalarMultiply(-1),d,d.scalarMultiply(-1)].map(m=>this.applySkew(l?m.multiply(this.strokeUniformScalar):m)).forEach(m=>{Mf(m,e,t)&&r.push(this.applySkew(this.A).add(m))}),r}projectRound(){const e=[];e.push(...this.projectBevel());const t=this.alpha%Za==0,r=this.applySkew(this.A),s=e[t?0:2].subtract(r),i=e[t?1:0].subtract(r),o=t?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),a=oo(s,o)>0,l=a?s:i,u=a?i:s;return this.isSkewed()?e.push(...this.projectRoundWithSkew(l,u)):e.push(...this.projectRoundNoSkew(l,u)),e}projectPoints(){switch(this.options.strokeLineJoin){case"miter":return this.projectMiter();case"round":return this.projectRound();default:return this.projectBevel()}}project(){return this.projectPoints().map(e=>({originPoint:this.A,projectedPoint:e,angle:this.alpha,bisector:this.bisector}))}}class Bf extends Gv{constructor(e,t,r){super(r),this.A=new V(e),this.T=new V(t)}calcOrthogonalProjection(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const s=this.createSideVector(e,t);return this.scaleUnitVector(Vv(s),r)}projectButt(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}projectRound(){const e=[];if(!this.isSkewed()&&this.A.eq(this.T)){const t=new V(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);e.push(this.applySkew(this.A.add(t)),this.applySkew(this.A.subtract(t)))}else e.push(...new Us(this.A,this.T,this.T,this.options).projectRound());return e}projectSquare(){const e=[];if(this.A.eq(this.T)){const t=new V(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);e.push(this.A.add(t),this.A.subtract(t))}else{const t=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),r=this.scaleUnitVector(Eh(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),s=this.A.add(r);e.push(s.add(t),s.subtract(t))}return e.map(t=>this.applySkew(t))}projectPoints(){switch(this.options.strokeLineCap){case"round":return this.projectRound();case"square":return this.projectSquare();default:return this.projectButt()}}project(){return this.projectPoints().map(e=>({originPoint:this.A,projectedPoint:e}))}}const xO=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const r=[];if(n.length===0)return r;const s=n.reduce((i,o)=>(i[i.length-1].eq(o)||i.push(new V(o)),i),[new V(n[0])]);if(s.length===1)t=!0;else if(!t){const i=s[0],o=((a,l)=>{for(let u=a.length-1;u>=0;u--)if(l(a[u],u,a))return u;return-1})(s,a=>!a.eq(i));s.splice(o+1)}return s.forEach((i,o,a)=>{let l,u;o===0?(u=a[1],l=t?i:a[a.length-1]):o===a.length-1?(l=a[o-1],u=t?i:a[0]):(l=a[o-1],u=a[o+1]),t&&a.length===1?r.push(...new Bf(i,i,e).project()):!t||o!==0&&o!==a.length-1?r.push(...new Us(i,l,u,e).project()):r.push(...new Bf(i,o===0?u:l,e).project())}),r},Dh=n=>{const e={};return Object.keys(n).forEach(t=>{e[t]={},Object.keys(n[t]).forEach(r=>{e[t][r]=F({},n[t][r])})}),e},CO=n=>n.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Ph=n=>{const e=[];for(let t,r=0;r<n.length;r++)(t=TO(n,r))!==!1&&e.push(t);return e},TO=(n,e)=>{const t=n.charCodeAt(e);if(isNaN(t))return"";if(t<55296||t>57343)return n.charAt(e);if(55296<=t&&t<=56319){if(n.length<=e+1)throw"High surrogate without following low surrogate";const s=n.charCodeAt(e+1);if(56320>s||s>57343)throw"High surrogate without following low surrogate";return n.charAt(e)+n.charAt(e+1)}if(e===0)throw"Low surrogate without preceding high surrogate";const r=n.charCodeAt(e-1);if(55296>r||r>56319)throw"Low surrogate without preceding high surrogate";return!1},Mh=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return n.fill!==e.fill||n.stroke!==e.stroke||n.strokeWidth!==e.strokeWidth||n.fontSize!==e.fontSize||n.fontFamily!==e.fontFamily||n.fontWeight!==e.fontWeight||n.fontStyle!==e.fontStyle||n.textBackgroundColor!==e.textBackgroundColor||n.deltaY!==e.deltaY||t&&(n.overline!==e.overline||n.underline!==e.underline||n.linethrough!==e.linethrough)},OO=(n,e)=>{const t=e.split(`
`),r=[];let s=-1,i={};n=Dh(n);for(let o=0;o<t.length;o++){const a=Ph(t[o]);if(n[o])for(let l=0;l<a.length;l++){s++;const u=n[o][l];u&&Object.keys(u).length>0&&(Mh(i,u,!0)?r.push({start:s,end:s+1,style:u}):r[r.length-1].end++),i=u||{}}else s+=a.length,i={}}return r},EO=(n,e)=>{if(!Array.isArray(n))return Dh(n);const t=e.split(bh),r={};let s=-1,i=0;for(let o=0;o<t.length;o++){const a=Ph(t[o]);for(let l=0;l<a.length;l++)s++,n[i]&&n[i].start<=s&&s<n[i].end&&(r[o]=r[o]||{},r[o][l]=F({},n[i].style),s===n[i].end-1&&i++)}return r},jr=["display","transform",it,"fill-opacity","fill-rule","opacity",Gt,"stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"];function Nf(n,e){const t=n.nodeName,r=n.getAttribute("class"),s=n.getAttribute("id"),i="(?![a-zA-Z\\-]+)";let o;if(o=new RegExp("^"+t,"i"),e=e.replace(o,""),s&&e.length&&(o=new RegExp("#"+s+i,"i"),e=e.replace(o,"")),r&&e.length){const a=r.split(" ");for(let l=a.length;l--;)o=new RegExp("\\."+a[l]+i,"i"),e=e.replace(o,"")}return e.length===0}function kO(n,e){let t=!0;const r=Nf(n,e.pop());return r&&e.length&&(t=function(s,i){let o,a=!0;for(;s.parentElement&&s.parentElement.nodeType===1&&i.length;)a&&(o=i.pop()),a=Nf(s=s.parentElement,o);return i.length===0}(n,e)),r&&t&&e.length===0}const AO=n=>{var e;return(e=UT[n])!==null&&e!==void 0?e:n},DO=new RegExp("(".concat(hs,")"),"gi"),PO=n=>n.replace(DO," $1 ").replace(/,/gi," ").replace(/\s+/gi," ");var Vf,Hf,Uf,Wf,$f,zf,Xf;const Lt="(".concat(hs,")"),MO=String.raw(Vf||(Vf=Lr(["(skewX)(",")"],["(skewX)\\(","\\)"])),Lt),RO=String.raw(Hf||(Hf=Lr(["(skewY)(",")"],["(skewY)\\(","\\)"])),Lt),FO=String.raw(Uf||(Uf=Lr(["(rotate)(","(?: "," ",")?)"],["(rotate)\\(","(?: "," ",")?\\)"])),Lt,Lt,Lt),LO=String.raw(Wf||(Wf=Lr(["(scale)(","(?: ",")?)"],["(scale)\\(","(?: ",")?\\)"])),Lt,Lt),jO=String.raw($f||($f=Lr(["(translate)(","(?: ",")?)"],["(translate)\\(","(?: ",")?\\)"])),Lt,Lt),IO=String.raw(zf||(zf=Lr(["(matrix)("," "," "," "," "," ",")"],["(matrix)\\("," "," "," "," "," ","\\)"])),Lt,Lt,Lt,Lt,Lt,Lt),Rh="(?:".concat(IO,"|").concat(jO,"|").concat(FO,"|").concat(LO,"|").concat(MO,"|").concat(RO,")"),BO="(?:".concat(Rh,"*)"),NO=String.raw(Xf||(Xf=Lr(["^s*(?:","?)s*$"],["^\\s*(?:","?)\\s*$"])),BO),VO=new RegExp(NO),HO=new RegExp(Rh),UO=new RegExp(Rh,"g");function vu(n){const e=[];if(!(n=PO(n).replace(/\s*([()])\s*/gi,"$1"))||n&&!VO.test(n))return[...Bt];for(const t of n.matchAll(UO)){const r=HO.exec(t[0]);if(!r)continue;let s=Bt;const i=r.filter(p=>!!p),[,o,...a]=i,[l,u,c,h,d,f]=a.map(p=>parseFloat(p));switch(o){case"translate":s=Bo(l,u);break;case _h:s=No({angle:l},{x:u,y:c});break;case Bl:s=xh(l,u);break;case si:s=Tv(l);break;case ii:s=Ov(l);break;case"matrix":s=[l,u,c,h,d,f]}e.push(s)}return Sh(e)}function WO(n,e,t,r){const s=Array.isArray(e);let i,o=e;if(n!==it&&n!==Gt||e!==Xt){if(n==="strokeUniform")return e==="non-scaling-stroke";if(n==="strokeDashArray")o=e===Xt?null:e.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(n==="transformMatrix")o=t&&t.transformMatrix?mt(t.transformMatrix,vu(e)):vu(e);else if(n==="visible")o=e!==Xt&&e!=="hidden",t&&t.visible===!1&&(o=!1);else if(n==="opacity")o=parseFloat(e),t&&t.opacity!==void 0&&(o*=t.opacity);else if(n==="textAnchor")o=e==="start"?Le:e==="end"?et:Ce;else if(n==="charSpacing")i=Vs(e,r)/r*1e3;else if(n==="paintFirst"){const a=e.indexOf(it),l=e.indexOf(Gt);o=it,(a>-1&&l>-1&&l<a||a===-1&&l>-1)&&(o=Gt)}else{if(n==="href"||n==="xlink:href"||n==="font"||n==="id")return e;if(n==="imageSmoothing")return e==="optimizeQuality";i=s?e.map(Vs):Vs(e,r)}}else o="";return!s&&isNaN(i)?o:i}function $O(n,e){const t=n.match(HT);if(!t)return;const r=t[1],s=t[3],i=t[4],o=t[5],a=t[6];r&&(e.fontStyle=r),s&&(e.fontWeight=isNaN(parseFloat(s))?s:parseFloat(s)),i&&(e.fontSize=Vs(i)),a&&(e.fontFamily=a),o&&(e.lineHeight=o==="normal"?1:o)}function zO(n,e){n.replace(/;\s*$/,"").split(";").forEach(t=>{if(!t)return;const[r,s]=t.split(":");e[r.trim().toLowerCase()]=s.trim()})}function XO(n){const e={},t=n.getAttribute("style");return t&&(typeof t=="string"?zO(t,e):function(r,s){Object.entries(r).forEach(i=>{let[o,a]=i;a!==void 0&&(s[o.toLowerCase()]=a)})}(t,e)),e}const GO={stroke:"strokeOpacity",fill:"fillOpacity"};function ir(n,e,t){if(!n)return{};let r,s={},i=yh;n.parentNode&&Pf.test(n.parentNode.nodeName)&&(s=ir(n.parentElement,e,t),s.fontSize&&(r=i=Vs(s.fontSize)));const o=F(F(F({},e.reduce((u,c)=>{const h=n.getAttribute(c);return h&&(u[c]=h),u},{})),function(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h={};for(const d in c)kO(u,d.split(" "))&&(h=F(F({},h),c[d]));return h}(n,t)),XO(n));o[Sc]&&n.setAttribute(Sc,o[Sc]),o[wc]&&(r=Vs(o[wc],i),o[wc]="".concat(r));const a={};for(const u in o){const c=AO(u),h=WO(c,o[u],s,r);a[c]=h}a&&a.font&&$O(a.font,a);const l=F(F({},s),a);return Pf.test(n.nodeName)?l:function(u){const c=St.getDefaults();return Object.entries(GO).forEach(h=>{let[d,f]=h;if(u[f]===void 0||u[d]==="")return;if(u[d]===void 0){if(!c[d])return;u[d]=c[d]}if(u[d].indexOf("url(")===0)return;const p=new Be(u[d]);u[d]=p.setAlpha(Je(p.getAlpha()*u[f],2)).toRgba()}),u}(l)}const YO=["left","top","width","height","visible"],Yv=["rx","ry"];class Pn extends St{static getDefaults(){return F(F({},super.getDefaults()),Pn.ownDefaults)}constructor(e){super(),Object.assign(this,Pn.ownDefaults),this.setOptions(e),this._initRxRy()}_initRxRy(){const{rx:e,ry:t}=this;e&&!t?this.ry=e:t&&!e&&(this.rx=t)}_render(e){const{width:t,height:r}=this,s=-t/2,i=-r/2,o=this.rx?Math.min(this.rx,t/2):0,a=this.ry?Math.min(this.ry,r/2):0,l=o!==0||a!==0;e.beginPath(),e.moveTo(s+o,i),e.lineTo(s+t-o,i),l&&e.bezierCurveTo(s+t-ur*o,i,s+t,i+ur*a,s+t,i+a),e.lineTo(s+t,i+r-a),l&&e.bezierCurveTo(s+t,i+r-ur*a,s+t-ur*o,i+r,s+t-o,i+r),e.lineTo(s+o,i+r),l&&e.bezierCurveTo(s+ur*o,i+r,s,i+r-ur*a,s,i+r-a),e.lineTo(s,i+a),l&&e.bezierCurveTo(s,i+ur*a,s+ur*o,i,s+o,i),e.closePath(),this._renderPaintInOrder(e)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...Yv,...e])}_toSVG(){const{width:e,height:t,rx:r,ry:s}=this;return["<rect ","COMMON_PARTS",'x="'.concat(-e/2,'" y="').concat(-t/2,'" rx="').concat(r,'" ry="').concat(s,'" width="').concat(e,'" height="').concat(t,`" />
`)]}static async fromElement(e,t,r){const s=ir(e,this.ATTRIBUTE_NAMES,r),{left:i=0,top:o=0,width:a=0,height:l=0,visible:u=!0}=s,c=Ke(s,YO);return new this(F(F(F({},t),c),{},{left:i,top:o,width:a,height:l,visible:!!(u&&a&&l)}))}}P(Pn,"type","Rect"),P(Pn,"cacheProperties",[...sr,...Yv]),P(Pn,"ownDefaults",{rx:0,ry:0}),P(Pn,"ATTRIBUTE_NAMES",[...jr,"x","y","rx","ry","width","height"]),oe.setClass(Pn),oe.setSVGClass(Pn);const Gn="initialization",ol="added",Fh="removed",al="imperative",Kv=(n,e)=>{const{strokeUniform:t,strokeWidth:r,width:s,height:i,group:o}=e,a=o&&o!==n?Hl(o.calcTransformMatrix(),n.calcTransformMatrix()):null,l=a?e.getRelativeCenterPoint().transform(a):e.getRelativeCenterPoint(),u=!e.isStrokeAccountedForInDimensions(),c=t&&u?IT(new V(r,r),void 0,n.calcTransformMatrix()):wh,h=!t&&u?r:0,d=Th(s+h,i+h,Sh([a,e.calcOwnMatrix()],!0)).add(c).scalarDivide(2);return[l.subtract(d),l.add(d)]};class $l{calcLayoutResult(e,t){if(this.shouldPerformLayout(e))return this.calcBoundingBox(t,e)}shouldPerformLayout(e){let{type:t,prevStrategy:r,strategy:s}=e;return t===Gn||t===al||!!r&&s!==r}shouldLayoutClipPath(e){let{type:t,target:{clipPath:r}}=e;return t!==Gn&&r&&!r.absolutePositioned}getInitialSize(e,t){return t.size}calcBoundingBox(e,t){const{type:r,target:s}=t;if(r===al&&t.overrides)return t.overrides;if(e.length===0)return;const{left:i,top:o,width:a,height:l}=qn(e.map(h=>Kv(s,h)).reduce((h,d)=>h.concat(d),[])),u=new V(a,l),c=new V(i,o).add(u.scalarDivide(2));if(r===Gn){const h=this.getInitialSize(t,{size:u,center:c});return{center:c,relativeCorrection:new V(0,0),size:h}}return{center:c.transform(s.calcOwnMatrix()),size:u}}}P($l,"type","strategy");class yu extends $l{shouldPerformLayout(e){return!0}}P(yu,"type","fit-content"),oe.setClass(yu);const KO=["strategy"],qO=["target","strategy","bubbles","prevStrategy"],qv="layoutManager";class Eo{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new yu;P(this,"strategy",void 0),this.strategy=e,this._subscriptions=new Map}performLayout(e){const t=F(F({bubbles:!0,strategy:this.strategy},e),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation(){this.bubbles=!1}});this.onBeforeLayout(t);const r=this.getLayoutResult(t);r&&this.commitLayout(t,r),this.onAfterLayout(t,r),this._prevLayoutStrategy=t.strategy}attachHandlers(e,t){const{target:r}=t;return[el,vv,xo,yv,Il,bv,Qa,ST,xT].map(s=>e.on(s,i=>this.performLayout(s===el?{type:"object_modified",trigger:s,e:i,target:r}:{type:"object_modifying",trigger:s,e:i,target:r})))}subscribe(e,t){this.unsubscribe(e,t);const r=this.attachHandlers(e,t);this._subscriptions.set(e,r)}unsubscribe(e,t){(this._subscriptions.get(e)||[]).forEach(r=>r()),this._subscriptions.delete(e)}unsubscribeTargets(e){e.targets.forEach(t=>this.unsubscribe(t,e))}subscribeTargets(e){e.targets.forEach(t=>this.subscribe(t,e))}onBeforeLayout(e){const{target:t,type:r}=e,{canvas:s}=t;if(r===Gn||r===ol?this.subscribeTargets(e):r===Fh&&this.unsubscribeTargets(e),t.fire("layout:before",{context:e}),s&&s.fire("object:layout:before",{target:t,context:e}),r===al&&e.deep){const i=Ke(e,KO);t.forEachObject(o=>o.layoutManager&&o.layoutManager.performLayout(F(F({},i),{},{bubbles:!1,target:o})))}}getLayoutResult(e){const{target:t,strategy:r,type:s}=e,i=r.calcLayoutResult(e,t.getObjects());if(!i)return;const o=s===Gn?new V:t.getRelativeCenterPoint(),{center:a,correction:l=new V,relativeCorrection:u=new V}=i,c=o.subtract(a).add(l).transform(s===Gn?Bt:wn(t.calcOwnMatrix()),!0).add(u);return{result:i,prevCenter:o,nextCenter:a,offset:c}}commitLayout(e,t){const{target:r}=e,{result:{size:s},nextCenter:i}=t;var o,a;r.set({width:s.x,height:s.y}),this.layoutObjects(e,t),e.type===Gn?r.set({left:(o=e.x)!==null&&o!==void 0?o:i.x+s.x*rt(r.originX),top:(a=e.y)!==null&&a!==void 0?a:i.y+s.y*rt(r.originY)}):(r.setPositionByOrigin(i,Ce,Ce),r.setCoords(),r.set("dirty",!0))}layoutObjects(e,t){const{target:r}=e;r.forEachObject(s=>{s.group===r&&this.layoutObject(e,t,s)}),e.strategy.shouldLayoutClipPath(e)&&this.layoutObject(e,t,r.clipPath)}layoutObject(e,t,r){let{offset:s}=t;r.set({left:r.left+s.x,top:r.top+s.y})}onAfterLayout(e,t){const{target:r,strategy:s,bubbles:i,prevStrategy:o}=e,a=Ke(e,qO),{canvas:l}=r;r.fire("layout:after",{context:e,result:t}),l&&l.fire("object:layout:after",{context:e,result:t,target:r});const u=r.parent;i&&u!=null&&u.layoutManager&&((a.path||(a.path=[])).push(r),u.layoutManager.performLayout(F(F({},a),{},{target:u}))),r.set("dirty",!0)}dispose(){const{_subscriptions:e}=this;e.forEach(t=>t.forEach(r=>r())),e.clear()}toObject(){return{type:qv,strategy:this.strategy.constructor.type}}toJSON(){return this.toObject()}}oe.setClass(Eo,qv);const JO=["type","objects","layoutManager"];class ZO extends Eo{performLayout(){}}class ss extends _v(St){static getDefaults(){return F(F({},super.getDefaults()),ss.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),P(this,"_activeObjects",[]),P(this,"__objectSelectionTracker",void 0),P(this,"__objectSelectionDisposer",void 0),Object.assign(this,ss.ownDefaults),this.setOptions(t),this.groupInit(e,t)}groupInit(e,t){var r;this._objects=[...e],this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject(s=>{this.enterGroup(s,!1)}),this.layoutManager=(r=t.layoutManager)!==null&&r!==void 0?r:new Eo,this.layoutManager.performLayout({type:Gn,target:this,targets:[...e],x:t.left,y:t.top})}canEnterGroup(e){return e===this||this.isDescendantOf(e)?(Ar("error","Group: circular object trees are not supported, this call has no effect"),!1):this._objects.indexOf(e)===-1||(Ar("error","Group: duplicate objects are not supported inside group, this call has no effect"),!1)}_filterObjectsBeforeEnteringGroup(e){return e.filter((t,r,s)=>this.canEnterGroup(t)&&s.indexOf(t)===r)}add(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const s=this._filterObjectsBeforeEnteringGroup(t),i=super.add(...s);return this._onAfterObjectsChange(ol,s),i}insertAt(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];const i=this._filterObjectsBeforeEnteringGroup(r),o=super.insertAt(e,...i);return this._onAfterObjectsChange(ol,i),o}remove(){const e=super.remove(...arguments);return this._onAfterObjectsChange(Fh,e),e}_onObjectAdded(e){this.enterGroup(e,!0),this.fire("object:added",{target:e}),e.fire("added",{target:this})}_onObjectRemoved(e,t){this.exitGroup(e,t),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}_onAfterObjectsChange(e,t){this.layoutManager.performLayout({type:e,targets:t,target:this})}_onStackOrderChanged(){this._set("dirty",!0)}_set(e,t){const r=this[e];return super._set(e,t),e==="canvas"&&r!==t&&(this._objects||[]).forEach(s=>{s._set(e,t)}),this}_shouldSetNestedCoords(){return this.subTargetCheck}removeAll(){return this._activeObjects=[],this.remove(...this._objects)}__objectSelectionMonitor(e,t){let{target:r}=t;const s=this._activeObjects;if(e)s.push(r),this._set("dirty",!0);else if(s.length>0){const i=s.indexOf(r);i>-1&&(s.splice(i,1),this._set("dirty",!0))}}_watchObject(e,t){e&&this._watchObject(!1,t),e?(t.on("selected",this.__objectSelectionTracker),t.on("deselected",this.__objectSelectionDisposer)):(t.off("selected",this.__objectSelectionTracker),t.off("deselected",this.__objectSelectionDisposer))}enterGroup(e,t){e.group&&e.group.remove(e),e._set("parent",this),this._enterGroup(e,t)}_enterGroup(e,t){t&&sl(e,mt(wn(this.calcTransformMatrix()),e.calcTransformMatrix())),this._shouldSetNestedCoords()&&e.setCoords(),e._set("group",this),e._set("canvas",this.canvas),this._watchObject(!0,e);const r=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();r&&(r===e||e.isDescendantOf(r))&&this._activeObjects.push(e)}exitGroup(e,t){this._exitGroup(e,t),e._set("parent",void 0),e._set("canvas",void 0)}_exitGroup(e,t){e._set("group",void 0),t||(sl(e,mt(this.calcTransformMatrix(),e.calcTransformMatrix())),e.setCoords()),this._watchObject(!1,e);const r=this._activeObjects.length>0?this._activeObjects.indexOf(e):-1;r>-1&&this._activeObjects.splice(r,1)}shouldCache(){const e=St.prototype.shouldCache.call(this);if(e){for(let t=0;t<this._objects.length;t++)if(this._objects[t].willDrawShadow())return this.ownCaching=!1,!1}return e}willDrawShadow(){if(super.willDrawShadow())return!0;for(let e=0;e<this._objects.length;e++)if(this._objects[e].willDrawShadow())return!0;return!1}isOnACache(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}drawObject(e){this._renderBackground(e);for(let r=0;r<this._objects.length;r++){var t;(t=this.canvas)!==null&&t!==void 0&&t.preserveObjectStacking&&this._objects[r].group!==this?(e.save(),e.transform(...wn(this.calcTransformMatrix())),this._objects[r].render(e),e.restore()):this._objects[r].group===this&&this._objects[r].render(e)}this._drawClipPath(e,this.clipPath)}setCoords(){super.setCoords(),this._shouldSetNestedCoords()&&this.forEachObject(e=>e.setCoords())}triggerLayout(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.layoutManager.performLayout(F({target:this,type:al},e))}render(e){this._transformDone=!0,super.render(e),this._transformDone=!1}__serializeObjects(e,t){const r=this.includeDefaultValues;return this._objects.filter(function(s){return!s.excludeFromExport}).map(function(s){const i=s.includeDefaultValues;s.includeDefaultValues=r;const o=s[e||"toObject"](t);return s.includeDefaultValues=i,o})}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=this.layoutManager.toObject();return F(F(F({},super.toObject(["subTargetCheck","interactive",...e])),t.strategy!=="fit-content"||this.includeDefaultValues?{layoutManager:t}:{}),{},{objects:this.__serializeObjects("toObject",e)})}toString(){return"#<Group: (".concat(this.complexity(),")>")}dispose(){this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject(e=>{this._watchObject(!1,e),e.dispose()}),super.dispose()}_createSVGBgRect(e){if(!this.backgroundColor)return"";const t=Pn.prototype._toSVG.call(this),r=t.indexOf("COMMON_PARTS");t[r]='for="group" ';const s=t.join("");return e?e(s):s}_toSVG(e){const t=["<g ","COMMON_PARTS",` >
`],r=this._createSVGBgRect(e);r&&t.push("		",r);for(let s=0;s<this._objects.length;s++)t.push("		",this._objects[s].toSVG(e));return t.push(`</g>
`),t}getSvgStyles(){const e=this.opacity!==void 0&&this.opacity!==1?"opacity: ".concat(this.opacity,";"):"",t=this.visible?"":" visibility: hidden;";return[e,this.getSvgFilter(),t].join("")}toClipPathSVG(e){const t=[],r=this._createSVGBgRect(e);r&&t.push("	",r);for(let s=0;s<this._objects.length;s++)t.push("	",this._objects[s].toClipPathSVG(e));return this._createBaseClipPathSVGMarkup(t,{reviver:e})}static fromObject(e,t){let{type:r,objects:s=[],layoutManager:i}=e,o=Ke(e,JO);return Promise.all([Co(s,t),Vl(o,t)]).then(a=>{let[l,u]=a;const c=new this(l,F(F(F({},o),u),{},{layoutManager:new ZO}));if(i){const h=oe.getClass(i.type),d=oe.getClass(i.strategy);c.layoutManager=new h(new d)}else c.layoutManager=new Eo;return c.layoutManager.subscribeTargets({type:Gn,target:c,targets:c.getObjects()}),c.setCoords(),c})}}P(ss,"type","Group"),P(ss,"ownDefaults",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),oe.setClass(ss);const QO=(n,e)=>Math.min(e.width/n.width,e.height/n.height),eE=(n,e)=>Math.max(e.width/n.width,e.height/n.height),bu="\\s*,?\\s*",wi="".concat(bu,"(").concat(hs,")"),tE="".concat(wi).concat(wi).concat(wi).concat(bu,"([01])").concat(bu,"([01])").concat(wi).concat(wi),nE={m:"l",M:"L"},rE=(n,e,t,r,s,i,o,a,l,u,c)=>{const h=er(n),d=tr(n),f=er(e),p=tr(e),m=t*s*f-r*i*p+o,b=r*s*f+t*i*p+a;return["C",u+l*(-t*s*d-r*i*h),c+l*(-r*s*d+t*i*h),m+l*(t*s*p+r*i*f),b+l*(r*s*p-t*i*f),m,b]},Gf=(n,e,t,r)=>{const s=Math.atan2(e,n),i=Math.atan2(r,t);return i>=s?i-s:2*Math.PI-(s-i)};function Yf(n,e,t,r,s,i,o,a){let l;if(Pe.cachesBoundsOfCurve&&(l=[...arguments].join(),io.boundsOfCurveCache[l]))return io.boundsOfCurveCache[l];const u=Math.sqrt,c=Math.abs,h=[],d=[[0,0],[0,0]];let f=6*n-12*t+6*s,p=-3*n+9*t-9*s+3*o,m=3*t-3*n;for(let x=0;x<2;++x){if(x>0&&(f=6*e-12*r+6*i,p=-3*e+9*r-9*i+3*a,m=3*r-3*e),c(p)<1e-12){if(c(f)<1e-12)continue;const M=-m/f;0<M&&M<1&&h.push(M);continue}const w=f*f-4*m*p;if(w<0)continue;const R=u(w),A=(-f+R)/(2*p);0<A&&A<1&&h.push(A);const D=(-f-R)/(2*p);0<D&&D<1&&h.push(D)}let b=h.length;const _=b,S=Jv(n,e,t,r,s,i,o,a);for(;b--;){const{x,y:w}=S(h[b]);d[0][b]=x,d[1][b]=w}d[0][_]=n,d[1][_]=e,d[0][_+1]=o,d[1][_+1]=a;const y=[new V(Math.min(...d[0]),Math.min(...d[1])),new V(Math.max(...d[0]),Math.max(...d[1]))];return Pe.cachesBoundsOfCurve&&(io.boundsOfCurveCache[l]=y),y}const sE=(n,e,t)=>{let[r,s,i,o,a,l,u,c]=t;const h=((d,f,p,m,b,_,S)=>{if(p===0||m===0)return[];let y=0,x=0,w=0;const R=Math.PI,A=S*vh,D=tr(A),M=er(A),j=.5*(-M*d-D*f),W=.5*(-M*f+D*d),C=p**2,E=m**2,B=W**2,K=j**2,I=C*E-C*B-E*K;let G=Math.abs(p),$=Math.abs(m);if(I<0){const q=Math.sqrt(1-I/(C*E));G*=q,$*=q}else w=(b===_?-1:1)*Math.sqrt(I/(C*B+E*K));const se=w*G*W/$,de=-w*$*j/G,Te=M*se-D*de+.5*d,ke=D*se+M*de+.5*f;let Ge=Gf(1,0,(j-se)/G,(W-de)/$),Ve=Gf((j-se)/G,(W-de)/$,(-j-se)/G,(-W-de)/$);_===0&&Ve>0?Ve-=2*R:_===1&&Ve<0&&(Ve+=2*R);const pt=Math.ceil(Math.abs(Ve/R*2)),je=[],U=Ve/pt,ie=8/3*Math.sin(U/4)*Math.sin(U/4)/Math.sin(U/2);let X=Ge+U;for(let q=0;q<pt;q++)je[q]=rE(Ge,X,M,D,G,$,Te,ke,ie,y,x),y=je[q][5],x=je[q][6],Ge=X,X+=U;return je})(u-n,c-e,s,i,a,l,o);for(let d=0,f=h.length;d<f;d++)h[d][1]+=n,h[d][2]+=e,h[d][3]+=n,h[d][4]+=e,h[d][5]+=n,h[d][6]+=e;return h},iE=n=>{let e=0,t=0,r=0,s=0;const i=[];let o,a=0,l=0;for(const u of n){const c=[...u];let h;switch(c[0]){case"l":c[1]+=e,c[2]+=t;case"L":e=c[1],t=c[2],h=["L",e,t];break;case"h":c[1]+=e;case"H":e=c[1],h=["L",e,t];break;case"v":c[1]+=t;case"V":t=c[1],h=["L",e,t];break;case"m":c[1]+=e,c[2]+=t;case"M":e=c[1],t=c[2],r=c[1],s=c[2],h=["M",e,t];break;case"c":c[1]+=e,c[2]+=t,c[3]+=e,c[4]+=t,c[5]+=e,c[6]+=t;case"C":a=c[3],l=c[4],e=c[5],t=c[6],h=["C",c[1],c[2],a,l,e,t];break;case"s":c[1]+=e,c[2]+=t,c[3]+=e,c[4]+=t;case"S":o==="C"?(a=2*e-a,l=2*t-l):(a=e,l=t),e=c[3],t=c[4],h=["C",a,l,c[1],c[2],e,t],a=h[3],l=h[4];break;case"q":c[1]+=e,c[2]+=t,c[3]+=e,c[4]+=t;case"Q":a=c[1],l=c[2],e=c[3],t=c[4],h=["Q",a,l,e,t];break;case"t":c[1]+=e,c[2]+=t;case"T":o==="Q"?(a=2*e-a,l=2*t-l):(a=e,l=t),e=c[1],t=c[2],h=["Q",a,l,e,t];break;case"a":c[6]+=e,c[7]+=t;case"A":sE(e,t,c).forEach(d=>i.push(d)),e=c[6],t=c[7];break;case"z":case"Z":e=r,t=s,h=["Z"]}h?(i.push(h),o=h[0]):o=""}return i},ll=(n,e,t,r)=>Math.sqrt((t-n)**2+(r-e)**2),Jv=(n,e,t,r,s,i,o,a)=>l=>{const u=l**3,c=(f=>3*f**2*(1-f))(l),h=(f=>3*f*(1-f)**2)(l),d=(f=>(1-f)**3)(l);return new V(o*u+s*c+t*h+n*d,a*u+i*c+r*h+e*d)},Zv=n=>n**2,Qv=n=>2*n*(1-n),ey=n=>(1-n)**2,oE=(n,e,t,r,s,i,o,a)=>l=>{const u=Zv(l),c=Qv(l),h=ey(l),d=3*(h*(t-n)+c*(s-t)+u*(o-s)),f=3*(h*(r-e)+c*(i-r)+u*(a-i));return Math.atan2(f,d)},aE=(n,e,t,r,s,i)=>o=>{const a=Zv(o),l=Qv(o),u=ey(o);return new V(s*a+t*l+n*u,i*a+r*l+e*u)},lE=(n,e,t,r,s,i)=>o=>{const a=1-o,l=2*(a*(t-n)+o*(s-t)),u=2*(a*(r-e)+o*(i-r));return Math.atan2(u,l)},Kf=(n,e,t)=>{let r=new V(e,t),s=0;for(let i=1;i<=100;i+=1){const o=n(i/100);s+=ll(r.x,r.y,o.x,o.y),r=o}return s},cE=(n,e)=>{let t,r=0,s=0,i={x:n.x,y:n.y},o=F({},i),a=.01,l=0;const u=n.iterator,c=n.angleFinder;for(;s<e&&a>1e-4;)o=u(r),l=r,t=ll(i.x,i.y,o.x,o.y),t+s>e?(r-=a,a/=2):(i=o,r+=a,s+=t);return F(F({},o),{},{angle:c(l)})},ty=n=>{let e,t,r=0,s=0,i=0,o=0,a=0;const l=[];for(const u of n){const c={x:s,y:i,command:u[0],length:0};switch(u[0]){case"M":t=c,t.x=o=s=u[1],t.y=a=i=u[2];break;case"L":t=c,t.length=ll(s,i,u[1],u[2]),s=u[1],i=u[2];break;case"C":e=Jv(s,i,u[1],u[2],u[3],u[4],u[5],u[6]),t=c,t.iterator=e,t.angleFinder=oE(s,i,u[1],u[2],u[3],u[4],u[5],u[6]),t.length=Kf(e,s,i),s=u[5],i=u[6];break;case"Q":e=aE(s,i,u[1],u[2],u[3],u[4]),t=c,t.iterator=e,t.angleFinder=lE(s,i,u[1],u[2],u[3],u[4]),t.length=Kf(e,s,i),s=u[3],i=u[4];break;case"Z":t=c,t.destX=o,t.destY=a,t.length=ll(s,i,o,a),s=o,i=a}r+=t.length,l.push(t)}return l.push({length:r,x:s,y:i}),l},uE=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ty(n),r=0;for(;e-t[r].length>0&&r<t.length-2;)e-=t[r].length,r++;const s=t[r],i=e/s.length,o=n[r];switch(s.command){case"M":return{x:s.x,y:s.y,angle:0};case"Z":return F(F({},new V(s.x,s.y).lerp(new V(s.destX,s.destY),i)),{},{angle:Math.atan2(s.destY-s.y,s.destX-s.x)});case"L":return F(F({},new V(s.x,s.y).lerp(new V(o[1],o[2]),i)),{},{angle:Math.atan2(o[2]-s.y,o[1]-s.x)});case"C":case"Q":return cE(s,e)}},hE=new RegExp("[mzlhvcsqta][^mzlhvcsqta]*","gi"),qf=new RegExp(tE,"g"),dE=new RegExp(hs,"gi"),fE={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},pE=n=>{var e;const t=[],r=(e=n.match(hE))!==null&&e!==void 0?e:[];for(const s of r){const i=s[0];if(i==="z"||i==="Z"){t.push([i]);continue}const o=fE[i.toLowerCase()];let a=[];if(i==="a"||i==="A"){qf.lastIndex=0;for(let l=null;l=qf.exec(s);)a.push(...l.slice(1))}else a=s.match(dE)||[];for(let l=0;l<a.length;l+=o){const u=new Array(o),c=nE[i];u[0]=l>0&&c?c:i;for(let h=0;h<o;h++)u[h+1]=parseFloat(a[l+h]);t.push(u)}}return t},gE=(n,e)=>n.map(t=>t.map((r,s)=>s===0||e===void 0?r:Je(r,e)).join(" ")).join(" ");function _u(n,e){const t=n.style;t&&e&&(typeof e=="string"?t.cssText+=";"+e:Object.entries(e).forEach(r=>{let[s,i]=r;return t.setProperty(s,i)}))}class mE extends Pv{constructor(e){let{allowTouchScrolling:t=!1,containerClass:r=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(e),P(this,"upper",void 0),P(this,"container",void 0);const{el:s}=this.lower,i=this.createUpperCanvas();this.upper={el:i,ctx:i.getContext("2d")},this.applyCanvasStyle(s,{allowTouchScrolling:t}),this.applyCanvasStyle(i,{allowTouchScrolling:t,styles:{position:"absolute",left:"0",top:"0"}});const o=this.createContainerElement();o.classList.add(r),s.parentNode&&s.parentNode.replaceChild(o,s),o.append(s,i),this.container=o}createUpperCanvas(){const{el:e}=this.lower,t=ht();return t.className=e.className,t.classList.remove("lower-canvas"),t.classList.add("upper-canvas"),t.setAttribute("data-fabric","top"),t.style.cssText=e.style.cssText,t.setAttribute("draggable","true"),t}createContainerElement(){const e=ri().createElement("div");return e.setAttribute("data-fabric","wrapper"),_u(e,{position:"relative"}),kf(e),e}applyCanvasStyle(e,t){const{styles:r,allowTouchScrolling:s}=t;_u(e,F(F({},r),{},{"touch-action":s?"manipulation":Xt})),kf(e)}setDimensions(e,t){super.setDimensions(e,t);const{el:r,ctx:s}=this.upper;Dv(r,s,e,t)}setCSSDimensions(e){super.setCSSDimensions(e),hu(this.upper.el,e),hu(this.container,e)}cleanupDOM(e){const t=this.container,{el:r}=this.lower,{el:s}=this.upper;super.cleanupDOM(e),t.removeChild(s),t.removeChild(r),t.parentNode&&t.parentNode.replaceChild(r,t)}dispose(){super.dispose(),In().dispose(this.upper.el),delete this.upper,delete this.container}}class zl extends Vo{constructor(){super(...arguments),P(this,"targets",[]),P(this,"_hoveredTargets",[]),P(this,"_objectsToRender",void 0),P(this,"_currentTransform",null),P(this,"_groupSelector",null),P(this,"contextTopDirty",!1)}static getDefaults(){return F(F({},super.getDefaults()),zl.ownDefaults)}get upperCanvasEl(){var e;return(e=this.elements.upper)===null||e===void 0?void 0:e.el}get contextTop(){var e;return(e=this.elements.upper)===null||e===void 0?void 0:e.ctx}get wrapperEl(){return this.elements.container}initElements(e){this.elements=new mE(e,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}_onObjectAdded(e){this._objectsToRender=void 0,super._onObjectAdded(e)}_onObjectRemoved(e){this._objectsToRender=void 0,e===this._activeObject&&(this.fire("before:selection:cleared",{deselected:[e]}),this._discardActiveObject(),this.fire("selection:cleared",{deselected:[e]}),e.fire("deselected",{target:e})),e===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),super._onObjectRemoved(e)}_onStackOrderChanged(){this._objectsToRender=void 0,super._onStackOrderChanged()}_chooseObjectsToRender(){const e=this._activeObject;return!this.preserveObjectStacking&&e?this._objects.filter(t=>!t.group&&t!==e).concat(e):this._objects}renderAll(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),!this._objectsToRender&&(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}renderTopLayer(e){e.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(e),this.contextTopDirty=!0),e.restore()}renderTop(){const e=this.contextTop;this.clearContext(e),this.renderTopLayer(e),this.fire("after:render",{ctx:e})}setTargetFindTolerance(e){e=Math.round(e),this.targetFindTolerance=e;const t=this.getRetinaScaling(),r=Math.ceil((2*e+1)*t);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=r,this.pixelFindContext.scale(t,t)}isTargetTransparent(e,t,r){const s=this.targetFindTolerance,i=this.pixelFindContext;this.clearContext(i),i.save(),i.translate(-t+s,-r+s),i.transform(...this.viewportTransform);const o=e.selectionBackgroundColor;e.selectionBackgroundColor="",e.render(i),e.selectionBackgroundColor=o,i.restore();const a=Math.round(s*this.getRetinaScaling());return wO(i,a,a,a)}_isSelectionKeyPressed(e){const t=this.selectionKey;return!!t&&(Array.isArray(t)?!!t.find(r=>!!r&&e[r]===!0):e[t])}_shouldClearSelection(e,t){const r=this.getActiveObjects(),s=this._activeObject;return!!(!t||t&&s&&r.length>1&&r.indexOf(t)===-1&&s!==t&&!this._isSelectionKeyPressed(e)||t&&!t.evented||t&&!t.selectable&&s&&s!==t)}_shouldCenterTransform(e,t,r){if(!e)return;let s;return t===Bl||t===qt||t===gn||t===xo?s=this.centeredScaling||e.centeredScaling:t===_h&&(s=this.centeredRotation||e.centeredRotation),s?!r:r}_getOriginFromCorner(e,t){const r={x:e.originX,y:e.originY};return t&&(["ml","tl","bl"].includes(t)?r.x=et:["mr","tr","br"].includes(t)&&(r.x=Le),["tl","mt","tr"].includes(t)?r.y=uu:["bl","mb","br"].includes(t)&&(r.y=zt)),r}_setupCurrentTransform(e,t,r){var s;const i=t.group?Hs(this.getScenePoint(e),void 0,t.group.calcTransformMatrix()):this.getScenePoint(e),{key:o="",control:a}=t.getActiveControl()||{},l=r&&a?(s=a.getActionHandler(e,t,a))===null||s===void 0?void 0:s.bind(a):VT,u=((f,p,m,b)=>{if(!p||!f)return"drag";const _=b.controls[p];return _.getActionName(m,_,b)})(r,o,e,t),c=e[this.centeredKey],h=this._shouldCenterTransform(t,u,c)?{x:Ce,y:Ce}:this._getOriginFromCorner(t,o),d={target:t,action:u,actionHandler:l,actionPerformed:!1,corner:o,scaleX:t.scaleX,scaleY:t.scaleY,skewX:t.skewX,skewY:t.skewY,offsetX:i.x-t.left,offsetY:i.y-t.top,originX:h.x,originY:h.y,ex:i.x,ey:i.y,lastX:i.x,lastY:i.y,theta:tt(t.angle),width:t.width,height:t.height,shiftKey:e.shiftKey,altKey:c,original:F(F({},Mv(t)),{},{originX:h.x,originY:h.y})};this._currentTransform=d,this.fire("before:transform",{e,transform:d})}setCursor(e){this.upperCanvasEl.style.cursor=e}_drawSelection(e){const{x:t,y:r,deltaX:s,deltaY:i}=this._groupSelector,o=new V(t,r).transform(this.viewportTransform),a=new V(t+s,r+i).transform(this.viewportTransform),l=this.selectionLineWidth/2;let u=Math.min(o.x,a.x),c=Math.min(o.y,a.y),h=Math.max(o.x,a.x),d=Math.max(o.y,a.y);this.selectionColor&&(e.fillStyle=this.selectionColor,e.fillRect(u,c,h-u,d-c)),this.selectionLineWidth&&this.selectionBorderColor&&(e.lineWidth=this.selectionLineWidth,e.strokeStyle=this.selectionBorderColor,u+=l,c+=l,h-=l,d-=l,St.prototype._setLineDash.call(this,e,this.selectionDashArray),e.strokeRect(u,c,h-u,d-c))}findTarget(e){if(this.skipTargetFind)return;const t=this.getViewportPoint(e),r=this._activeObject,s=this.getActiveObjects();if(this.targets=[],r&&s.length>=1){if(r.findControl(t,du(e))||s.length>1&&this.searchPossibleTargets([r],t))return r;if(r===this.searchPossibleTargets([r],t)){if(this.preserveObjectStacking){const i=this.targets;this.targets=[];const o=this.searchPossibleTargets(this._objects,t);return e[this.altSelectionKey]&&o&&o!==r?(this.targets=i,r):o}return r}}return this.searchPossibleTargets(this._objects,t)}_pointIsInObjectSelectionArea(e,t){let r=e.getCoords();const s=this.getZoom(),i=e.padding/s;if(i){const[o,a,l,u]=r,c=Math.atan2(a.y-o.y,a.x-o.x),h=er(c)*i,d=tr(c)*i,f=h+d,p=h-d;r=[new V(o.x-p,o.y-f),new V(a.x+f,a.y-p),new V(l.x+p,l.y+f),new V(u.x-f,u.y+p)]}return qe.isPointInPolygon(t,r)}_checkTarget(e,t){return!!(e&&e.visible&&e.evented&&this._pointIsInObjectSelectionArea(e,Hs(t,void 0,this.viewportTransform))&&(!this.perPixelTargetFind&&!e.perPixelTargetFind||e.isEditing||!this.isTargetTransparent(e,t.x,t.y)))}_searchPossibleTargets(e,t){let r=e.length;for(;r--;){const s=e[r];if(this._checkTarget(s,t)){if(Sa(s)&&s.subTargetCheck){const i=this._searchPossibleTargets(s._objects,t);i&&this.targets.push(i)}return s}}}searchPossibleTargets(e,t){const r=this._searchPossibleTargets(e,t);if(r&&Sa(r)&&r.interactive&&this.targets[0]){const s=this.targets;for(let i=s.length-1;i>0;i--){const o=s[i];if(!Sa(o)||!o.interactive)return o}return s[0]}return r}getViewportPoint(e){return this._pointer?this._pointer:this.getPointer(e,!0)}getScenePoint(e){return this._absolutePointer?this._absolutePointer:this.getPointer(e)}getPointer(e){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const r=this.upperCanvasEl,s=r.getBoundingClientRect();let i=RT(e),o=s.width||0,a=s.height||0;o&&a||(zt in s&&uu in s&&(a=Math.abs(s.top-s.bottom)),et in s&&Le in s&&(o=Math.abs(s.right-s.left))),this.calcOffset(),i.x=i.x-this._offset.left,i.y=i.y-this._offset.top,t||(i=Hs(i,void 0,this.viewportTransform));const l=this.getRetinaScaling();l!==1&&(i.x/=l,i.y/=l);const u=o===0||a===0?new V(1,1):new V(r.width/o,r.height/a);return i.multiply(u)}_setDimensionsImpl(e,t){this._resetTransformEventData(),super._setDimensionsImpl(e,t),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}_createCacheCanvas(){this.pixelFindCanvasEl=ht(),this.pixelFindContext=this.pixelFindCanvasEl.getContext("2d",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}getTopContext(){return this.elements.upper.ctx}getSelectionContext(){return this.elements.upper.ctx}getSelectionElement(){return this.elements.upper.el}getActiveObject(){return this._activeObject}getActiveObjects(){const e=this._activeObject;return Ur(e)?e.getObjects():e?[e]:[]}_fireSelectionEvents(e,t){let r=!1,s=!1;const i=this.getActiveObjects(),o=[],a=[];e.forEach(l=>{i.includes(l)||(r=!0,l.fire("deselected",{e:t,target:l}),a.push(l))}),i.forEach(l=>{e.includes(l)||(r=!0,l.fire("selected",{e:t,target:l}),o.push(l))}),e.length>0&&i.length>0?(s=!0,r&&this.fire("selection:updated",{e:t,selected:o,deselected:a})):i.length>0?(s=!0,this.fire("selection:created",{e:t,selected:o})):e.length>0&&(s=!0,this.fire("selection:cleared",{e:t,deselected:a})),s&&(this._objectsToRender=void 0)}setActiveObject(e,t){const r=this.getActiveObjects(),s=this._setActiveObject(e,t);return this._fireSelectionEvents(r,t),s}_setActiveObject(e,t){const r=this._activeObject;return r!==e&&!(!this._discardActiveObject(t,e)&&this._activeObject)&&!e.onSelect({e:t})&&(this._activeObject=e,Ur(e)&&r!==e&&e.set("canvas",this),e.setCoords(),!0)}_discardActiveObject(e,t){const r=this._activeObject;return!!r&&!r.onDeselect({e,object:t})&&(this._currentTransform&&this._currentTransform.target===r&&this.endCurrentTransform(e),Ur(r)&&r===this._hoveredTarget&&(this._hoveredTarget=void 0),this._activeObject=void 0,!0)}discardActiveObject(e){const t=this.getActiveObjects(),r=this.getActiveObject();t.length&&this.fire("before:selection:cleared",{e,deselected:[r]});const s=this._discardActiveObject(e);return this._fireSelectionEvents(t,e),s}endCurrentTransform(e){const t=this._currentTransform;this._finalizeCurrentTransform(e),t&&t.target&&(t.target.isMoving=!1),this._currentTransform=null}_finalizeCurrentTransform(e){const t=this._currentTransform,r=t.target,s={e,target:r,transform:t,action:t.action};r._scaling&&(r._scaling=!1),r.setCoords(),t.actionPerformed&&(this.fire("object:modified",s),r.fire(el,s))}setViewportTransform(e){super.setViewportTransform(e);const t=this._activeObject;t&&t.setCoords()}destroy(){const e=this._activeObject;Ur(e)&&(e.removeAll(),e.dispose()),delete this._activeObject,super.destroy(),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}clear(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),super.clear()}drawControls(e){const t=this._activeObject;t&&t._renderControls(e)}_toObject(e,t,r){const s=this._realizeGroupTransformOnObject(e),i=super._toObject(e,t,r);return e.set(s),i}_realizeGroupTransformOnObject(e){const{group:t}=e;if(t&&Ur(t)&&this._activeObject===t){const r=oi(e,["angle","flipX","flipY",Le,qt,gn,si,ii,zt]);return LT(e,t.calcOwnMatrix()),r}return{}}_setSVGObject(e,t,r){const s=this._realizeGroupTransformOnObject(t);super._setSVGObject(e,t,r),t.set(s)}}P(zl,"ownDefaults",{uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",selection:!0,selectionKey:"shiftKey",selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,enablePointerEvents:!1,containerClass:"canvas-container",preserveObjectStacking:!1});class vE{constructor(e){P(this,"targets",[]),P(this,"__disposer",void 0);const t=()=>{const{hiddenTextarea:s}=e.getActiveObject()||{};s&&s.focus()},r=e.upperCanvasEl;r.addEventListener("click",t),this.__disposer=()=>r.removeEventListener("click",t)}exitTextEditing(){this.target=void 0,this.targets.forEach(e=>{e.isEditing&&e.exitEditing()})}add(e){this.targets.push(e)}remove(e){this.unregister(e),As(this.targets,e)}register(e){this.target=e}unregister(e){e===this.target&&(this.target=void 0)}onMouseMove(e){var t;!((t=this.target)===null||t===void 0)&&t.isEditing&&this.target.updateSelectionOnMouseMove(e)}clear(){this.targets=[],this.target=void 0}dispose(){this.clear(),this.__disposer(),delete this.__disposer}}const yE=["target","oldTarget","fireCanvas","e"],Zt={passive:!1},Cs=(n,e)=>{const t=n.getViewportPoint(e),r=n.getScenePoint(e);return{viewportPoint:t,scenePoint:r,pointer:t,absolutePointer:r}},hr=function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return n.addEventListener(...t)},hn=function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return n.removeEventListener(...t)},bE={mouse:{in:"over",out:"out",targetIn:"mouseover",targetOut:"mouseout",canvasIn:"mouse:over",canvasOut:"mouse:out"},drag:{in:"enter",out:"leave",targetIn:"dragenter",targetOut:"dragleave",canvasIn:"drag:enter",canvasOut:"drag:leave"}};class Jf extends zl{constructor(e){super(e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}),P(this,"_isClick",void 0),P(this,"textEditingManager",new vE(this)),["_onMouseDown","_onTouchStart","_onMouseMove","_onMouseUp","_onTouchEnd","_onResize","_onMouseWheel","_onMouseOut","_onMouseEnter","_onContextMenu","_onDoubleClick","_onDragStart","_onDragEnd","_onDragProgress","_onDragOver","_onDragEnter","_onDragLeave","_onDrop"].forEach(t=>{this[t]=this[t].bind(this)}),this.addOrRemove(hr,"add")}_getEventPrefix(){return this.enablePointerEvents?"pointer":"mouse"}addOrRemove(e,t){const r=this.upperCanvasEl,s=this._getEventPrefix();e(Av(r),"resize",this._onResize),e(r,s+"down",this._onMouseDown),e(r,"".concat(s,"move"),this._onMouseMove,Zt),e(r,"".concat(s,"out"),this._onMouseOut),e(r,"".concat(s,"enter"),this._onMouseEnter),e(r,"wheel",this._onMouseWheel),e(r,"contextmenu",this._onContextMenu),e(r,"dblclick",this._onDoubleClick),e(r,"dragstart",this._onDragStart),e(r,"dragend",this._onDragEnd),e(r,"dragover",this._onDragOver),e(r,"dragenter",this._onDragEnter),e(r,"dragleave",this._onDragLeave),e(r,"drop",this._onDrop),this.enablePointerEvents||e(r,"touchstart",this._onTouchStart,Zt)}removeListeners(){this.addOrRemove(hn,"remove");const e=this._getEventPrefix(),t=_n(this.upperCanvasEl);hn(t,"".concat(e,"up"),this._onMouseUp),hn(t,"touchend",this._onTouchEnd,Zt),hn(t,"".concat(e,"move"),this._onMouseMove,Zt),hn(t,"touchmove",this._onMouseMove,Zt)}_onMouseWheel(e){this.__onMouseWheel(e)}_onMouseOut(e){const t=this._hoveredTarget,r=F({e},Cs(this,e));this.fire("mouse:out",F(F({},r),{},{target:t})),this._hoveredTarget=void 0,t&&t.fire("mouseout",F({},r)),this._hoveredTargets.forEach(s=>{this.fire("mouse:out",F(F({},r),{},{target:s})),s&&s.fire("mouseout",F({},r))}),this._hoveredTargets=[]}_onMouseEnter(e){this._currentTransform||this.findTarget(e)||(this.fire("mouse:over",F({e},Cs(this,e))),this._hoveredTarget=void 0,this._hoveredTargets=[])}_onDragStart(e){this._isClick=!1;const t=this.getActiveObject();if(t&&t.onDragStart(e)){this._dragSource=t;const r={e,target:t};return this.fire("dragstart",r),t.fire("dragstart",r),void hr(this.upperCanvasEl,"drag",this._onDragProgress)}fu(e)}_renderDragEffects(e,t,r){let s=!1;const i=this._dropTarget;i&&i!==t&&i!==r&&(i.clearContextTop(),s=!0),t==null||t.clearContextTop(),r!==t&&(r==null||r.clearContextTop());const o=this.contextTop;o.save(),o.transform(...this.viewportTransform),t&&(o.save(),t.transform(o),t.renderDragSourceEffect(e),o.restore(),s=!0),r&&(o.save(),r.transform(o),r.renderDropTargetEffect(e),o.restore(),s=!0),o.restore(),s&&(this.contextTopDirty=!0)}_onDragEnd(e){const t=!!e.dataTransfer&&e.dataTransfer.dropEffect!==Xt,r=t?this._activeObject:void 0,s={e,target:this._dragSource,subTargets:this.targets,dragSource:this._dragSource,didDrop:t,dropTarget:r};hn(this.upperCanvasEl,"drag",this._onDragProgress),this.fire("dragend",s),this._dragSource&&this._dragSource.fire("dragend",s),delete this._dragSource,this._onMouseUp(e)}_onDragProgress(e){const t={e,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire("drag",t),this._dragSource&&this._dragSource.fire("drag",t)}findDragTargets(e){return this.targets=[],{target:this._searchPossibleTargets(this._objects,this.getViewportPoint(e)),targets:[...this.targets]}}_onDragOver(e){const t="dragover",{target:r,targets:s}=this.findDragTargets(e),i=this._dragSource,o={e,target:r,subTargets:s,dragSource:i,canDrop:!1,dropTarget:void 0};let a;this.fire(t,o),this._fireEnterLeaveEvents(r,o),r&&(r.canDrop(e)&&(a=r),r.fire(t,o));for(let l=0;l<s.length;l++){const u=s[l];u.canDrop(e)&&(a=u),u.fire(t,o)}this._renderDragEffects(e,i,a),this._dropTarget=a}_onDragEnter(e){const{target:t,targets:r}=this.findDragTargets(e),s={e,target:t,subTargets:r,dragSource:this._dragSource};this.fire("dragenter",s),this._fireEnterLeaveEvents(t,s)}_onDragLeave(e){const t={e,target:this._draggedoverTarget,subTargets:this.targets,dragSource:this._dragSource};this.fire("dragleave",t),this._fireEnterLeaveEvents(void 0,t),this._renderDragEffects(e,this._dragSource),this._dropTarget=void 0,this.targets=[],this._hoveredTargets=[]}_onDrop(e){const{target:t,targets:r}=this.findDragTargets(e),s=this._basicEventHandler("drop:before",F({e,target:t,subTargets:r,dragSource:this._dragSource},Cs(this,e)));s.didDrop=!1,s.dropTarget=void 0,this._basicEventHandler("drop",s),this.fire("drop:after",s)}_onContextMenu(e){const t=this.findTarget(e),r=this.targets||[],s=this._basicEventHandler("contextmenu:before",{e,target:t,subTargets:r});return this.stopContextMenu&&fu(e),this._basicEventHandler("contextmenu",s),!1}_onDoubleClick(e){this._cacheTransformEventData(e),this._handleEvent(e,"dblclick"),this._resetTransformEventData()}getPointerId(e){const t=e.changedTouches;return t?t[0]&&t[0].identifier:this.enablePointerEvents?e.pointerId:-1}_isMainEvent(e){return e.isPrimary===!0||e.isPrimary!==!1&&(e.type==="touchend"&&e.touches.length===0||!e.changedTouches||e.changedTouches[0].identifier===this.mainTouchId)}_onTouchStart(e){e.preventDefault(),this.mainTouchId===void 0&&(this.mainTouchId=this.getPointerId(e)),this.__onMouseDown(e),this._resetTransformEventData();const t=this.upperCanvasEl,r=this._getEventPrefix(),s=_n(t);hr(s,"touchend",this._onTouchEnd,Zt),hr(s,"touchmove",this._onMouseMove,Zt),hn(t,"".concat(r,"down"),this._onMouseDown)}_onMouseDown(e){this.__onMouseDown(e),this._resetTransformEventData();const t=this.upperCanvasEl,r=this._getEventPrefix();hn(t,"".concat(r,"move"),this._onMouseMove,Zt);const s=_n(t);hr(s,"".concat(r,"up"),this._onMouseUp),hr(s,"".concat(r,"move"),this._onMouseMove,Zt)}_onTouchEnd(e){if(e.touches.length>0)return;this.__onMouseUp(e),this._resetTransformEventData(),delete this.mainTouchId;const t=this._getEventPrefix(),r=_n(this.upperCanvasEl);hn(r,"touchend",this._onTouchEnd,Zt),hn(r,"touchmove",this._onMouseMove,Zt),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(()=>{hr(this.upperCanvasEl,"".concat(t,"down"),this._onMouseDown),this._willAddMouseDown=0},400)}_onMouseUp(e){this.__onMouseUp(e),this._resetTransformEventData();const t=this.upperCanvasEl,r=this._getEventPrefix();if(this._isMainEvent(e)){const s=_n(this.upperCanvasEl);hn(s,"".concat(r,"up"),this._onMouseUp),hn(s,"".concat(r,"move"),this._onMouseMove,Zt),hr(t,"".concat(r,"move"),this._onMouseMove,Zt)}}_onMouseMove(e){const t=this.getActiveObject();!this.allowTouchScrolling&&(!t||!t.shouldStartDragging(e))&&e.preventDefault&&e.preventDefault(),this.__onMouseMove(e)}_onResize(){this.calcOffset(),this._resetTransformEventData()}_shouldRender(e){const t=this.getActiveObject();return!!t!=!!e||t&&e&&t!==e}__onMouseUp(e){var t;this._cacheTransformEventData(e),this._handleEvent(e,"up:before");const r=this._currentTransform,s=this._isClick,i=this._target,{button:o}=e;if(o)return(this.fireMiddleClick&&o===1||this.fireRightClick&&o===2)&&this._handleEvent(e,"up"),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(e);if(!this._isMainEvent(e))return;let a,l,u=!1;if(r&&(this._finalizeCurrentTransform(e),u=r.actionPerformed),!s){const c=i===this._activeObject;this.handleSelection(e),u||(u=this._shouldRender(i)||!c&&i===this._activeObject)}if(i){const c=i.findControl(this.getViewportPoint(e),du(e)),{key:h,control:d}=c||{};if(l=h,i.selectable&&i!==this._activeObject&&i.activeOn==="up")this.setActiveObject(i,e),u=!0;else if(d){const f=d.getMouseUpHandler(e,i,d);f&&(a=this.getScenePoint(e),f.call(d,e,r,a.x,a.y))}i.isMoving=!1}if(r&&(r.target!==i||r.corner!==l)){const c=r.target&&r.target.controls[r.corner],h=c&&c.getMouseUpHandler(e,r.target,c);a=a||this.getScenePoint(e),h&&h.call(c,e,r,a.x,a.y)}this._setCursorFromEvent(e,i),this._handleEvent(e,"up"),this._groupSelector=null,this._currentTransform=null,i&&(i.__corner=void 0),u?this.requestRenderAll():s||(t=this._activeObject)!==null&&t!==void 0&&t.isEditing||this.renderTop()}_basicEventHandler(e,t){const{target:r,subTargets:s=[]}=t;this.fire(e,t),r&&r.fire(e,t);for(let i=0;i<s.length;i++)s[i]!==r&&s[i].fire(e,t);return t}_handleEvent(e,t){const r=this._target,s=this.targets||[],i=F(F({e,target:r,subTargets:s},Cs(this,e)),{},{transform:this._currentTransform},t==="up:before"||t==="up"?{isClick:this._isClick,currentTarget:this.findTarget(e),currentSubTargets:this.targets}:{});this.fire("mouse:".concat(t),i),r&&r.fire("mouse".concat(t),i);for(let o=0;o<s.length;o++)s[o]!==r&&s[o].fire("mouse".concat(t),i)}_onMouseDownInDrawingMode(e){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(e),this.requestRenderAll());const t=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(t,{e,pointer:t}),this._handleEvent(e,"down")}_onMouseMoveInDrawingMode(e){if(this._isCurrentlyDrawing){const t=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseMove(t,{e,pointer:t})}this.setCursor(this.freeDrawingCursor),this._handleEvent(e,"move")}_onMouseUpInDrawingMode(e){const t=this.getScenePoint(e);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e,pointer:t}):this._isCurrentlyDrawing=!1,this._handleEvent(e,"up")}__onMouseDown(e){this._isClick=!0,this._cacheTransformEventData(e),this._handleEvent(e,"down:before");let t=this._target;const{button:r}=e;if(r)return(this.fireMiddleClick&&r===1||this.fireRightClick&&r===2)&&this._handleEvent(e,"down"),void this._resetTransformEventData();if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(e);if(!this._isMainEvent(e)||this._currentTransform)return;let s=this._shouldRender(t),i=!1;if(this.handleMultiSelection(e,t)?(t=this._activeObject,i=!0,s=!0):this._shouldClearSelection(e,t)&&this.discardActiveObject(e),this.selection&&(!t||!t.selectable&&!t.isEditing&&t!==this._activeObject)){const o=this.getScenePoint(e);this._groupSelector={x:o.x,y:o.y,deltaY:0,deltaX:0}}if(t){const o=t===this._activeObject;t.selectable&&t.activeOn==="down"&&this.setActiveObject(t,e);const a=t.findControl(this.getViewportPoint(e),du(e));if(t===this._activeObject&&(a||!i)){this._setupCurrentTransform(e,t,o);const l=a?a.control:void 0,u=this.getScenePoint(e),c=l&&l.getMouseDownHandler(e,t,l);c&&c.call(l,e,this._currentTransform,u.x,u.y)}}s&&(this._objectsToRender=void 0),this._handleEvent(e,"down"),s&&this.requestRenderAll()}_resetTransformEventData(){this._target=void 0,this._pointer=void 0,this._absolutePointer=void 0}_cacheTransformEventData(e){this._resetTransformEventData(),this._pointer=this.getViewportPoint(e),this._absolutePointer=Hs(this._pointer,void 0,this.viewportTransform),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(e)}__onMouseMove(e){if(this._isClick=!1,this._cacheTransformEventData(e),this._handleEvent(e,"move:before"),this.isDrawingMode)return void this._onMouseMoveInDrawingMode(e);if(!this._isMainEvent(e))return;const t=this._groupSelector;if(t){const r=this.getScenePoint(e);t.deltaX=r.x-t.x,t.deltaY=r.y-t.y,this.renderTop()}else if(this._currentTransform)this._transformObject(e);else{const r=this.findTarget(e);this._setCursorFromEvent(e,r),this._fireOverOutEvents(e,r)}this.textEditingManager.onMouseMove(e),this._handleEvent(e,"move"),this._resetTransformEventData()}_fireOverOutEvents(e,t){const r=this._hoveredTarget,s=this._hoveredTargets,i=this.targets,o=Math.max(s.length,i.length);this.fireSyntheticInOutEvents("mouse",{e,target:t,oldTarget:r,fireCanvas:!0});for(let a=0;a<o;a++)this.fireSyntheticInOutEvents("mouse",{e,target:i[a],oldTarget:s[a]});this._hoveredTarget=t,this._hoveredTargets=this.targets.concat()}_fireEnterLeaveEvents(e,t){const r=this._draggedoverTarget,s=this._hoveredTargets,i=this.targets,o=Math.max(s.length,i.length);this.fireSyntheticInOutEvents("drag",F(F({},t),{},{target:e,oldTarget:r,fireCanvas:!0}));for(let a=0;a<o;a++)this.fireSyntheticInOutEvents("drag",F(F({},t),{},{target:i[a],oldTarget:s[a]}));this._draggedoverTarget=e}fireSyntheticInOutEvents(e,t){let{target:r,oldTarget:s,fireCanvas:i,e:o}=t,a=Ke(t,yE);const{targetIn:l,targetOut:u,canvasIn:c,canvasOut:h}=bE[e],d=s!==r;if(s&&d){const f=F(F({},a),{},{e:o,target:s,nextTarget:r},Cs(this,o));i&&this.fire(h,f),s.fire(u,f)}if(r&&d){const f=F(F({},a),{},{e:o,target:r,previousTarget:s},Cs(this,o));i&&this.fire(c,f),r.fire(l,f)}}__onMouseWheel(e){this._cacheTransformEventData(e),this._handleEvent(e,"wheel"),this._resetTransformEventData()}_transformObject(e){const t=this.getScenePoint(e),r=this._currentTransform,s=r.target,i=s.group?Hs(t,void 0,s.group.calcTransformMatrix()):t;r.shiftKey=e.shiftKey,r.altKey=!!this.centeredKey&&e[this.centeredKey],this._performTransformAction(e,r,i),r.actionPerformed&&this.requestRenderAll()}_performTransformAction(e,t,r){const{action:s,actionHandler:i,target:o}=t,a=!!i&&i(e,t,r.x,r.y);a&&o.setCoords(),s==="drag"&&a&&(t.target.isMoving=!0,this.setCursor(t.target.moveCursor||this.moveCursor)),t.actionPerformed=t.actionPerformed||a}_setCursorFromEvent(e,t){if(!t)return void this.setCursor(this.defaultCursor);let r=t.hoverCursor||this.hoverCursor;const s=Ur(this._activeObject)?this._activeObject:null,i=(!s||t.group!==s)&&t.findControl(this.getViewportPoint(e));if(i){const o=i.control;this.setCursor(o.cursorStyleHandler(e,o,t))}else t.subTargetCheck&&this.targets.concat().reverse().map(o=>{r=o.hoverCursor||r}),this.setCursor(r)}handleMultiSelection(e,t){const r=this._activeObject,s=Ur(r);if(r&&this._isSelectionKeyPressed(e)&&this.selection&&t&&t.selectable&&(r!==t||s)&&(s||!t.isDescendantOf(r)&&!r.isDescendantOf(t))&&!t.onSelect({e})&&!r.getActiveControl()){if(s){const i=r.getObjects();if(t===r){const o=this.getViewportPoint(e);if(!(t=this.searchPossibleTargets(i,o)||this.searchPossibleTargets(this._objects,o))||!t.selectable)return!1}t.group===r?(r.remove(t),this._hoveredTarget=t,this._hoveredTargets=[...this.targets],r.size()===1&&this._setActiveObject(r.item(0),e)):(r.multiSelectAdd(t),this._hoveredTarget=r,this._hoveredTargets=[...this.targets]),this._fireSelectionEvents(i,e)}else{r.exitEditing&&r.exitEditing();const i=new(oe.getClass("ActiveSelection"))([],{canvas:this});i.multiSelectAdd(r,t),this._hoveredTarget=i,this._setActiveObject(i,e),this._fireSelectionEvents([r],e)}return!0}return!1}handleSelection(e){if(!this.selection||!this._groupSelector)return!1;const{x:t,y:r,deltaX:s,deltaY:i}=this._groupSelector,o=new V(t,r),a=o.add(new V(s,i)),l=o.min(a),u=o.max(a).subtract(l),c=this.collectObjects({left:l.x,top:l.y,width:u.x,height:u.y},{includeIntersecting:!this.selectionFullyContained}),h=o.eq(a)?c[0]?[c[0]]:[]:c.length>1?c.filter(d=>!d.onSelect({e})).reverse():c;if(h.length===1)this.setActiveObject(h[0],e);else if(h.length>1){const d=oe.getClass("ActiveSelection");this.setActiveObject(new d(h,{canvas:this}),e)}return this._groupSelector=null,!0}clear(){this.textEditingManager.clear(),super.clear()}destroy(){this.removeListeners(),this.textEditingManager.dispose(),super.destroy()}}const ny={x1:0,y1:0,x2:0,y2:0},_E=F(F({},ny),{},{r1:0,r2:0}),Ms=(n,e)=>isNaN(n)&&typeof e=="number"?e:n,wE=/^(\d+\.\d+)%|(\d+)%$/;function ry(n){return n&&wE.test(n)}function sy(n,e){const t=typeof n=="number"?n:typeof n=="string"?parseFloat(n)/(ry(n)?100:1):NaN;return qs(0,Ms(t,e),1)}const SE=/\s*;\s*/,xE=/\s*:\s*/;function CE(n,e){let t,r;const s=n.getAttribute("style");if(s){const o=s.split(SE);o[o.length-1]===""&&o.pop();for(let a=o.length;a--;){const[l,u]=o[a].split(xE).map(c=>c.trim());l==="stop-color"?t=u:l==="stop-opacity"&&(r=u)}}const i=new Be(t||n.getAttribute("stop-color")||"rgb(0,0,0)");return{offset:sy(n.getAttribute("offset"),0),color:i.toRgb(),opacity:Ms(parseFloat(r||n.getAttribute("stop-opacity")||""),1)*i.getAlpha()*e}}function TE(n,e){const t=[],r=n.getElementsByTagName("stop"),s=sy(e,1);for(let i=r.length;i--;)t.push(CE(r[i],s));return t}function iy(n){return n.nodeName==="linearGradient"||n.nodeName==="LINEARGRADIENT"?"linear":"radial"}function oy(n){return n.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage"}function mn(n,e){return n.getAttribute(e)}function OE(n,e){return function(t,r){let s,{width:i,height:o,gradientUnits:a}=r;return Object.keys(t).reduce((l,u)=>{const c=t[u];return c==="Infinity"?s=1:c==="-Infinity"?s=0:(s=typeof c=="string"?parseFloat(c):c,typeof c=="string"&&ry(c)&&(s*=.01,a==="pixels"&&(u!=="x1"&&u!=="x2"&&u!=="r2"||(s*=i),u!=="y1"&&u!=="y2"||(s*=o)))),l[u]=s,l},{})}(iy(n)==="linear"?function(t){return{x1:mn(t,"x1")||0,y1:mn(t,"y1")||0,x2:mn(t,"x2")||"100%",y2:mn(t,"y2")||0}}(n):function(t){return{x1:mn(t,"fx")||mn(t,"cx")||"50%",y1:mn(t,"fy")||mn(t,"cy")||"50%",r1:0,x2:mn(t,"cx")||"50%",y2:mn(t,"cy")||"50%",r2:mn(t,"r")||"50%"}}(n),F(F({},e),{},{gradientUnits:oy(n)}))}class aa{constructor(e){const{type:t="linear",gradientUnits:r="pixels",coords:s={},colorStops:i=[],offsetX:o=0,offsetY:a=0,gradientTransform:l,id:u}=e||{};Object.assign(this,{type:t,gradientUnits:r,coords:F(F({},t==="radial"?_E:ny),s),colorStops:i,offsetX:o,offsetY:a,gradientTransform:l,id:u?"".concat(u,"_").concat(Dr()):Dr()})}addColorStop(e){for(const t in e){const r=new Be(e[t]);this.colorStops.push({offset:parseFloat(t),color:r.toRgb(),opacity:r.getAlpha()})}return this}toObject(e){return F(F({},oi(this,e)),{},{type:this.type,coords:F({},this.coords),colorStops:this.colorStops.map(t=>F({},t)),offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?[...this.gradientTransform]:void 0})}toSVG(e){let{additionalTransform:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=[],s=this.gradientTransform?this.gradientTransform.concat():Bt.concat(),i=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox",o=this.colorStops.map(h=>F({},h)).sort((h,d)=>h.offset-d.offset);let a=-this.offsetX,l=-this.offsetY;var u;i==="objectBoundingBox"?(a/=e.width,l/=e.height):(a+=e.width/2,l+=e.height/2),(u=e)&&typeof u._renderPathCommands=="function"&&this.gradientUnits!=="percentage"&&(a-=e.pathOffset.x,l-=e.pathOffset.y),s[4]-=a,s[5]-=l;const c=['id="SVGID_'.concat(this.id,'"'),'gradientUnits="'.concat(i,'"'),'gradientTransform="'.concat(t?t+" ":"").concat(rl(s),'"'),""].join(" ");if(this.type==="linear"){const{x1:h,y1:d,x2:f,y2:p}=this.coords;r.push("<linearGradient ",c,' x1="',h,'" y1="',d,'" x2="',f,'" y2="',p,`">
`)}else if(this.type==="radial"){const{x1:h,y1:d,x2:f,y2:p,r1:m,r2:b}=this.coords,_=m>b;r.push("<radialGradient ",c,' cx="',_?h:f,'" cy="',_?d:p,'" r="',_?m:b,'" fx="',_?f:h,'" fy="',_?p:d,`">
`),_&&(o.reverse(),o.forEach(y=>{y.offset=1-y.offset}));const S=Math.min(m,b);if(S>0){const y=S/Math.max(m,b);o.forEach(x=>{x.offset+=y*(1-x.offset)})}}return o.forEach(h=>{let{color:d,offset:f,opacity:p}=h;r.push("<stop ",'offset="',100*f+"%",'" style="stop-color:',d,p!==void 0?";stop-opacity: "+p:";",`"/>
`)}),r.push(this.type==="linear"?"</linearGradient>":"</radialGradient>",`
`),r.join("")}toLive(e){const{x1:t,y1:r,x2:s,y2:i,r1:o,r2:a}=this.coords,l=this.type==="linear"?e.createLinearGradient(t,r,s,i):e.createRadialGradient(t,r,o,s,i,a);return this.colorStops.forEach(u=>{let{color:c,opacity:h,offset:d}=u;l.addColorStop(d,h!==void 0?new Be(c).setAlpha(h).toRgba():c)}),l}static async fromObject(e){const{colorStops:t,gradientTransform:r}=e;return new this(F(F({},e),{},{colorStops:t?t.map(s=>F({},s)):void 0,gradientTransform:r?[...r]:void 0}))}static fromElement(e,t,r){const s=oy(e),i=t._findCenterFromElement();return new this(F({id:e.getAttribute("id")||void 0,type:iy(e),coords:OE(e,{width:r.viewBoxWidth||r.width,height:r.viewBoxHeight||r.height}),colorStops:TE(e,r.opacity),gradientUnits:s,gradientTransform:vu(e.getAttribute("gradientTransform")||"")},s==="pixels"?{offsetX:t.width/2-i.x,offsetY:t.height/2-i.y}:{offsetX:0,offsetY:0}))}}P(aa,"type","Gradient"),oe.setClass(aa,"gradient"),oe.setClass(aa,"linear"),oe.setClass(aa,"radial");const EE=["type","source","patternTransform"];class Tc{get type(){return"pattern"}set type(e){Ar("warn","Setting type has no effect",e)}constructor(e){P(this,"repeat","repeat"),P(this,"offsetX",0),P(this,"offsetY",0),P(this,"crossOrigin",""),this.id=Dr(),Object.assign(this,e)}isImageSource(){return!!this.source&&typeof this.source.src=="string"}isCanvasSource(){return!!this.source&&!!this.source.toDataURL}sourceToString(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():""}toLive(e){return this.source&&(!this.isImageSource()||this.source.complete&&this.source.naturalWidth!==0&&this.source.naturalHeight!==0)?e.createPattern(this.source,this.repeat):null}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const{repeat:t,crossOrigin:r}=this;return F(F({},oi(this,e)),{},{type:"pattern",source:this.sourceToString(),repeat:t,crossOrigin:r,offsetX:Je(this.offsetX,Pe.NUM_FRACTION_DIGITS),offsetY:Je(this.offsetY,Pe.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?[...this.patternTransform]:null})}toSVG(e){let{width:t,height:r}=e;const{source:s,repeat:i,id:o}=this,a=Ms(this.offsetX/t,0),l=Ms(this.offsetY/r,0),u=i==="repeat-y"||i==="no-repeat"?1+Math.abs(a||0):Ms(s.width/t,0),c=i==="repeat-x"||i==="no-repeat"?1+Math.abs(l||0):Ms(s.height/r,0);return['<pattern id="SVGID_'.concat(o,'" x="').concat(a,'" y="').concat(l,'" width="').concat(u,'" height="').concat(c,'">'),'<image x="0" y="0" width="'.concat(s.width,'" height="').concat(s.height,'" xlink:href="').concat(this.sourceToString(),'"></image>'),"</pattern>",""].join(`
`)}static async fromObject(e,t){let{type:r,source:s,patternTransform:i}=e,o=Ke(e,EE);const a=await Ca(s,F(F({},t),{},{crossOrigin:o.crossOrigin}));return new this(F(F({},o),{},{patternTransform:i&&i.slice(0),source:a}))}}P(Tc,"type","Pattern"),oe.setClass(Tc),oe.setClass(Tc,"pattern");const kE=["path","left","top"],AE=["d"];class Wr extends St{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{path:r,left:s,top:i}=t,o=Ke(t,kE);super(),Object.assign(this,Wr.ownDefaults),this.setOptions(o),this._setPath(e||[],!0),typeof s=="number"&&this.set(Le,s),typeof i=="number"&&this.set(zt,i)}_setPath(e,t){this.path=iE(Array.isArray(e)?e:pE(e)),this.setBoundingBox(t)}_findCenterFromElement(){const e=this._calcBoundsFromPath();return new V(e.left+e.width/2,e.top+e.height/2)}_renderPathCommands(e){const t=-this.pathOffset.x,r=-this.pathOffset.y;e.beginPath();for(const s of this.path)switch(s[0]){case"L":e.lineTo(s[1]+t,s[2]+r);break;case"M":e.moveTo(s[1]+t,s[2]+r);break;case"C":e.bezierCurveTo(s[1]+t,s[2]+r,s[3]+t,s[4]+r,s[5]+t,s[6]+r);break;case"Q":e.quadraticCurveTo(s[1]+t,s[2]+r,s[3]+t,s[4]+r);break;case"Z":e.closePath()}}_render(e){this._renderPathCommands(e),this._renderPaintInOrder(e)}toString(){return"#<Path (".concat(this.complexity(),'): { "top": ').concat(this.top,', "left": ').concat(this.left," }>")}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F(F({},super.toObject(e)),{},{path:this.path.map(t=>t.slice())})}toDatalessObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=this.toObject(e);return this.sourcePath&&(delete t.path,t.sourcePath=this.sourcePath),t}_toSVG(){const e=gE(this.path,Pe.NUM_FRACTION_DIGITS);return["<path ","COMMON_PARTS",'d="'.concat(e,`" stroke-linecap="round" />
`)]}_getOffsetTransform(){const e=Pe.NUM_FRACTION_DIGITS;return" translate(".concat(Je(-this.pathOffset.x,e),", ").concat(Je(-this.pathOffset.y,e),")")}toClipPathSVG(e){const t=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:t})}toSVG(e){const t=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:t})}complexity(){return this.path.length}setDimensions(){this.setBoundingBox()}setBoundingBox(e){const{width:t,height:r,pathOffset:s}=this._calcDimensions();this.set({width:t,height:r,pathOffset:s}),e&&this.setPositionByOrigin(s,Ce,Ce)}_calcBoundsFromPath(){const e=[];let t=0,r=0,s=0,i=0;for(const o of this.path)switch(o[0]){case"L":s=o[1],i=o[2],e.push({x:t,y:r},{x:s,y:i});break;case"M":s=o[1],i=o[2],t=s,r=i;break;case"C":e.push(...Yf(s,i,o[1],o[2],o[3],o[4],o[5],o[6])),s=o[5],i=o[6];break;case"Q":e.push(...Yf(s,i,o[1],o[2],o[1],o[2],o[3],o[4])),s=o[3],i=o[4];break;case"Z":s=t,i=r}return qn(e)}_calcDimensions(){const e=this._calcBoundsFromPath();return F(F({},e),{},{pathOffset:new V(e.left+e.width/2,e.top+e.height/2)})}static fromObject(e){return this._fromObject(e,{extraParam:"path"})}static async fromElement(e,t,r){const s=ir(e,this.ATTRIBUTE_NAMES,r),{d:i}=s;return new this(i,F(F(F({},Ke(s,AE)),t),{},{left:void 0,top:void 0}))}}P(Wr,"type","Path"),P(Wr,"cacheProperties",[...sr,"path","fillRule"]),P(Wr,"ATTRIBUTE_NAMES",[...jr,"d"]),oe.setClass(Wr),oe.setSVGClass(Wr);const DE=["left","top","radius"],ay=["radius","startAngle","endAngle","counterClockwise"];class Wn extends St{static getDefaults(){return F(F({},super.getDefaults()),Wn.ownDefaults)}constructor(e){super(),Object.assign(this,Wn.ownDefaults),this.setOptions(e)}_set(e,t){return super._set(e,t),e==="radius"&&this.setRadius(t),this}_render(e){e.beginPath(),e.arc(0,0,this.radius,tt(this.startAngle),tt(this.endAngle),this.counterClockwise),this._renderPaintInOrder(e)}getRadiusX(){return this.get("radius")*this.get(qt)}getRadiusY(){return this.get("radius")*this.get(gn)}setRadius(e){this.radius=e,this.set({width:2*e,height:2*e})}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...ay,...e])}_toSVG(){const e=(this.endAngle-this.startAngle)%360;if(e===0)return["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',"".concat(this.radius),`" />
`];{const{radius:t}=this,r=tt(this.startAngle),s=tt(this.endAngle),i=er(r)*t,o=tr(r)*t,a=er(s)*t,l=tr(s)*t,u=e>180?1:0,c=this.counterClockwise?0:1;return['<path d="M '.concat(i," ").concat(o," A ").concat(t," ").concat(t," 0 ").concat(u," ").concat(c," ").concat(a," ").concat(l,'" '),"COMMON_PARTS",` />
`]}}static async fromElement(e,t,r){const s=ir(e,this.ATTRIBUTE_NAMES,r),{left:i=0,top:o=0,radius:a=0}=s;return new this(F(F({},Ke(s,DE)),{},{radius:a,left:i-a,top:o-a}))}static fromObject(e){return super._fromObject(e)}}P(Wn,"type","Circle"),P(Wn,"cacheProperties",[...sr,...ay]),P(Wn,"ownDefaults",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),P(Wn,"ATTRIBUTE_NAMES",["cx","cy","r",...jr]),oe.setClass(Wn),oe.setSVGClass(Wn);const PE=["x1","y1","x2","y2"],ME=["x1","y1","x2","y2"],wu=["x1","x2","y1","y2"];class $r extends St{constructor(){let[e,t,r,s]=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,0],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,$r.ownDefaults),this.setOptions(i),this.x1=e,this.x2=r,this.y1=t,this.y2=s,this._setWidthHeight();const{left:o,top:a}=i;typeof o=="number"&&this.set(Le,o),typeof a=="number"&&this.set(zt,a)}_setWidthHeight(){const{x1:e,y1:t,x2:r,y2:s}=this;this.width=Math.abs(r-e),this.height=Math.abs(s-t);const{left:i,top:o,width:a,height:l}=qn([{x:e,y:t},{x:r,y:s}]),u=new V(i+a/2,o+l/2);this.setPositionByOrigin(u,Ce,Ce)}_set(e,t){return super._set(e,t),wu.includes(e)&&this._setWidthHeight(),this}_render(e){e.beginPath();const t=this.calcLinePoints();e.moveTo(t.x1,t.y1),e.lineTo(t.x2,t.y2),e.lineWidth=this.strokeWidth;const r=e.strokeStyle;var s;dn(this.stroke)?e.strokeStyle=this.stroke.toLive(e):e.strokeStyle=(s=this.stroke)!==null&&s!==void 0?s:e.fillStyle,this.stroke&&this._renderStroke(e),e.strokeStyle=r}_findCenterFromElement(){return new V((this.x1+this.x2)/2,(this.y1+this.y2)/2)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F(F({},super.toObject(e)),this.calcLinePoints())}_getNonTransformedDimensions(){const e=super._getNonTransformedDimensions();return this.strokeLineCap==="butt"&&(this.width===0&&(e.y-=this.strokeWidth),this.height===0&&(e.x-=this.strokeWidth)),e}calcLinePoints(){const{x1:e,x2:t,y1:r,y2:s,width:i,height:o}=this,a=e<=t?-1:1,l=r<=s?-1:1;return{x1:a*i/2,x2:a*-i/2,y1:l*o/2,y2:l*-o/2}}_toSVG(){const{x1:e,x2:t,y1:r,y2:s}=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="'.concat(e,'" y1="').concat(r,'" x2="').concat(t,'" y2="').concat(s,`" />
`)]}static async fromElement(e,t,r){const s=ir(e,this.ATTRIBUTE_NAMES,r),{x1:i=0,y1:o=0,x2:a=0,y2:l=0}=s;return new this([i,o,a,l],Ke(s,PE))}static fromObject(e){let{x1:t,y1:r,x2:s,y2:i}=e,o=Ke(e,ME);return this._fromObject(F(F({},o),{},{points:[t,r,s,i]}),{extraParam:"points"})}}P($r,"type","Line"),P($r,"cacheProperties",[...sr,...wu]),P($r,"ATTRIBUTE_NAMES",jr.concat(wu)),oe.setClass($r),oe.setSVGClass($r);class Gr extends St{static getDefaults(){return F(F({},super.getDefaults()),Gr.ownDefaults)}constructor(e){super(),Object.assign(this,Gr.ownDefaults),this.setOptions(e)}_render(e){const t=this.width/2,r=this.height/2;e.beginPath(),e.moveTo(-t,r),e.lineTo(0,-r),e.lineTo(t,r),e.closePath(),this._renderPaintInOrder(e)}_toSVG(){const e=this.width/2,t=this.height/2;return["<polygon ","COMMON_PARTS",'points="',"".concat(-e," ").concat(t,",0 ").concat(-t,",").concat(e," ").concat(t),'" />']}}P(Gr,"type","Triangle"),P(Gr,"ownDefaults",{width:100,height:100}),oe.setClass(Gr),oe.setSVGClass(Gr);const ly=["rx","ry"];class $n extends St{static getDefaults(){return F(F({},super.getDefaults()),$n.ownDefaults)}constructor(e){super(),Object.assign(this,$n.ownDefaults),this.setOptions(e)}_set(e,t){switch(super._set(e,t),e){case"rx":this.rx=t,this.set("width",2*t);break;case"ry":this.ry=t,this.set("height",2*t)}return this}getRx(){return this.get("rx")*this.get(qt)}getRy(){return this.get("ry")*this.get(gn)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...ly,...e])}_toSVG(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" rx="'.concat(this.rx,'" ry="').concat(this.ry,`" />
`)]}_render(e){e.beginPath(),e.save(),e.transform(1,0,0,this.ry/this.rx,0,0),e.arc(0,0,this.rx,0,Za,!1),e.restore(),this._renderPaintInOrder(e)}static async fromElement(e,t,r){const s=ir(e,this.ATTRIBUTE_NAMES,r);return s.left=(s.left||0)-s.rx,s.top=(s.top||0)-s.ry,new this(s)}}function RE(n){if(!n)return[];const e=n.replace(/,/g," ").trim().split(/\s+/),t=[];for(let r=0;r<e.length;r+=2)t.push({x:parseFloat(e[r]),y:parseFloat(e[r+1])});return t}P($n,"type","Ellipse"),P($n,"cacheProperties",[...sr,...ly]),P($n,"ownDefaults",{rx:0,ry:0}),P($n,"ATTRIBUTE_NAMES",[...jr,"cx","cy","rx","ry"]),oe.setClass($n),oe.setSVGClass($n);const FE=["left","top"],cy={exactBoundingBox:!1};class yn extends St{static getDefaults(){return F(F({},super.getDefaults()),yn.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),P(this,"strokeDiff",void 0),Object.assign(this,yn.ownDefaults),this.setOptions(t),this.points=e;const{left:r,top:s}=t;this.initialized=!0,this.setBoundingBox(!0),typeof r=="number"&&this.set(Le,r),typeof s=="number"&&this.set(zt,s)}isOpen(){return!0}_projectStrokeOnPoints(e){return xO(this.points,e,this.isOpen())}_calcDimensions(e){e=F({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},e||{});const t=this.exactBoundingBox?this._projectStrokeOnPoints(e).map(u=>u.projectedPoint):this.points;if(t.length===0)return{left:0,top:0,width:0,height:0,pathOffset:new V,strokeOffset:new V,strokeDiff:new V};const r=qn(t),s=Nl(F(F({},e),{},{scaleX:1,scaleY:1})),i=qn(this.points.map(u=>Vt(u,s,!0))),o=new V(this.scaleX,this.scaleY);let a=r.left+r.width/2,l=r.top+r.height/2;return this.exactBoundingBox&&(a-=l*Math.tan(tt(this.skewX)),l-=a*Math.tan(tt(this.skewY))),F(F({},r),{},{pathOffset:new V(a,l),strokeOffset:new V(i.left,i.top).subtract(new V(r.left,r.top)).multiply(o),strokeDiff:new V(r.width,r.height).subtract(new V(i.width,i.height)).multiply(o)})}_findCenterFromElement(){const e=qn(this.points);return new V(e.left+e.width/2,e.top+e.height/2)}setDimensions(){this.setBoundingBox()}setBoundingBox(e){const{left:t,top:r,width:s,height:i,pathOffset:o,strokeOffset:a,strokeDiff:l}=this._calcDimensions();this.set({width:s,height:i,pathOffset:o,strokeOffset:a,strokeDiff:l}),e&&this.setPositionByOrigin(new V(t+s/2,r+i/2),Ce,Ce)}isStrokeAccountedForInDimensions(){return this.exactBoundingBox}_getNonTransformedDimensions(){return this.exactBoundingBox?new V(this.width,this.height):super._getNonTransformedDimensions()}_getTransformedDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.exactBoundingBox){let o;if(Object.keys(e).some(a=>this.strokeUniform||this.constructor.layoutProperties.includes(a))){var t,r;const{width:a,height:l}=this._calcDimensions(e);o=new V((t=e.width)!==null&&t!==void 0?t:a,(r=e.height)!==null&&r!==void 0?r:l)}else{var s,i;o=new V((s=e.width)!==null&&s!==void 0?s:this.width,(i=e.height)!==null&&i!==void 0?i:this.height)}return o.multiply(new V(e.scaleX||this.scaleX,e.scaleY||this.scaleY))}return super._getTransformedDimensions(e)}_set(e,t){const r=this.initialized&&this[e]!==t,s=super._set(e,t);return this.exactBoundingBox&&r&&((e===qt||e===gn)&&this.strokeUniform&&this.constructor.layoutProperties.includes("strokeUniform")||this.constructor.layoutProperties.includes(e))&&this.setDimensions(),s}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F(F({},super.toObject(e)),{},{points:this.points.map(t=>{let{x:r,y:s}=t;return{x:r,y:s}})})}_toSVG(){const e=[],t=this.pathOffset.x,r=this.pathOffset.y,s=Pe.NUM_FRACTION_DIGITS;for(let i=0,o=this.points.length;i<o;i++)e.push(Je(this.points[i].x-t,s),",",Je(this.points[i].y-r,s)," ");return["<".concat(this.constructor.type.toLowerCase()," "),"COMMON_PARTS",'points="'.concat(e.join(""),`" />
`)]}_render(e){const t=this.points.length,r=this.pathOffset.x,s=this.pathOffset.y;if(t&&!isNaN(this.points[t-1].y)){e.beginPath(),e.moveTo(this.points[0].x-r,this.points[0].y-s);for(let i=0;i<t;i++){const o=this.points[i];e.lineTo(o.x-r,o.y-s)}!this.isOpen()&&e.closePath(),this._renderPaintInOrder(e)}}complexity(){return this.points.length}static async fromElement(e,t,r){return new this(RE(e.getAttribute("points")),F(F({},Ke(ir(e,this.ATTRIBUTE_NAMES,r),FE)),t))}static fromObject(e){return this._fromObject(e,{extraParam:"points"})}}P(yn,"ownDefaults",cy),P(yn,"type","Polyline"),P(yn,"layoutProperties",[si,ii,"strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeWidth","strokeUniform","points"]),P(yn,"cacheProperties",[...sr,"points"]),P(yn,"ATTRIBUTE_NAMES",[...jr]),oe.setClass(yn),oe.setSVGClass(yn);class la extends yn{isOpen(){return!1}}P(la,"ownDefaults",cy),P(la,"type","Polygon"),oe.setClass(la),oe.setSVGClass(la);const uy=["fontSize","fontWeight","fontFamily","fontStyle"],hy=["underline","overline","linethrough"],dy=[...uy,"lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],fy=[...dy,...hy,"textBackgroundColor","direction"],LE=[...uy,...hy,Gt,"strokeWidth",it,"deltaY","textBackgroundColor"],jE={_reNewline:bh,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:Le,fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:Le,pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,deltaY:0,direction:"ltr",CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2},Mn="justify",cl="justify-left",ao="justify-right",lo="justify-center";class py extends St{isEmptyStyles(e){if(!this.styles||e!==void 0&&!this.styles[e])return!0;const t=e===void 0?this.styles:{line:this.styles[e]};for(const r in t)for(const s in t[r])for(const i in t[r][s])return!1;return!0}styleHas(e,t){if(!this.styles||t!==void 0&&!this.styles[t])return!1;const r=t===void 0?this.styles:{0:this.styles[t]};for(const s in r)for(const i in r[s])if(r[s][i][e]!==void 0)return!0;return!1}cleanStyle(e){if(!this.styles)return!1;const t=this.styles;let r,s,i=0,o=!0,a=0;for(const l in t){r=0;for(const u in t[l]){const c=t[l][u]||{};i++,c[e]!==void 0?(s?c[e]!==s&&(o=!1):s=c[e],c[e]===this[e]&&delete c[e]):o=!1,Object.keys(c).length!==0?r++:delete t[l][u]}r===0&&delete t[l]}for(let l=0;l<this._textLines.length;l++)a+=this._textLines[l].length;o&&i===a&&(this[e]=s,this.removeStyle(e))}removeStyle(e){if(!this.styles)return;const t=this.styles;let r,s,i;for(s in t){for(i in r=t[s],r)delete r[i][e],Object.keys(r[i]).length===0&&delete r[i];Object.keys(r).length===0&&delete t[s]}}_extendStyles(e,t){const{lineIndex:r,charIndex:s}=this.get2DCursorLocation(e);this._getLineStyle(r)||this._setLineStyle(r);const i=Ch(F(F({},this._getStyleDeclaration(r,s)),t),o=>o!==void 0);this._setStyleDeclaration(r,s,i)}getSelectionStyles(e,t,r){const s=[];for(let i=e;i<(t||e);i++)s.push(this.getStyleAtPosition(i,r));return s}getStyleAtPosition(e,t){const{lineIndex:r,charIndex:s}=this.get2DCursorLocation(e);return t?this.getCompleteStyleDeclaration(r,s):this._getStyleDeclaration(r,s)}setSelectionStyles(e,t,r){for(let s=t;s<(r||t);s++)this._extendStyles(s,e);this._forceClearCache=!0}_getStyleDeclaration(e,t){var r;const s=this.styles&&this.styles[e];return s&&(r=s[t])!==null&&r!==void 0?r:{}}getCompleteStyleDeclaration(e,t){return F(F({},oi(this,this.constructor._styleProperties)),this._getStyleDeclaration(e,t))}_setStyleDeclaration(e,t,r){this.styles[e][t]=r}_deleteStyleDeclaration(e,t){delete this.styles[e][t]}_getLineStyle(e){return!!this.styles[e]}_setLineStyle(e){this.styles[e]={}}_deleteLineStyle(e){delete this.styles[e]}}P(py,"_styleProperties",LE);const IE=/  +/g,BE=/"/g;function Oc(n,e,t,r,s){return"		".concat(function(i,o){let{left:a,top:l,width:u,height:c}=o,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Pe.NUM_FRACTION_DIGITS;const d=To(it,i,!1),[f,p,m,b]=[a,l,u,c].map(_=>Je(_,h));return"<rect ".concat(d,' x="').concat(f,'" y="').concat(p,'" width="').concat(m,'" height="').concat(b,'"></rect>')}(n,{left:e,top:t,width:r,height:s}),`
`)}const NE=["textAnchor","textDecoration","dx","dy","top","left","fontSize","strokeWidth"];let Ec;class Pt extends py{static getDefaults(){return F(F({},super.getDefaults()),Pt.ownDefaults)}constructor(e,t){super(),P(this,"__charBounds",[]),Object.assign(this,Pt.ownDefaults),this.setOptions(t),this.styles||(this.styles={}),this.text=e,this.initialized=!0,this.path&&this.setPathInfo(),this.initDimensions(),this.setCoords()}setPathInfo(){const e=this.path;e&&(e.segmentsInfo=ty(e.path))}_splitText(){const e=this._splitTextIntoLines(this.text);return this.textLines=e.lines,this._textLines=e.graphemeLines,this._unwrappedTextLines=e._unwrappedLines,this._text=e.graphemeText,e}initDimensions(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(Mn)&&this.enlargeSpaces()}enlargeSpaces(){let e,t,r,s,i,o,a;for(let l=0,u=this._textLines.length;l<u;l++)if((this.textAlign===Mn||l!==u-1&&!this.isEndOfWrapping(l))&&(s=0,i=this._textLines[l],t=this.getLineWidth(l),t<this.width&&(a=this.textLines[l].match(this._reSpacesAndTabs)))){r=a.length,e=(this.width-t)/r;for(let c=0;c<=i.length;c++)o=this.__charBounds[l][c],this._reSpaceAndTab.test(i[c])?(o.width+=e,o.kernedWidth+=e,o.left+=s,s+=e):o.left+=s}}isEndOfWrapping(e){return e===this._textLines.length-1}missingNewlineOffset(e){return 1}get2DCursorLocation(e,t){const r=t?this._unwrappedTextLines:this._textLines;let s;for(s=0;s<r.length;s++){if(e<=r[s].length)return{lineIndex:s,charIndex:e};e-=r[s].length+this.missingNewlineOffset(s,t)}return{lineIndex:s-1,charIndex:r[s-1].length<e?r[s-1].length:e}}toString(){return"#<Text (".concat(this.complexity(),'): { "text": "').concat(this.text,'", "fontFamily": "').concat(this.fontFamily,'" }>')}_getCacheCanvasDimensions(){const e=super._getCacheCanvasDimensions(),t=this.fontSize;return e.width+=t*e.zoomX,e.height+=t*e.zoomY,e}_render(e){const t=this.path;t&&!t.isNotVisible()&&t._render(e),this._setTextStyles(e),this._renderTextLinesBackground(e),this._renderTextDecoration(e,"underline"),this._renderText(e),this._renderTextDecoration(e,"overline"),this._renderTextDecoration(e,"linethrough")}_renderText(e){this.paintFirst===Gt?(this._renderTextStroke(e),this._renderTextFill(e)):(this._renderTextFill(e),this._renderTextStroke(e))}_setTextStyles(e,t,r){if(e.textBaseline="alphabetic",this.path)switch(this.pathAlign){case Ce:e.textBaseline="middle";break;case"ascender":e.textBaseline=zt;break;case"descender":e.textBaseline=uu}e.font=this._getFontDeclaration(t,r)}calcTextWidth(){let e=this.getLineWidth(0);for(let t=1,r=this._textLines.length;t<r;t++){const s=this.getLineWidth(t);s>e&&(e=s)}return e}_renderTextLine(e,t,r,s,i,o){this._renderChars(e,t,r,s,i,o)}_renderTextLinesBackground(e){if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))return;const t=e.fillStyle,r=this._getLeftOffset();let s=this._getTopOffset();for(let i=0,o=this._textLines.length;i<o;i++){const a=this.getHeightOfLine(i);if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",i)){s+=a;continue}const l=this._textLines[i].length,u=this._getLineLeftOffset(i);let c,h,d=0,f=0,p=this.getValueOfPropertyAt(i,0,"textBackgroundColor");for(let m=0;m<l;m++){const b=this.__charBounds[i][m];h=this.getValueOfPropertyAt(i,m,"textBackgroundColor"),this.path?(e.save(),e.translate(b.renderLeft,b.renderTop),e.rotate(b.angle),e.fillStyle=h,h&&e.fillRect(-b.width/2,-a/this.lineHeight*(1-this._fontSizeFraction),b.width,a/this.lineHeight),e.restore()):h!==p?(c=r+u+f,this.direction==="rtl"&&(c=this.width-c-d),e.fillStyle=p,p&&e.fillRect(c,s,d,a/this.lineHeight),f=b.left,d=b.width,p=h):d+=b.kernedWidth}h&&!this.path&&(c=r+u+f,this.direction==="rtl"&&(c=this.width-c-d),e.fillStyle=h,e.fillRect(c,s,d,a/this.lineHeight)),s+=a}e.fillStyle=t,this._removeShadow(e)}_measureChar(e,t,r,s){const i=io.getFontCache(t),o=this._getFontDeclaration(t),a=r+e,l=r&&o===this._getFontDeclaration(s),u=t.fontSize/this.CACHE_FONT_SIZE;let c,h,d,f;if(r&&i[r]!==void 0&&(d=i[r]),i[e]!==void 0&&(f=c=i[e]),l&&i[a]!==void 0&&(h=i[a],f=h-d),c===void 0||d===void 0||h===void 0){const p=function(){if(!Ec){const m=ht();m.width=m.height=0,Ec=m.getContext("2d")}return Ec}();this._setTextStyles(p,t,!0),c===void 0&&(f=c=p.measureText(e).width,i[e]=c),d===void 0&&l&&r&&(d=p.measureText(r).width,i[r]=d),l&&h===void 0&&(h=p.measureText(a).width,i[a]=h,f=h-d)}return{width:c*u,kernedWidth:f*u}}getHeightOfChar(e,t){return this.getValueOfPropertyAt(e,t,"fontSize")}measureLine(e){const t=this._measureLine(e);return this.charSpacing!==0&&(t.width-=this._getWidthOfCharSpacing()),t.width<0&&(t.width=0),t}_measureLine(e){let t,r,s=0;const i=this.pathSide===et,o=this.path,a=this._textLines[e],l=a.length,u=new Array(l);this.__charBounds[e]=u;for(let c=0;c<l;c++){const h=a[c];r=this._getGraphemeBox(h,e,c,t),u[c]=r,s+=r.kernedWidth,t=h}if(u[l]={left:r?r.left+r.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},o&&o.segmentsInfo){let c=0;const h=o.segmentsInfo[o.segmentsInfo.length-1].length;switch(this.textAlign){case Le:c=i?h-s:0;break;case Ce:c=(h-s)/2;break;case et:c=i?0:h-s}c+=this.pathStartOffset*(i?-1:1);for(let d=i?l-1:0;i?d>=0:d<l;i?d--:d++)r=u[d],c>h?c%=h:c<0&&(c+=h),this._setGraphemeOnPath(c,r),c+=r.kernedWidth}return{width:s,numOfSpaces:0}}_setGraphemeOnPath(e,t){const r=e+t.kernedWidth/2,s=this.path,i=uE(s.path,r,s.segmentsInfo);t.renderLeft=i.x-s.pathOffset.x,t.renderTop=i.y-s.pathOffset.y,t.angle=i.angle+(this.pathSide===et?Math.PI:0)}_getGraphemeBox(e,t,r,s,i){const o=this.getCompleteStyleDeclaration(t,r),a=s?this.getCompleteStyleDeclaration(t,r-1):{},l=this._measureChar(e,o,s,a);let u,c=l.kernedWidth,h=l.width;this.charSpacing!==0&&(u=this._getWidthOfCharSpacing(),h+=u,c+=u);const d={width:h,left:0,height:o.fontSize,kernedWidth:c,deltaY:o.deltaY};if(r>0&&!i){const f=this.__charBounds[t][r-1];d.left=f.left+f.width+l.kernedWidth-l.width}return d}getHeightOfLine(e){if(this.__lineHeights[e])return this.__lineHeights[e];let t=this.getHeightOfChar(e,0);for(let r=1,s=this._textLines[e].length;r<s;r++)t=Math.max(this.getHeightOfChar(e,r),t);return this.__lineHeights[e]=t*this.lineHeight*this._fontSizeMult}calcTextHeight(){let e,t=0;for(let r=0,s=this._textLines.length;r<s;r++)e=this.getHeightOfLine(r),t+=r===s-1?e/this.lineHeight:e;return t}_getLeftOffset(){return this.direction==="ltr"?-this.width/2:this.width/2}_getTopOffset(){return-this.height/2}_renderTextCommon(e,t){e.save();let r=0;const s=this._getLeftOffset(),i=this._getTopOffset();for(let o=0,a=this._textLines.length;o<a;o++){const l=this.getHeightOfLine(o),u=l/this.lineHeight,c=this._getLineLeftOffset(o);this._renderTextLine(t,e,this._textLines[o],s+c,i+r+u,o),r+=l}e.restore()}_renderTextFill(e){(this.fill||this.styleHas(it))&&this._renderTextCommon(e,"fillText")}_renderTextStroke(e){(this.stroke&&this.strokeWidth!==0||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this._setLineDash(e,this.strokeDashArray),e.beginPath(),this._renderTextCommon(e,"strokeText"),e.closePath(),e.restore())}_renderChars(e,t,r,s,i,o){const a=this.getHeightOfLine(o),l=this.textAlign.includes(Mn),u=this.path,c=!l&&this.charSpacing===0&&this.isEmptyStyles(o)&&!u,h=this.direction==="ltr",d=this.direction==="ltr"?1:-1,f=t.direction;let p,m,b,_,S,y="",x=0;if(t.save(),f!==this.direction&&(t.canvas.setAttribute("dir",h?"ltr":"rtl"),t.direction=h?"ltr":"rtl",t.textAlign=h?Le:et),i-=a*this._fontSizeFraction/this.lineHeight,c)return this._renderChar(e,t,o,0,r.join(""),s,i),void t.restore();for(let w=0,R=r.length-1;w<=R;w++)_=w===R||this.charSpacing||u,y+=r[w],b=this.__charBounds[o][w],x===0?(s+=d*(b.kernedWidth-b.width),x+=b.width):x+=b.kernedWidth,l&&!_&&this._reSpaceAndTab.test(r[w])&&(_=!0),_||(p=p||this.getCompleteStyleDeclaration(o,w),m=this.getCompleteStyleDeclaration(o,w+1),_=Mh(p,m,!1)),_&&(u?(t.save(),t.translate(b.renderLeft,b.renderTop),t.rotate(b.angle),this._renderChar(e,t,o,w,y,-x/2,0),t.restore()):(S=s,this._renderChar(e,t,o,w,y,S,i)),y="",p=m,s+=d*x,x=0);t.restore()}_applyPatternGradientTransformText(e){const t=ht(),r=this.width+this.strokeWidth,s=this.height+this.strokeWidth,i=t.getContext("2d");return t.width=r,t.height=s,i.beginPath(),i.moveTo(0,0),i.lineTo(r,0),i.lineTo(r,s),i.lineTo(0,s),i.closePath(),i.translate(r/2,s/2),i.fillStyle=e.toLive(i),this._applyPatternGradientTransform(i,e),i.fill(),i.createPattern(t,"no-repeat")}handleFiller(e,t,r){let s,i;return dn(r)?r.gradientUnits==="percentage"||r.gradientTransform||r.patternTransform?(s=-this.width/2,i=-this.height/2,e.translate(s,i),e[t]=this._applyPatternGradientTransformText(r),{offsetX:s,offsetY:i}):(e[t]=r.toLive(e),this._applyPatternGradientTransform(e,r)):(e[t]=r,{offsetX:0,offsetY:0})}_setStrokeStyles(e,t){let{stroke:r,strokeWidth:s}=t;return e.lineWidth=s,e.lineCap=this.strokeLineCap,e.lineDashOffset=this.strokeDashOffset,e.lineJoin=this.strokeLineJoin,e.miterLimit=this.strokeMiterLimit,this.handleFiller(e,"strokeStyle",r)}_setFillStyles(e,t){let{fill:r}=t;return this.handleFiller(e,"fillStyle",r)}_renderChar(e,t,r,s,i,o,a){const l=this._getStyleDeclaration(r,s),u=this.getCompleteStyleDeclaration(r,s),c=e==="fillText"&&u.fill,h=e==="strokeText"&&u.stroke&&u.strokeWidth;if(h||c){if(t.save(),t.font=this._getFontDeclaration(u),l.textBackgroundColor&&this._removeShadow(t),l.deltaY&&(a+=l.deltaY),c){const d=this._setFillStyles(t,u);t.fillText(i,o-d.offsetX,a-d.offsetY)}if(h){const d=this._setStrokeStyles(t,u);t.strokeText(i,o-d.offsetX,a-d.offsetY)}t.restore()}}setSuperscript(e,t){this._setScript(e,t,this.superscript)}setSubscript(e,t){this._setScript(e,t,this.subscript)}_setScript(e,t,r){const s=this.get2DCursorLocation(e,!0),i=this.getValueOfPropertyAt(s.lineIndex,s.charIndex,"fontSize"),o=this.getValueOfPropertyAt(s.lineIndex,s.charIndex,"deltaY"),a={fontSize:i*r.size,deltaY:o+i*r.baseline};this.setSelectionStyles(a,e,t)}_getLineLeftOffset(e){const t=this.getLineWidth(e),r=this.width-t,s=this.textAlign,i=this.direction,o=this.isEndOfWrapping(e);let a=0;return s===Mn||s===lo&&!o||s===ao&&!o||s===cl&&!o?0:(s===Ce&&(a=r/2),s===et&&(a=r),s===lo&&(a=r/2),s===ao&&(a=r),i==="rtl"&&(s===et||s===Mn||s===ao?a=0:s===Le||s===cl?a=-r:s!==Ce&&s!==lo||(a=-r/2)),a)}_clearCache(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}getLineWidth(e){if(this.__lineWidths[e]!==void 0)return this.__lineWidths[e];const{width:t}=this.measureLine(e);return this.__lineWidths[e]=t,t}_getWidthOfCharSpacing(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0}getValueOfPropertyAt(e,t,r){var s;return(s=this._getStyleDeclaration(e,t)[r])!==null&&s!==void 0?s:this[r]}_renderTextDecoration(e,t){if(!this[t]&&!this.styleHas(t))return;let r=this._getTopOffset();const s=this._getLeftOffset(),i=this.path,o=this._getWidthOfCharSpacing(),a=this.offsets[t];for(let l=0,u=this._textLines.length;l<u;l++){const c=this.getHeightOfLine(l);if(!this[t]&&!this.styleHas(t,l)){r+=c;continue}const h=this._textLines[l],d=c/this.lineHeight,f=this._getLineLeftOffset(l);let p,m,b=0,_=0,S=this.getValueOfPropertyAt(l,0,t),y=this.getValueOfPropertyAt(l,0,it);const x=r+d*(1-this._fontSizeFraction);let w=this.getHeightOfChar(l,0),R=this.getValueOfPropertyAt(l,0,"deltaY");for(let D=0,M=h.length;D<M;D++){const j=this.__charBounds[l][D];p=this.getValueOfPropertyAt(l,D,t),m=this.getValueOfPropertyAt(l,D,it);const W=this.getHeightOfChar(l,D),C=this.getValueOfPropertyAt(l,D,"deltaY");if(i&&p&&m)e.save(),e.fillStyle=y,e.translate(j.renderLeft,j.renderTop),e.rotate(j.angle),e.fillRect(-j.kernedWidth/2,a*W+C,j.kernedWidth,this.fontSize/15),e.restore();else if((p!==S||m!==y||W!==w||C!==R)&&_>0){let E=s+f+b;this.direction==="rtl"&&(E=this.width-E-_),S&&y&&(e.fillStyle=y,e.fillRect(E,x+a*w+R,_,this.fontSize/15)),b=j.left,_=j.width,S=p,y=m,w=W,R=C}else _+=j.kernedWidth}let A=s+f+b;this.direction==="rtl"&&(A=this.width-A-_),e.fillStyle=m,p&&m&&e.fillRect(A,x+a*w+R,_-o,this.fontSize/15),r+=c}this._removeShadow(e)}_getFontDeclaration(){let{fontFamily:e=this.fontFamily,fontStyle:t=this.fontStyle,fontWeight:r=this.fontWeight,fontSize:s=this.fontSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;const o=e.includes("'")||e.includes('"')||e.includes(",")||Pt.genericFonts.includes(e.toLowerCase())?e:'"'.concat(e,'"');return[t,r,"".concat(i?this.CACHE_FONT_SIZE:s,"px"),o].join(" ")}render(e){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),super.render(e)))}graphemeSplit(e){return Ph(e)}_splitTextIntoLines(e){const t=e.split(this._reNewline),r=new Array(t.length),s=[`
`];let i=[];for(let o=0;o<t.length;o++)r[o]=this.graphemeSplit(t[o]),i=i.concat(r[o],s);return i.pop(),{_unwrappedLines:r,lines:t,graphemeText:i,graphemeLines:r}}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F(F({},super.toObject([...fy,...e])),{},{styles:OO(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}set(e,t){const{textLayoutProperties:r}=this.constructor;super.set(e,t);let s=!1,i=!1;if(typeof e=="object")for(const o in e)o==="path"&&this.setPathInfo(),s=s||r.includes(o),i=i||o==="path";else s=r.includes(e),i=e==="path";return i&&this.setPathInfo(),s&&this.initialized&&(this.initDimensions(),this.setCoords()),this}complexity(){return 1}static async fromElement(e,t,r){const s=ir(e,Pt.ATTRIBUTE_NAMES,r),i=F(F({},t),s),{textAnchor:o=Le,textDecoration:a="",dx:l=0,dy:u=0,top:c=0,left:h=0,fontSize:d=yh,strokeWidth:f=1}=i,p=Ke(i,NE),m=new this((e.textContent||"").replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," "),F({left:h+l,top:c+u,underline:a.includes("underline"),overline:a.includes("overline"),linethrough:a.includes("line-through"),strokeWidth:0,fontSize:d},p)),b=m.getScaledHeight()/m.height,_=((m.height+m.strokeWidth)*m.lineHeight-m.height)*b,S=m.getScaledHeight()+_;let y=0;return o===Ce&&(y=m.getScaledWidth()/2),o===et&&(y=m.getScaledWidth()),m.set({left:m.left-y,top:m.top-(S-m.fontSize*(.07+m._fontSizeFraction))/m.lineHeight,strokeWidth:f}),m}static fromObject(e){return this._fromObject(F(F({},e),{},{styles:EO(e.styles||{},e.text)}),{extraParam:"text"})}}P(Pt,"textLayoutProperties",dy),P(Pt,"cacheProperties",[...sr,...fy]),P(Pt,"ownDefaults",jE),P(Pt,"type","Text"),P(Pt,"genericFonts",["sans-serif","serif","cursive","fantasy","monospace"]),P(Pt,"ATTRIBUTE_NAMES",jr.concat("x","y","dx","dy","font-family","font-style","font-weight","font-size","letter-spacing","text-decoration","text-anchor")),Xv(Pt,[class extends Iv{_toSVG(){const n=this._getSVGLeftTopOffsets(),e=this._getSVGTextAndBg(n.textTop,n.textLeft);return this._wrapSVGTextAndBg(e)}toSVG(n){return this._createBaseSVGMarkup(this._toSVG(),{reviver:n,noStyle:!0,withShadow:!0})}_getSVGLeftTopOffsets(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}_wrapSVGTextAndBg(n){let{textBgRects:e,textSpans:t}=n;const r=this.getSvgTextDecoration(this);return[e.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'.concat(this.fontFamily.replace(BE,"'"),'" '):"",this.fontSize?'font-size="'.concat(this.fontSize,'" '):"",this.fontStyle?'font-style="'.concat(this.fontStyle,'" '):"",this.fontWeight?'font-weight="'.concat(this.fontWeight,'" '):"",r?'text-decoration="'.concat(r,'" '):"",this.direction==="rtl"?'direction="'.concat(this.direction,'" '):"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",t.join(""),`</text>
`]}_getSVGTextAndBg(n,e){const t=[],r=[];let s,i=n;this.backgroundColor&&r.push(...Oc(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height));for(let o=0,a=this._textLines.length;o<a;o++)s=this._getLineLeftOffset(o),this.direction==="rtl"&&(s+=this.width),(this.textBackgroundColor||this.styleHas("textBackgroundColor",o))&&this._setSVGTextLineBg(r,o,e+s,i),this._setSVGTextLineText(t,o,e+s,i),i+=this.getHeightOfLine(o);return{textSpans:t,textBgRects:r}}_createTextCharSpan(n,e,t,r){const s=this.getSvgSpanStyles(e,n!==n.trim()||!!n.match(IE)),i=s?'style="'.concat(s,'"'):"",o=e.deltaY,a=o?' dy="'.concat(Je(o,Pe.NUM_FRACTION_DIGITS),'" '):"";return'<tspan x="'.concat(Je(t,Pe.NUM_FRACTION_DIGITS),'" y="').concat(Je(r,Pe.NUM_FRACTION_DIGITS),'" ').concat(a).concat(i,">").concat(CO(n),"</tspan>")}_setSVGTextLineText(n,e,t,r){const s=this.getHeightOfLine(e),i=this.textAlign.includes(Mn),o=this._textLines[e];let a,l,u,c,h,d="",f=0;r+=s*(1-this._fontSizeFraction)/this.lineHeight;for(let p=0,m=o.length-1;p<=m;p++)h=p===m||this.charSpacing,d+=o[p],u=this.__charBounds[e][p],f===0?(t+=u.kernedWidth-u.width,f+=u.width):f+=u.kernedWidth,i&&!h&&this._reSpaceAndTab.test(o[p])&&(h=!0),h||(a=a||this.getCompleteStyleDeclaration(e,p),l=this.getCompleteStyleDeclaration(e,p+1),h=Mh(a,l,!0)),h&&(c=this._getStyleDeclaration(e,p),n.push(this._createTextCharSpan(d,c,t,r)),d="",a=l,this.direction==="rtl"?t-=f:t+=f,f=0)}_setSVGTextLineBg(n,e,t,r){const s=this._textLines[e],i=this.getHeightOfLine(e)/this.lineHeight;let o,a=0,l=0,u=this.getValueOfPropertyAt(e,0,"textBackgroundColor");for(let c=0;c<s.length;c++){const{left:h,width:d,kernedWidth:f}=this.__charBounds[e][c];o=this.getValueOfPropertyAt(e,c,"textBackgroundColor"),o!==u?(u&&n.push(...Oc(u,t+l,r,a,i)),l=h,a=d,u=o):a+=f}o&&n.push(...Oc(u,t+l,r,a,i))}_getSVGLineTopOffset(n){let e,t=0;for(e=0;e<n;e++)t+=this.getHeightOfLine(e);const r=this.getHeightOfLine(e);return{lineTop:t,offset:(this._fontSizeMult-this._fontSizeFraction)*r/(this.lineHeight*this._fontSizeMult)}}getSvgStyles(n){return"".concat(super.getSvgStyles(n)," white-space: pre;")}getSvgSpanStyles(n,e){const{fontFamily:t,strokeWidth:r,stroke:s,fill:i,fontSize:o,fontStyle:a,fontWeight:l,deltaY:u}=n,c=this.getSvgTextDecoration(n);return[s?To(Gt,s):"",r?"stroke-width: ".concat(r,"; "):"",t?"font-family: ".concat(t.includes("'")||t.includes('"')?t:"'".concat(t,"'"),"; "):"",o?"font-size: ".concat(o,"px; "):"",a?"font-style: ".concat(a,"; "):"",l?"font-weight: ".concat(l,"; "):"",c&&"text-decoration: ".concat(c,"; "),i?To(it,i):"",u?"baseline-shift: ".concat(-u,"; "):"",e?"white-space: pre; ":""].join("")}getSvgTextDecoration(n){return["overline","underline","line-through"].filter(e=>n[e.replace("-","")]).join(" ")}}]),oe.setClass(Pt),oe.setSVGClass(Pt);class VE{constructor(e){P(this,"target",void 0),P(this,"__mouseDownInPlace",!1),P(this,"__dragStartFired",!1),P(this,"__isDraggingOver",!1),P(this,"__dragStartSelection",void 0),P(this,"__dragImageDisposer",void 0),P(this,"_dispose",void 0),this.target=e;const t=[this.target.on("dragenter",this.dragEnterHandler.bind(this)),this.target.on("dragover",this.dragOverHandler.bind(this)),this.target.on("dragleave",this.dragLeaveHandler.bind(this)),this.target.on("dragend",this.dragEndHandler.bind(this)),this.target.on("drop",this.dropHandler.bind(this))];this._dispose=()=>{t.forEach(r=>r()),this._dispose=void 0}}isPointerOverSelection(e){const t=this.target,r=t.getSelectionStartFromPointer(e);return t.isEditing&&r>=t.selectionStart&&r<=t.selectionEnd&&t.selectionStart<t.selectionEnd}start(e){return this.__mouseDownInPlace=this.isPointerOverSelection(e)}isActive(){return this.__mouseDownInPlace}end(e){const t=this.isActive();return t&&!this.__dragStartFired&&(this.target.setCursorByClick(e),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,t}getDragStartSelection(){return this.__dragStartSelection}setDragImage(e,t){var r;let{selectionStart:s,selectionEnd:i}=t;const o=this.target,a=o.canvas,l=new V(o.flipX?-1:1,o.flipY?-1:1),u=o._getCursorBoundaries(s),c=new V(u.left+u.leftOffset,u.top+u.topOffset).multiply(l).transform(o.calcTransformMatrix()),h=a.getScenePoint(e).subtract(c),d=o.getCanvasRetinaScaling(),f=o.getBoundingRect(),p=c.subtract(new V(f.left,f.top)),m=a.viewportTransform,b=p.add(h).transform(m,!0),_=o.backgroundColor,S=Dh(o.styles);o.backgroundColor="";const y={stroke:"transparent",fill:"transparent",textBackgroundColor:"transparent"};o.setSelectionStyles(y,0,s),o.setSelectionStyles(y,i,o.text.length),o.dirty=!0;const x=o.toCanvasElement({enableRetinaScaling:a.enableRetinaScaling,viewportTransform:!0});o.backgroundColor=_,o.styles=S,o.dirty=!0,_u(x,{position:"fixed",left:"".concat(-x.width,"px"),border:Xt,width:"".concat(x.width/d,"px"),height:"".concat(x.height/d,"px")}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=()=>{x.remove()},_n(e.target||this.target.hiddenTextarea).body.appendChild(x),(r=e.dataTransfer)===null||r===void 0||r.setDragImage(x,b.x,b.y)}onDragStart(e){this.__dragStartFired=!0;const t=this.target,r=this.isActive();if(r&&e.dataTransfer){const s=this.__dragStartSelection={selectionStart:t.selectionStart,selectionEnd:t.selectionEnd},i=t._text.slice(s.selectionStart,s.selectionEnd).join(""),o=F({text:t.text,value:i},s);e.dataTransfer.setData("text/plain",i),e.dataTransfer.setData("application/fabric",JSON.stringify({value:i,styles:t.getSelectionStyles(s.selectionStart,s.selectionEnd,!0)})),e.dataTransfer.effectAllowed="copyMove",this.setDragImage(e,o)}return t.abortCursorAnimation(),r}canDrop(e){if(this.target.editable&&!this.target.getActiveControl()&&!e.defaultPrevented){if(this.isActive()&&this.__dragStartSelection){const t=this.target.getSelectionStartFromPointer(e),r=this.__dragStartSelection;return t<r.selectionStart||t>r.selectionEnd}return!0}return!1}targetCanDrop(e){return this.target.canDrop(e)}dragEnterHandler(e){let{e:t}=e;const r=this.targetCanDrop(t);!this.__isDraggingOver&&r&&(this.__isDraggingOver=!0)}dragOverHandler(e){const{e:t}=e,r=this.targetCanDrop(t);!this.__isDraggingOver&&r?this.__isDraggingOver=!0:this.__isDraggingOver&&!r&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(t.preventDefault(),e.canDrop=!0,e.dropTarget=this.target)}dragLeaveHandler(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}dropHandler(e){var t;const{e:r}=e,s=r.defaultPrevented;this.__isDraggingOver=!1,r.preventDefault();let i=(t=r.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain");if(i&&!s){const o=this.target,a=o.canvas;let l=o.getSelectionStartFromPointer(r);const{styles:u}=r.dataTransfer.types.includes("application/fabric")?JSON.parse(r.dataTransfer.getData("application/fabric")):{},c=i[Math.max(0,i.length-1)],h=0;if(this.__dragStartSelection){const d=this.__dragStartSelection.selectionStart,f=this.__dragStartSelection.selectionEnd;l>d&&l<=f?l=d:l>f&&(l-=f-d),o.removeChars(d,f),delete this.__dragStartSelection}o._reNewline.test(c)&&(o._reNewline.test(o._text[l])||l===o._text.length)&&(i=i.trimEnd()),e.didDrop=!0,e.dropTarget=o,o.insertChars(i,u,l),a.setActiveObject(o),o.enterEditing(r),o.selectionStart=Math.min(l+h,o._text.length),o.selectionEnd=Math.min(o.selectionStart+i.length,o._text.length),o.hiddenTextarea.value=o.text,o._updateTextarea(),o.hiddenTextarea.focus(),o.fire(Qa,{index:l+h,action:"drop"}),a.fire("text:changed",{target:o}),a.contextTopDirty=!0,a.requestRenderAll()}}dragEndHandler(e){let{e:t}=e;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){var r;const s=this.target,i=this.target.canvas,{selectionStart:o,selectionEnd:a}=this.__dragStartSelection,l=((r=t.dataTransfer)===null||r===void 0?void 0:r.dropEffect)||Xt;l===Xt?(s.selectionStart=o,s.selectionEnd=a,s._updateTextarea(),s.hiddenTextarea.focus()):(s.clearContextTop(),l==="move"&&(s.removeChars(o,a),s.selectionStart=s.selectionEnd=o,s.hiddenTextarea&&(s.hiddenTextarea.value=s.text),s._updateTextarea(),s.fire(Qa,{index:o,action:"dragend"}),i.fire("text:changed",{target:s}),i.requestRenderAll()),s.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}dispose(){this._dispose&&this._dispose()}}const Zf=/[ \n\.,;!\?\-]/;class HE extends Pt{constructor(){super(...arguments),P(this,"_currentCursorOpacity",1)}initBehavior(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}onDeselect(e){return this.isEditing&&this.exitEditing(),this.selected=!1,super.onDeselect(e)}_animateCursor(e){let{toValue:t,duration:r,delay:s,onComplete:i}=e;return Hv({startValue:this._currentCursorOpacity,endValue:t,duration:r,delay:s,onComplete:i,abort:()=>!this.canvas||this.selectionStart!==this.selectionEnd,onChange:o=>{this._currentCursorOpacity=o,this.renderCursorOrSelection()}})}_tick(e){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(e||0,100),onComplete:this._onTickComplete})}_onTickComplete(){var e;(e=this._currentTickCompleteState)===null||e===void 0||e.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}initDelayedCursor(e){this.abortCursorAnimation(),this._tick(e?0:this.cursorDelay)}abortCursorAnimation(){let e=!1;[this._currentTickState,this._currentTickCompleteState].forEach(t=>{t&&!t.isDone()&&(e=!0,t.abort())}),this._currentCursorOpacity=1,e&&this.clearContextTop()}restartCursorIfNeeded(){[this._currentTickState,this._currentTickCompleteState].some(e=>!e||e.isDone())&&this.initDelayedCursor()}selectAll(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}getSelectedText(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")}findWordBoundaryLeft(e){let t=0,r=e-1;if(this._reSpace.test(this._text[r]))for(;this._reSpace.test(this._text[r]);)t++,r--;for(;/\S/.test(this._text[r])&&r>-1;)t++,r--;return e-t}findWordBoundaryRight(e){let t=0,r=e;if(this._reSpace.test(this._text[r]))for(;this._reSpace.test(this._text[r]);)t++,r++;for(;/\S/.test(this._text[r])&&r<this._text.length;)t++,r++;return e+t}findLineBoundaryLeft(e){let t=0,r=e-1;for(;!/\n/.test(this._text[r])&&r>-1;)t++,r--;return e-t}findLineBoundaryRight(e){let t=0,r=e;for(;!/\n/.test(this._text[r])&&r<this._text.length;)t++,r++;return e+t}searchWordBoundary(e,t){const r=this._text;let s=e>0&&this._reSpace.test(r[e])&&(t===-1||!bh.test(r[e-1]))?e-1:e,i=r[s];for(;s>0&&s<r.length&&!Zf.test(i);)s+=t,i=r[s];return t===-1&&Zf.test(i)&&s++,s}selectWord(e){e=e||this.selectionStart;const t=this.searchWordBoundary(e,-1),r=Math.max(t,this.searchWordBoundary(e,1));this.selectionStart=t,this.selectionEnd=r,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}selectLine(e){e=e||this.selectionStart;const t=this.findLineBoundaryLeft(e),r=this.findLineBoundaryRight(e);return this.selectionStart=t,this.selectionEnd=r,this._fireSelectionChanged(),this._updateTextarea(),this}enterEditing(e){!this.isEditing&&this.editable&&(this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered",e?{e}:void 0),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire("text:editing:entered",{target:this,e}),this.canvas.requestRenderAll()))}updateSelectionOnMouseMove(e){if(this.getActiveControl())return;const t=this.hiddenTextarea;_n(t).activeElement!==t&&t.focus();const r=this.getSelectionStartFromPointer(e),s=this.selectionStart,i=this.selectionEnd;(r===this.__selectionStartOnMouseDown&&s!==i||s!==r&&i!==r)&&(r>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=r):(this.selectionStart=r,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===s&&this.selectionEnd===i||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}_setEditingProps(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}fromStringToGraphemeSelection(e,t,r){const s=r.slice(0,e),i=this.graphemeSplit(s).length;if(e===t)return{selectionStart:i,selectionEnd:i};const o=r.slice(e,t);return{selectionStart:i,selectionEnd:i+this.graphemeSplit(o).length}}fromGraphemeToStringSelection(e,t,r){const s=r.slice(0,e).join("").length;return e===t?{selectionStart:s,selectionEnd:s}:{selectionStart:s,selectionEnd:s+r.slice(e,t).join("").length}}_updateTextarea(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){const e=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=e.selectionStart,this.hiddenTextarea.selectionEnd=e.selectionEnd}this.updateTextareaPosition()}}updateFromTextArea(){if(!this.hiddenTextarea)return;this.cursorOffsetCache={};const e=this.hiddenTextarea;this.text=e.value,this.set("dirty",!0),this.initDimensions(),this.setCoords();const t=this.fromStringToGraphemeSelection(e.selectionStart,e.selectionEnd,e.value);this.selectionEnd=this.selectionStart=t.selectionEnd,this.inCompositionMode||(this.selectionStart=t.selectionStart),this.updateTextareaPosition()}updateTextareaPosition(){if(this.selectionStart===this.selectionEnd){const e=this._calcTextareaPosition();this.hiddenTextarea.style.left=e.left,this.hiddenTextarea.style.top=e.top}}_calcTextareaPosition(){if(!this.canvas)return{left:"1px",top:"1px"};const e=this.inCompositionMode?this.compositionStart:this.selectionStart,t=this._getCursorBoundaries(e),r=this.get2DCursorLocation(e),s=r.lineIndex,i=r.charIndex,o=this.getValueOfPropertyAt(s,i,"fontSize")*this.lineHeight,a=t.leftOffset,l=this.getCanvasRetinaScaling(),u=this.canvas.upperCanvasEl,c=u.width/l,h=u.height/l,d=c-o,f=h-o,p=new V(t.left+a,t.top+t.topOffset+o).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new V(u.clientWidth/c,u.clientHeight/h));return p.x<0&&(p.x=0),p.x>d&&(p.x=d),p.y<0&&(p.y=0),p.y>f&&(p.y=f),p.x+=this.canvas._offset.left,p.y+=this.canvas._offset.top,{left:"".concat(p.x,"px"),top:"".concat(p.y,"px"),fontSize:"".concat(o,"px"),charHeight:o}}_saveEditingProps(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}_restoreEditingProps(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}_exitEditing(){const e=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,e&&(e.blur&&e.blur(),e.parentNode&&e.parentNode.removeChild(e)),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop()}exitEditing(){const e=this._textBeforeEdit!==this.text;return this._exitEditing(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),e&&this.fire(el),this.canvas&&(this.canvas.fire("text:editing:exited",{target:this}),e&&this.canvas.fire("object:modified",{target:this})),this}_removeExtraneousStyles(){for(const e in this.styles)this._textLines[e]||delete this.styles[e]}removeStyleFromTo(e,t){const{lineIndex:r,charIndex:s}=this.get2DCursorLocation(e,!0),{lineIndex:i,charIndex:o}=this.get2DCursorLocation(t,!0);if(r!==i){if(this.styles[r])for(let a=s;a<this._unwrappedTextLines[r].length;a++)delete this.styles[r][a];if(this.styles[i])for(let a=o;a<this._unwrappedTextLines[i].length;a++){const l=this.styles[i][a];l&&(this.styles[r]||(this.styles[r]={}),this.styles[r][s+a-o]=l)}for(let a=r+1;a<=i;a++)delete this.styles[a];this.shiftLineStyles(i,r-i)}else if(this.styles[r]){const a=this.styles[r],l=o-s;for(let u=s;u<o;u++)delete a[u];for(const u in this.styles[r]){const c=parseInt(u,10);c>=o&&(a[c-l]=a[u],delete a[u])}}}shiftLineStyles(e,t){const r=Object.assign({},this.styles);for(const s in this.styles){const i=parseInt(s,10);i>e&&(this.styles[i+t]=r[i],r[i-t]||delete this.styles[i])}}insertNewlineStyleObject(e,t,r,s){const i={},o=this._unwrappedTextLines[e].length,a=o===t;let l=!1;r||(r=1),this.shiftLineStyles(e,r);const u=this.styles[e]?this.styles[e][t===0?t:t-1]:void 0;for(const h in this.styles[e]){const d=parseInt(h,10);d>=t&&(l=!0,i[d-t]=this.styles[e][h],a&&t===0||delete this.styles[e][h])}let c=!1;for(l&&!a&&(this.styles[e+r]=i,c=!0),(c||o>t)&&r--;r>0;)s&&s[r-1]?this.styles[e+r]={0:F({},s[r-1])}:u?this.styles[e+r]={0:F({},u)}:delete this.styles[e+r],r--;this._forceClearCache=!0}insertCharStyleObject(e,t,r,s){this.styles||(this.styles={});const i=this.styles[e],o=i?F({},i):{};r||(r=1);for(const l in o){const u=parseInt(l,10);u>=t&&(i[u+r]=o[u],o[u-r]||delete i[u])}if(this._forceClearCache=!0,s){for(;r--;)Object.keys(s[r]).length&&(this.styles[e]||(this.styles[e]={}),this.styles[e][t+r]=F({},s[r]));return}if(!i)return;const a=i[t?t-1:1];for(;a&&r--;)this.styles[e][t+r]=F({},a)}insertNewStyleBlock(e,t,r){const s=this.get2DCursorLocation(t,!0),i=[0];let o,a=0;for(let l=0;l<e.length;l++)e[l]===`
`?(a++,i[a]=0):i[a]++;for(i[0]>0&&(this.insertCharStyleObject(s.lineIndex,s.charIndex,i[0],r),r=r&&r.slice(i[0]+1)),a&&this.insertNewlineStyleObject(s.lineIndex,s.charIndex+i[0],a),o=1;o<a;o++)i[o]>0?this.insertCharStyleObject(s.lineIndex+o,0,i[o],r):r&&this.styles[s.lineIndex+o]&&r[0]&&(this.styles[s.lineIndex+o][0]=r[0]),r=r&&r.slice(i[o]+1);i[o]>0&&this.insertCharStyleObject(s.lineIndex+o,0,i[o],r)}removeChars(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e+1;this.removeStyleFromTo(e,t),this._text.splice(e,t-e),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}insertChars(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:r;s>r&&this.removeStyleFromTo(r,s);const i=this.graphemeSplit(e);this.insertNewStyleBlock(i,r,t),this._text=[...this._text.slice(0,r),...i,...this._text.slice(s)],this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}setSelectionStartEndWithShift(e,t,r){r<=e?(t===e?this._selectionDirection=Le:this._selectionDirection===et&&(this._selectionDirection=Le,this.selectionEnd=e),this.selectionStart=r):r>e&&r<t?this._selectionDirection===et?this.selectionEnd=r:this.selectionStart=r:(t===e?this._selectionDirection=et:this._selectionDirection===Le&&(this._selectionDirection=et,this.selectionStart=t),this.selectionEnd=r)}}class UE extends HE{initHiddenTextarea(){const e=this.canvas&&_n(this.canvas.getElement())||ri(),t=e.createElement("textarea");Object.entries({autocapitalize:"off",autocorrect:"off",autocomplete:"off",spellcheck:"false","data-fabric":"textarea",wrap:"off"}).map(o=>{let[a,l]=o;return t.setAttribute(a,l)});const{top:r,left:s,fontSize:i}=this._calcTextareaPosition();t.style.cssText="position: absolute; top: ".concat(r,"; left: ").concat(s,"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(i,";"),(this.hiddenTextareaContainer||e.body).appendChild(t),Object.entries({blur:"blur",keydown:"onKeyDown",keyup:"onKeyUp",input:"onInput",copy:"copy",cut:"copy",paste:"paste",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate",compositionend:"onCompositionEnd"}).map(o=>{let[a,l]=o;return t.addEventListener(a,this[l].bind(this))}),this.hiddenTextarea=t}blur(){this.abortCursorAnimation()}onKeyDown(e){if(!this.isEditing)return;const t=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(e.keyCode in t)this[t[e.keyCode]](e);else{if(!(e.keyCode in this.ctrlKeysMapDown)||!e.ctrlKey&&!e.metaKey)return;this[this.ctrlKeysMapDown[e.keyCode]](e)}e.stopImmediatePropagation(),e.preventDefault(),e.keyCode>=33&&e.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}onKeyUp(e){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:e.keyCode in this.ctrlKeysMapUp&&(e.ctrlKey||e.metaKey)&&(this[this.ctrlKeysMapUp[e.keyCode]](e),e.stopImmediatePropagation(),e.preventDefault(),this.canvas&&this.canvas.requestRenderAll())}onInput(e){const t=this.fromPaste;if(this.fromPaste=!1,e&&e.stopPropagation(),!this.isEditing)return;const r=()=>{this.updateFromTextArea(),this.fire(Qa),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())};if(this.hiddenTextarea.value==="")return this.styles={},void r();const s=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,i=this._text.length,o=s.length,a=this.selectionStart,l=this.selectionEnd,u=a!==l;let c,h,d,f,p=o-i;const m=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),b=a>m.selectionStart;u?(h=this._text.slice(a,l),p+=l-a):o<i&&(h=b?this._text.slice(l+p,l):this._text.slice(a,a-p));const _=s.slice(m.selectionEnd-p,m.selectionEnd);if(h&&h.length&&(_.length&&(c=this.getSelectionStyles(a,a+1,!1),c=_.map(()=>c[0])),u?(d=a,f=l):b?(d=l-h.length,f=l):(d=l,f=l+h.length),this.removeStyleFromTo(d,f)),_.length){const{copyPasteData:S}=In();t&&_.join("")===S.copiedText&&!Pe.disableStyleCopyPaste&&(c=S.copiedTextStyle),this.insertNewStyleBlock(_,a,c)}r()}onCompositionStart(){this.inCompositionMode=!0}onCompositionEnd(){this.inCompositionMode=!1}onCompositionUpdate(e){let{target:t}=e;const{selectionStart:r,selectionEnd:s}=t;this.compositionStart=r,this.compositionEnd=s,this.updateTextareaPosition()}copy(){if(this.selectionStart===this.selectionEnd)return;const{copyPasteData:e}=In();e.copiedText=this.getSelectedText(),Pe.disableStyleCopyPaste?e.copiedTextStyle=void 0:e.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0}paste(){this.fromPaste=!0}_getWidthBeforeCursor(e,t){let r,s=this._getLineLeftOffset(e);return t>0&&(r=this.__charBounds[e][t-1],s+=r.left+r.width),s}getDownCursorOffset(e,t){const r=this._getSelectionForOffset(e,t),s=this.get2DCursorLocation(r),i=s.lineIndex;if(i===this._textLines.length-1||e.metaKey||e.keyCode===34)return this._text.length-r;const o=s.charIndex,a=this._getWidthBeforeCursor(i,o),l=this._getIndexOnLine(i+1,a);return this._textLines[i].slice(o).length+l+1+this.missingNewlineOffset(i)}_getSelectionForOffset(e,t){return e.shiftKey&&this.selectionStart!==this.selectionEnd&&t?this.selectionEnd:this.selectionStart}getUpCursorOffset(e,t){const r=this._getSelectionForOffset(e,t),s=this.get2DCursorLocation(r),i=s.lineIndex;if(i===0||e.metaKey||e.keyCode===33)return-r;const o=s.charIndex,a=this._getWidthBeforeCursor(i,o),l=this._getIndexOnLine(i-1,a),u=this._textLines[i].slice(0,o),c=this.missingNewlineOffset(i-1);return-this._textLines[i-1].length+l-u.length+(1-c)}_getIndexOnLine(e,t){const r=this._textLines[e];let s,i,o=this._getLineLeftOffset(e),a=0;for(let l=0,u=r.length;l<u;l++)if(s=this.__charBounds[e][l].width,o+=s,o>t){i=!0;const c=o-s,h=o,d=Math.abs(c-t);a=Math.abs(h-t)<d?l:l-1;break}return i||(a=r.length-1),a}moveCursorDown(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",e)}moveCursorUp(e){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",e)}_moveCursorUpOrDown(e,t){const r=this["get".concat(e,"CursorOffset")](t,this._selectionDirection===et);if(t.shiftKey?this.moveCursorWithShift(r):this.moveCursorWithoutShift(r),r!==0){const s=this.text.length;this.selectionStart=qs(0,this.selectionStart,s),this.selectionEnd=qs(0,this.selectionEnd,s),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}moveCursorWithShift(e){const t=this._selectionDirection===Le?this.selectionStart+e:this.selectionEnd+e;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,t),e!==0}moveCursorWithoutShift(e){return e<0?(this.selectionStart+=e,this.selectionEnd=this.selectionStart):(this.selectionEnd+=e,this.selectionStart=this.selectionEnd),e!==0}moveCursorLeft(e){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",e)}_move(e,t,r){let s;if(e.altKey)s=this["findWordBoundary".concat(r)](this[t]);else{if(!e.metaKey&&e.keyCode!==35&&e.keyCode!==36)return this[t]+=r==="Left"?-1:1,!0;s=this["findLineBoundary".concat(r)](this[t])}return s!==void 0&&this[t]!==s&&(this[t]=s,!0)}_moveLeft(e,t){return this._move(e,t,"Left")}_moveRight(e,t){return this._move(e,t,"Right")}moveCursorLeftWithoutShift(e){let t=!0;return this._selectionDirection=Le,this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(t=this._moveLeft(e,"selectionStart")),this.selectionEnd=this.selectionStart,t}moveCursorLeftWithShift(e){return this._selectionDirection===et&&this.selectionStart!==this.selectionEnd?this._moveLeft(e,"selectionEnd"):this.selectionStart!==0?(this._selectionDirection=Le,this._moveLeft(e,"selectionStart")):void 0}moveCursorRight(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",e)}_moveCursorLeftOrRight(e,t){const r="moveCursor".concat(e).concat(t.shiftKey?"WithShift":"WithoutShift");this._currentCursorOpacity=1,this[r](t)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}moveCursorRightWithShift(e){return this._selectionDirection===Le&&this.selectionStart!==this.selectionEnd?this._moveRight(e,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection=et,this._moveRight(e,"selectionEnd")):void 0}moveCursorRightWithoutShift(e){let t=!0;return this._selectionDirection=et,this.selectionStart===this.selectionEnd?(t=this._moveRight(e,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,t}}const kc=n=>!!n.button;class WE extends UE{constructor(){super(...arguments),P(this,"draggableTextDelegate",void 0)}initBehavior(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore),this.on("mouseup",this.mouseUpHandler),this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler),this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown),this.draggableTextDelegate=new VE(this),super.initBehavior()}shouldStartDragging(){return this.draggableTextDelegate.isActive()}onDragStart(e){return this.draggableTextDelegate.onDragStart(e)}canDrop(e){return this.draggableTextDelegate.canDrop(e)}onMouseDown(e){if(!this.canvas)return;this.__newClickTime=+new Date;const t=e.pointer;this.isTripleClick(t)&&(this.fire("tripleclick",e),fu(e.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=t,this.__lastSelected=this.selected&&!this.getActiveControl()}isTripleClick(e){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===e.x&&this.__lastPointer.y===e.y}doubleClickHandler(e){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(e.e))}tripleClickHandler(e){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(e.e))}_mouseDownHandler(e){let{e:t}=e;this.canvas&&this.editable&&!kc(t)&&!this.getActiveControl()&&(this.draggableTextDelegate.start(t)||(this.canvas.textEditingManager.register(this),this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(t)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection())))}_mouseDownHandlerBefore(e){let{e:t}=e;this.canvas&&this.editable&&!kc(t)&&(this.selected=this===this.canvas._activeObject)}mouseUpHandler(e){let{e:t,transform:r}=e;const s=this.draggableTextDelegate.end(t);if(this.canvas){this.canvas.textEditingManager.unregister(this);const i=this.canvas._activeObject;if(i&&i!==this)return}!this.editable||this.group&&!this.group.interactive||r&&r.actionPerformed||kc(t)||s||(this.__lastSelected&&!this.getActiveControl()?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(t),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0)}setCursorByClick(e){const t=this.getSelectionStartFromPointer(e),r=this.selectionStart,s=this.selectionEnd;e.shiftKey?this.setSelectionStartEndWithShift(r,s,t):(this.selectionStart=t,this.selectionEnd=t),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}getSelectionStartFromPointer(e){const t=this.canvas.getScenePoint(e).transform(wn(this.calcTransformMatrix())).add(new V(-this._getLeftOffset(),-this._getTopOffset()));let r=0,s=0,i=0;for(let u=0;u<this._textLines.length&&r<=t.y;u++)r+=this.getHeightOfLine(u),i=u,u>0&&(s+=this._textLines[u-1].length+this.missingNewlineOffset(u-1));let o=Math.abs(this._getLineLeftOffset(i));const a=this._textLines[i].length,l=this.__charBounds[i];for(let u=0;u<a;u++){const c=o+l[u].kernedWidth;if(t.x<=c){Math.abs(t.x-c)<=Math.abs(t.x-o)&&s++;break}o=c,s++}return Math.min(this.flipX?a-s:s,this._text.length)}}const ca="moveCursorUp",ua="moveCursorDown",ha="moveCursorLeft",da="moveCursorRight",fa="exitEditing",$E=F({selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:fa,27:fa,33:ca,34:ua,35:da,36:ha,37:ha,38:ca,39:da,40:ua},keysMapRtl:{9:fa,27:fa,33:ca,34:ua,35:ha,36:da,37:da,38:ca,39:ha,40:ua},ctrlKeysMapDown:{65:"selectAll"},ctrlKeysMapUp:{67:"copy",88:"cut"}},{_selectionDirection:null,_reSpace:/\s|\r?\n/,inCompositionMode:!1});class Yn extends WE{static getDefaults(){return F(F({},super.getDefaults()),Yn.ownDefaults)}get type(){const e=super.type;return e==="itext"?"i-text":e}constructor(e,t){super(e,F(F({},Yn.ownDefaults),t)),this.initBehavior()}_set(e,t){return this.isEditing&&this._savedProps&&e in this._savedProps?(this._savedProps[e]=t,this):(e==="canvas"&&(this.canvas instanceof Jf&&this.canvas.textEditingManager.remove(this),t instanceof Jf&&t.textEditingManager.add(this)),super._set(e,t))}setSelectionStart(e){e=Math.max(e,0),this._updateAndFire("selectionStart",e)}setSelectionEnd(e){e=Math.min(e,this.text.length),this._updateAndFire("selectionEnd",e)}_updateAndFire(e,t){this[e]!==t&&(this._fireSelectionChanged(),this[e]=t),this._updateTextarea()}_fireSelectionChanged(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})}initDimensions(){this.isEditing&&this.initDelayedCursor(),super.initDimensions()}getSelectionStyles(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart||0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionEnd,r=arguments.length>2?arguments[2]:void 0;return super.getSelectionStyles(e,t,r)}setSelectionStyles(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionStart||0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.selectionEnd;return super.setSelectionStyles(e,t,r)}get2DCursorLocation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,t=arguments.length>1?arguments[1]:void 0;return super.get2DCursorLocation(e,t)}render(e){super.render(e),this.cursorOffsetCache={},this.renderCursorOrSelection()}toCanvasElement(e){const t=this.isEditing;this.isEditing=!1;const r=super.toCanvasElement(e);return this.isEditing=t,r}renderCursorOrSelection(){if(!this.isEditing)return;const e=this.clearContextTop(!0);if(!e)return;const t=this._getCursorBoundaries();this.selectionStart===this.selectionEnd?this.renderCursor(e,t):this.renderSelection(e,t),this.canvas.contextTopDirty=!0,e.restore()}_getCursorBoundaries(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,t=arguments.length>1?arguments[1]:void 0;const r=this._getLeftOffset(),s=this._getTopOffset(),i=this._getCursorBoundariesOffsets(e,t);return{left:r,top:s,leftOffset:i.left,topOffset:i.top}}_getCursorBoundariesOffsets(e,t){return t?this.__getCursorBoundariesOffsets(e):this.cursorOffsetCache&&"top"in this.cursorOffsetCache?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(e)}__getCursorBoundariesOffsets(e){let t=0,r=0;const{charIndex:s,lineIndex:i}=this.get2DCursorLocation(e);for(let u=0;u<i;u++)t+=this.getHeightOfLine(u);const o=this._getLineLeftOffset(i),a=this.__charBounds[i][s];a&&(r=a.left),this.charSpacing!==0&&s===this._textLines[i].length&&(r-=this._getWidthOfCharSpacing());const l={top:t,left:o+(r>0?r:0)};return this.direction==="rtl"&&(this.textAlign===et||this.textAlign===Mn||this.textAlign===ao?l.left*=-1:this.textAlign===Le||this.textAlign===cl?l.left=o-(r>0?r:0):this.textAlign!==Ce&&this.textAlign!==lo||(l.left=o-(r>0?r:0))),l}renderCursorAt(e){const t=this._getCursorBoundaries(e,!0);this._renderCursor(this.canvas.contextTop,t,e)}renderCursor(e,t){this._renderCursor(e,t,this.selectionStart)}_renderCursor(e,t,r){const s=this.get2DCursorLocation(r),i=s.lineIndex,o=s.charIndex>0?s.charIndex-1:0,a=this.getValueOfPropertyAt(i,o,"fontSize"),l=this.getObjectScaling().x*this.canvas.getZoom(),u=this.cursorWidth/l,c=this.getValueOfPropertyAt(i,o,"deltaY"),h=t.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(i)/this.lineHeight-a*(1-this._fontSizeFraction);this.inCompositionMode&&this.renderSelection(e,t),e.fillStyle=this.cursorColor||this.getValueOfPropertyAt(i,o,it),e.globalAlpha=this._currentCursorOpacity,e.fillRect(t.left+t.leftOffset-u/2,h+t.top+c,u,a)}renderSelection(e,t){const r={selectionStart:this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,selectionEnd:this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd};this._renderSelection(e,r,t)}renderDragSourceEffect(){const e=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,e,this._getCursorBoundaries(e.selectionStart,!0))}renderDropTargetEffect(e){const t=this.getSelectionStartFromPointer(e);this.renderCursorAt(t)}_renderSelection(e,t,r){const s=t.selectionStart,i=t.selectionEnd,o=this.textAlign.includes(Mn),a=this.get2DCursorLocation(s),l=this.get2DCursorLocation(i),u=a.lineIndex,c=l.lineIndex,h=a.charIndex<0?0:a.charIndex,d=l.charIndex<0?0:l.charIndex;for(let f=u;f<=c;f++){const p=this._getLineLeftOffset(f)||0;let m=this.getHeightOfLine(f),b=0,_=0,S=0;if(f===u&&(_=this.__charBounds[u][h].left),f>=u&&f<c)S=o&&!this.isEndOfWrapping(f)?this.width:this.getLineWidth(f)||5;else if(f===c)if(d===0)S=this.__charBounds[c][d].left;else{const A=this._getWidthOfCharSpacing();S=this.__charBounds[c][d-1].left+this.__charBounds[c][d-1].width-A}b=m,(this.lineHeight<1||f===c&&this.lineHeight>1)&&(m/=this.lineHeight);let y=r.left+p+_,x=m,w=0;const R=S-_;this.inCompositionMode?(e.fillStyle=this.compositionColor||"black",x=1,w=m):e.fillStyle=this.selectionColor,this.direction==="rtl"&&(this.textAlign===et||this.textAlign===Mn||this.textAlign===ao?y=this.width-y-R:this.textAlign===Le||this.textAlign===cl?y=r.left+p-S:this.textAlign!==Ce&&this.textAlign!==lo||(y=r.left+p-S)),e.fillRect(y,r.top+r.topOffset+w,R,x),r.topOffset+=b}}getCurrentCharFontSize(){const e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,"fontSize")}getCurrentCharColor(){const e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,it)}_getCurrentCharIndex(){const e=this.get2DCursorLocation(this.selectionStart,!0),t=e.charIndex>0?e.charIndex-1:0;return{l:e.lineIndex,c:t}}dispose(){this._exitEditing(),this.draggableTextDelegate.dispose(),super.dispose()}}P(Yn,"ownDefaults",$E),P(Yn,"type","IText"),oe.setClass(Yn),oe.setClass(Yn,"i-text");class Yr extends Yn{static getDefaults(){return F(F({},super.getDefaults()),Yr.ownDefaults)}constructor(e,t){super(e,F(F({},Yr.ownDefaults),t))}static createControls(){return{controls:_O()}}initDimensions(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.includes(Mn)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}_generateStyleMap(e){let t=0,r=0,s=0;const i={};for(let o=0;o<e.graphemeLines.length;o++)e.graphemeText[s]===`
`&&o>0?(r=0,s++,t++):!this.splitByGrapheme&&this._reSpaceAndTab.test(e.graphemeText[s])&&o>0&&(r++,s++),i[o]={line:t,offset:r},s+=e.graphemeLines[o].length,r+=e.graphemeLines[o].length;return i}styleHas(e,t){if(this._styleMap&&!this.isWrapping){const r=this._styleMap[t];r&&(t=r.line)}return super.styleHas(e,t)}isEmptyStyles(e){if(!this.styles)return!0;let t,r=0,s=e+1,i=!1;const o=this._styleMap[e],a=this._styleMap[e+1];o&&(e=o.line,r=o.offset),a&&(s=a.line,i=s===e,t=a.offset);const l=e===void 0?this.styles:{line:this.styles[e]};for(const u in l)for(const c in l[u]){const h=parseInt(c,10);if(h>=r&&(!i||h<t))for(const d in l[u][c])return!1}return!0}_getStyleDeclaration(e,t){if(this._styleMap&&!this.isWrapping){const r=this._styleMap[e];if(!r)return{};e=r.line,t=r.offset+t}return super._getStyleDeclaration(e,t)}_setStyleDeclaration(e,t,r){const s=this._styleMap[e];super._setStyleDeclaration(s.line,s.offset+t,r)}_deleteStyleDeclaration(e,t){const r=this._styleMap[e];super._deleteStyleDeclaration(r.line,r.offset+t)}_getLineStyle(e){const t=this._styleMap[e];return!!this.styles[t.line]}_setLineStyle(e){const t=this._styleMap[e];super._setLineStyle(t.line)}_wrapText(e,t){this.isWrapping=!0;const r=this.getGraphemeDataForRender(e),s=[];for(let i=0;i<r.wordsData.length;i++)s.push(...this._wrapLine(i,t,r));return this.isWrapping=!1,s}getGraphemeDataForRender(e){const t=this.splitByGrapheme,r=t?"":" ";let s=0;return{wordsData:e.map((i,o)=>{let a=0;const l=t?this.graphemeSplit(i):this.wordSplit(i);return l.length===0?[{word:[],width:0}]:l.map(u=>{const c=t?[u]:this.graphemeSplit(u),h=this._measureWord(c,o,a);return s=Math.max(h,s),a+=c.length+r.length,{word:c,width:h}})}),largestWordWidth:s}}_measureWord(e,t){let r,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=0;for(let o=0,a=e.length;o<a;o++)i+=this._getGraphemeBox(e[o],t,o+s,r,!0).kernedWidth,r=e[o];return i}wordSplit(e){return e.split(this._wordJoiners)}_wrapLine(e,t,r){let{largestWordWidth:s,wordsData:i}=r,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;const a=this._getWidthOfCharSpacing(),l=this.splitByGrapheme,u=[],c=l?"":" ";let h=0,d=[],f=0,p=0,m=!0;t-=o;const b=Math.max(t,s,this.dynamicMinWidth),_=i[e];let S;for(f=0,S=0;S<_.length;S++){const{word:y,width:x}=_[S];f+=y.length,h+=p+x-a,h>b&&!m?(u.push(d),d=[],h=x,m=!0):h+=a,m||l||d.push(c),d=d.concat(y),p=l?0:this._measureWord([c],e,f),f++,m=!1}return S&&u.push(d),s+o>this.dynamicMinWidth&&(this.dynamicMinWidth=s-a+o),u}isEndOfWrapping(e){return!this._styleMap[e+1]||this._styleMap[e+1].line!==this._styleMap[e].line}missingNewlineOffset(e,t){return this.splitByGrapheme&&!t?this.isEndOfWrapping(e)?1:0:1}_splitTextIntoLines(e){const t=super._splitTextIntoLines(e),r=this._wrapText(t.lines,this.width),s=new Array(r.length);for(let i=0;i<r.length;i++)s[i]=r[i].join("");return t.lines=s,t.graphemeLines=r,t}getMinWidth(){return Math.max(this.minWidth,this.dynamicMinWidth)}_removeExtraneousStyles(){const e=new Map;for(const t in this._styleMap){const r=parseInt(t,10);if(this._textLines[r]){const s=this._styleMap[t].line;e.set("".concat(s),!0)}}for(const t in this.styles)e.has(t)||delete this.styles[t]}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject(["minWidth","splitByGrapheme",...e])}}P(Yr,"type","Textbox"),P(Yr,"textLayoutProperties",[...Yn.textLayoutProperties,"width"]),P(Yr,"ownDefaults",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \t\r]/,splitByGrapheme:!1}),oe.setClass(Yr);class Qf extends $l{shouldPerformLayout(e){return!!e.target.clipPath&&super.shouldPerformLayout(e)}shouldLayoutClipPath(){return!1}calcLayoutResult(e,t){const{target:r}=e,{clipPath:s,group:i}=r;if(!s||!this.shouldPerformLayout(e))return;const{width:o,height:a}=qn(Kv(r,s)),l=new V(o,a);if(s.absolutePositioned)return{center:Hs(s.getRelativeCenterPoint(),void 0,i?i.calcTransformMatrix():void 0),size:l};{const u=s.getRelativeCenterPoint().transform(r.calcOwnMatrix(),!0);if(this.shouldPerformLayout(e)){const{center:c=new V,correction:h=new V}=this.calcBoundingBox(t,e)||{};return{center:c.add(u),correction:h.subtract(u),size:l}}return{center:r.getRelativeCenterPoint().add(u),size:l}}}}P(Qf,"type","clip-path"),oe.setClass(Qf);class ep extends $l{getInitialSize(e,t){let{target:r}=e,{size:s}=t;return new V(r.width||s.x,r.height||s.y)}}P(ep,"type","fixed"),oe.setClass(ep);class zE extends Eo{subscribeTargets(e){const t=e.target;e.targets.reduce((r,s)=>(s.parent&&r.add(s.parent),r),new Set).forEach(r=>{r.layoutManager.subscribeTargets({target:r,targets:[t]})})}unsubscribeTargets(e){const t=e.target,r=t.getObjects();e.targets.reduce((s,i)=>(i.parent&&s.add(i.parent),s),new Set).forEach(s=>{!r.some(i=>i.parent===s)&&s.layoutManager.unsubscribeTargets({target:s,targets:[t]})})}}class Kr extends ss{static getDefaults(){return F(F({},super.getDefaults()),Kr.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,Kr.ownDefaults),this.setOptions(t);const{left:r,top:s,layoutManager:i}=t;this.groupInit(e,{left:r,top:s,layoutManager:i??new zE})}_shouldSetNestedCoords(){return!0}__objectSelectionMonitor(){}multiSelectAdd(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.multiSelectionStacking==="selection-order"?this.add(...t):t.forEach(s=>{const i=this._objects.findIndex(a=>a.isInFrontOf(s)),o=i===-1?this.size():i;this.insertAt(o,s)})}canEnterGroup(e){return this.getObjects().some(t=>t.isDescendantOf(e)||e.isDescendantOf(t))?(Ar("error","ActiveSelection: circular object trees are not supported, this call has no effect"),!1):super.canEnterGroup(e)}enterGroup(e,t){e.parent&&e.parent===e.group?e.parent._exitGroup(e):e.group&&e.parent!==e.group&&e.group.remove(e),this._enterGroup(e,t)}exitGroup(e,t){this._exitGroup(e,t),e.parent&&e.parent._enterGroup(e,!0)}_onAfterObjectsChange(e,t){super._onAfterObjectsChange(e,t);const r=new Set;t.forEach(s=>{const{parent:i}=s;i&&r.add(i)}),e===Fh?r.forEach(s=>{s._onAfterObjectsChange(ol,t)}):r.forEach(s=>{s._set("dirty",!0)})}onDeselect(){return this.removeAll(),!1}toString(){return"#<ActiveSelection: (".concat(this.complexity(),")>")}shouldCache(){return!1}isOnACache(){return!1}_renderControls(e,t,r){e.save(),e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;const s=F(F({hasControls:!1},r),{},{forActiveSelection:!0});for(let i=0;i<this._objects.length;i++)this._objects[i]._renderControls(e,s);super._renderControls(e,t),e.restore()}}P(Kr,"type","ActiveSelection"),P(Kr,"ownDefaults",{multiSelectionStacking:"canvas-stacking"}),oe.setClass(Kr),oe.setClass(Kr,"activeSelection");class XE{constructor(){P(this,"resources",{})}applyFilters(e,t,r,s,i){const o=i.getContext("2d");if(!o)return;o.drawImage(t,0,0,r,s);const a={sourceWidth:r,sourceHeight:s,imageData:o.getImageData(0,0,r,s),originalEl:t,originalImageData:o.getImageData(0,0,r,s),canvasEl:i,ctx:o,filterBackend:this};e.forEach(u=>{u.applyTo(a)});const{imageData:l}=a;return l.width===r&&l.height===s||(i.width=l.width,i.height=l.height),o.putImageData(l,0,0),a}}class gy{constructor(){let{tileSize:e=Pe.textureSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};P(this,"aPosition",new Float32Array([0,0,0,1,1,0,1,1])),P(this,"resources",{}),this.tileSize=e,this.setupGLContext(e,e),this.captureGPUInfo()}setupGLContext(e,t){this.dispose(),this.createWebGLCanvas(e,t)}createWebGLCanvas(e,t){const r=ht();r.width=e,r.height=t;const s=r.getContext("webgl",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});s&&(s.clearColor(0,0,0,0),this.canvas=r,this.gl=s)}applyFilters(e,t,r,s,i,o){const a=this.gl,l=i.getContext("2d");if(!a||!l)return;let u;o&&(u=this.getCachedTexture(o,t));const c={originalWidth:t.width||t.originalWidth||0,originalHeight:t.height||t.originalHeight||0,sourceWidth:r,sourceHeight:s,destinationWidth:r,destinationHeight:s,context:a,sourceTexture:this.createTexture(a,r,s,u?void 0:t),targetTexture:this.createTexture(a,r,s),originalTexture:u||this.createTexture(a,r,s,u?void 0:t),passes:e.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:i},h=a.createFramebuffer();return a.bindFramebuffer(a.FRAMEBUFFER,h),e.forEach(d=>{d&&d.applyTo(c)}),function(d){const f=d.targetCanvas,p=f.width,m=f.height,b=d.destinationWidth,_=d.destinationHeight;p===b&&m===_||(f.width=b,f.height=_)}(c),this.copyGLTo2D(a,c),a.bindTexture(a.TEXTURE_2D,null),a.deleteTexture(c.sourceTexture),a.deleteTexture(c.targetTexture),a.deleteFramebuffer(h),l.setTransform(1,0,0,1,0,0),c}dispose(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}clearWebGLCaches(){this.programCache={},this.textureCache={}}createTexture(e,t,r,s,i){const{NEAREST:o,TEXTURE_2D:a,RGBA:l,UNSIGNED_BYTE:u,CLAMP_TO_EDGE:c,TEXTURE_MAG_FILTER:h,TEXTURE_MIN_FILTER:d,TEXTURE_WRAP_S:f,TEXTURE_WRAP_T:p}=e,m=e.createTexture();return e.bindTexture(a,m),e.texParameteri(a,h,i||o),e.texParameteri(a,d,i||o),e.texParameteri(a,f,c),e.texParameteri(a,p,c),s?e.texImage2D(a,0,l,l,u,s):e.texImage2D(a,0,l,t,r,0,l,u,null),m}getCachedTexture(e,t,r){const{textureCache:s}=this;if(s[e])return s[e];{const i=this.createTexture(this.gl,t.width,t.height,t,r);return i&&(s[e]=i),i}}evictCachesForKey(e){this.textureCache[e]&&(this.gl.deleteTexture(this.textureCache[e]),delete this.textureCache[e])}copyGLTo2D(e,t){const r=e.canvas,s=t.targetCanvas,i=s.getContext("2d");if(!i)return;i.translate(0,s.height),i.scale(1,-1);const o=r.height-s.height;i.drawImage(r,0,o,s.width,s.height,0,0,s.width,s.height)}copyGLTo2DPutImageData(e,t){const r=t.targetCanvas.getContext("2d"),s=t.destinationWidth,i=t.destinationHeight,o=s*i*4;if(!r)return;const a=new Uint8Array(this.imageBuffer,0,o),l=new Uint8ClampedArray(this.imageBuffer,0,o);e.readPixels(0,0,s,i,e.RGBA,e.UNSIGNED_BYTE,a);const u=new ImageData(l,s,i);r.putImageData(u,0,0)}captureGPUInfo(){if(this.gpuInfo)return this.gpuInfo;const e=this.gl,t={renderer:"",vendor:""};if(!e)return t;const r=e.getExtension("WEBGL_debug_renderer_info");if(r){const s=e.getParameter(r.UNMASKED_RENDERER_WEBGL),i=e.getParameter(r.UNMASKED_VENDOR_WEBGL);s&&(t.renderer=s.toLowerCase()),i&&(t.vendor=i.toLowerCase())}return this.gpuInfo=t,t}}let Ac;function GE(){const{WebGLProbe:n}=In();return n.queryWebGL(ht()),Pe.enableGLFiltering&&n.isSupported(Pe.textureSize)?new gy({tileSize:Pe.textureSize}):new XE}function Dc(){return!Ac&&(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])&&(Ac=GE()),Ac}const YE=["filters","resizeFilter","src","crossOrigin","type"],my=["cropX","cropY"];class tn extends St{static getDefaults(){return F(F({},super.getDefaults()),tn.ownDefaults)}constructor(e,t){super(),P(this,"_lastScaleX",1),P(this,"_lastScaleY",1),P(this,"_filterScalingX",1),P(this,"_filterScalingY",1),this.filters=[],Object.assign(this,tn.ownDefaults),this.setOptions(t),this.cacheKey="texture".concat(Dr()),this.setElement(typeof e=="string"?(this.canvas&&_n(this.canvas.getElement())||ri()).getElementById(e):e,t)}getElement(){return this._element}setElement(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._element=e,this._originalElement=e,this._setWidthHeight(t),e.classList.add(tn.CSS_CANVAS),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}removeTexture(e){const t=Dc(!1);t instanceof gy&&t.evictCachesForKey(e)}dispose(){super.dispose(),this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._cacheContext=null,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(e=>{const t=this[e];t&&In().dispose(t),this[e]=void 0})}getCrossOrigin(){return this._originalElement&&(this._originalElement.crossOrigin||null)}getOriginalSize(){const e=this.getElement();return e?{width:e.naturalWidth||e.width,height:e.naturalHeight||e.height}:{width:0,height:0}}_stroke(e){if(!this.stroke||this.strokeWidth===0)return;const t=this.width/2,r=this.height/2;e.beginPath(),e.moveTo(-t,-r),e.lineTo(t,-r),e.lineTo(t,r),e.lineTo(-t,r),e.lineTo(-t,-r),e.closePath()}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=[];return this.filters.forEach(r=>{r&&t.push(r.toObject())}),F(F({},super.toObject([...my,...e])),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:t},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}hasCrop(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}_toSVG(){const e=[],t=this._element,r=-this.width/2,s=-this.height/2;let i=[],o=[],a="",l="";if(!t)return[];if(this.hasCrop()){const u=Dr();i.push('<clipPath id="imageCrop_'+u+`">
`,'	<rect x="'+r+'" y="'+s+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),a=' clip-path="url(#imageCrop_'+u+')" '}if(this.imageSmoothing||(l=' image-rendering="optimizeSpeed"'),e.push("	<image ","COMMON_PARTS",'xlink:href="'.concat(this.getSvgSrc(!0),'" x="').concat(r-this.cropX,'" y="').concat(s-this.cropY,'" width="').concat(t.width||t.naturalWidth,'" height="').concat(t.height||t.naturalHeight,'"').concat(l).concat(a,`></image>
`)),this.stroke||this.strokeDashArray){const u=this.fill;this.fill=null,o=['	<rect x="'.concat(r,'" y="').concat(s,'" width="').concat(this.width,'" height="').concat(this.height,'" style="').concat(this.getSvgStyles(),`" />
`)],this.fill=u}return i=this.paintFirst!==it?i.concat(o,e):i.concat(e,o),i}getSrc(e){const t=e?this._element:this._originalElement;return t?t.toDataURL?t.toDataURL():this.srcFromAttribute?t.getAttribute("src")||"":t.src:this.src||""}getSvgSrc(e){return this.getSrc(e)}setSrc(e){let{crossOrigin:t,signal:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Ca(e,{crossOrigin:t,signal:r}).then(s=>{t!==void 0&&this.set({crossOrigin:t}),this.setElement(s)})}toString(){return'#<Image: { src: "'.concat(this.getSrc(),'" }>')}applyResizeFilters(){const e=this.resizeFilter,t=this.minimumScaleTrigger,r=this.getTotalObjectScaling(),s=r.x,i=r.y,o=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!e||s>t&&i>t)return this._element=o,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=s,void(this._lastScaleY=i);const a=ht(),l=o.width,u=o.height;a.width=l,a.height=u,this._element=a,this._lastScaleX=e.scaleX=s,this._lastScaleY=e.scaleY=i,Dc().applyFilters([e],o,l,u,this._element),this._filterScalingX=a.width/this._originalElement.width,this._filterScalingY=a.height/this._originalElement.height}applyFilters(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.filters||[];if(e=e.filter(i=>i&&!i.isNeutralState()),this.set("dirty",!0),this.removeTexture("".concat(this.cacheKey,"_filtered")),e.length===0)return this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,void(this._filterScalingY=1);const t=this._originalElement,r=t.naturalWidth||t.width,s=t.naturalHeight||t.height;if(this._element===this._originalElement){const i=ht();i.width=r,i.height=s,this._element=i,this._filteredEl=i}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,r,s),this._lastScaleX=1,this._lastScaleY=1);Dc().applyFilters(e,this._originalElement,r,s,this._element),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}_render(e){e.imageSmoothingEnabled=this.imageSmoothing,this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(e),this._renderPaintInOrder(e)}drawCacheOnCanvas(e){e.imageSmoothingEnabled=this.imageSmoothing,super.drawCacheOnCanvas(e)}shouldCache(){return this.needsItsOwnCache()}_renderFill(e){const t=this._element;if(!t)return;const r=this._filterScalingX,s=this._filterScalingY,i=this.width,o=this.height,a=Math.max(this.cropX,0),l=Math.max(this.cropY,0),u=t.naturalWidth||t.width,c=t.naturalHeight||t.height,h=a*r,d=l*s,f=Math.min(i*r,u-h),p=Math.min(o*s,c-d),m=-i/2,b=-o/2,_=Math.min(i,u/r-a),S=Math.min(o,c/s-l);t&&e.drawImage(t,h,d,f,p,m,b,_,S)}_needsResize(){const e=this.getTotalObjectScaling();return e.x!==this._lastScaleX||e.y!==this._lastScaleY}_resetWidthHeight(){this.set(this.getOriginalSize())}_setWidthHeight(){let{width:e,height:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=this.getOriginalSize();this.width=e||r.width,this.height=t||r.height}parsePreserveAspectRatioAttribute(){const e=DT(this.preserveAspectRatio||""),t=this.width,r=this.height,s={width:t,height:r};let i,o=this._element.width,a=this._element.height,l=1,u=1,c=0,h=0,d=0,f=0;return!e||e.alignX===Xt&&e.alignY===Xt?(l=t/o,u=r/a):(e.meetOrSlice==="meet"&&(l=u=QO(this._element,s),i=(t-o*l)/2,e.alignX==="Min"&&(c=-i),e.alignX==="Max"&&(c=i),i=(r-a*u)/2,e.alignY==="Min"&&(h=-i),e.alignY==="Max"&&(h=i)),e.meetOrSlice==="slice"&&(l=u=eE(this._element,s),i=o-t/l,e.alignX==="Mid"&&(d=i/2),e.alignX==="Max"&&(d=i),i=a-r/u,e.alignY==="Mid"&&(f=i/2),e.alignY==="Max"&&(f=i),o=t/l,a=r/u)),{width:o,height:a,scaleX:l,scaleY:u,offsetLeft:c,offsetTop:h,cropX:d,cropY:f}}static fromObject(e,t){let{filters:r,resizeFilter:s,src:i,crossOrigin:o,type:a}=e,l=Ke(e,YE);return Promise.all([Ca(i,F(F({},t),{},{crossOrigin:o})),r&&Co(r,t),s&&Co([s],t),Vl(l,t)]).then(u=>{let[c,h=[],[d]=[],f={}]=u;return new this(c,F(F({},l),{},{src:i,filters:h,resizeFilter:d},f))})}static fromURL(e){let{crossOrigin:t=null,signal:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0;return Ca(e,{crossOrigin:t,signal:r}).then(i=>new this(i,s))}static async fromElement(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;const s=ir(e,this.ATTRIBUTE_NAMES,r);return this.fromURL(s["xlink:href"],t,s).catch(i=>(Ar("log","Unable to parse Image",i),null))}}P(tn,"type","Image"),P(tn,"cacheProperties",[...sr,...my]),P(tn,"ownDefaults",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:.5,cropX:0,cropY:0,imageSmoothing:!0}),P(tn,"CSS_CANVAS","canvas-img"),P(tn,"ATTRIBUTE_NAMES",[...jr,"x","y","width","height","preserveAspectRatio","xlink:href","crossOrigin","image-rendering"]),oe.setClass(tn),oe.setSVGClass(tn);Ul(["pattern","defs","symbol","metadata","clipPath","mask","desc"]);const Xl=n=>n.webgl!==void 0,Lh="precision highp float",KE=`
    `.concat(Lh,`;
    varying vec2 vTexCoord;
    uniform sampler2D uTexture;
    void main() {
      gl_FragColor = texture2D(uTexture, vTexCoord);
    }`),qE=["type"],JE=["type"],ZE=new RegExp(Lh,"g");class ot{get type(){return this.constructor.type}constructor(){let e=Ke(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},qE);Object.assign(this,this.constructor.defaults,e)}getFragmentSource(){return KE}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    void main() {
      vTexCoord = aPosition;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }`}createProgram(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getFragmentSource(),r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getVertexSource();const{WebGLProbe:{GLPrecision:s="highp"}}=In();s!=="highp"&&(t=t.replace(ZE,Lh.replace("highp",s)));const i=e.createShader(e.VERTEX_SHADER),o=e.createShader(e.FRAGMENT_SHADER),a=e.createProgram();if(!i||!o||!a)throw new Rn("Vertex, fragment shader or program creation error");if(e.shaderSource(i,r),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS))throw new Rn("Vertex shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(i)));if(e.shaderSource(o,t),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS))throw new Rn("Fragment shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(o)));if(e.attachShader(a,i),e.attachShader(a,o),e.linkProgram(a),!e.getProgramParameter(a,e.LINK_STATUS))throw new Rn('Shader link error for "'.concat(this.type,'" ').concat(e.getProgramInfoLog(a)));const l=this.getUniformLocations(e,a)||{};return l.uStepW=e.getUniformLocation(a,"uStepW"),l.uStepH=e.getUniformLocation(a,"uStepH"),{program:a,attributeLocations:this.getAttributeLocations(e,a),uniformLocations:l}}getAttributeLocations(e,t){return{aPosition:e.getAttribLocation(t,"aPosition")}}getUniformLocations(e,t){const r=this.constructor.uniformLocations,s={};for(let i=0;i<r.length;i++)s[r[i]]=e.getUniformLocation(t,r[i]);return s}sendAttributeData(e,t,r){const s=t.aPosition,i=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,i),e.enableVertexAttribArray(s),e.vertexAttribPointer(s,2,e.FLOAT,!1,0,0),e.bufferData(e.ARRAY_BUFFER,r,e.STATIC_DRAW)}_setupFrameBuffer(e){const t=e.context;if(e.passes>1){const r=e.destinationWidth,s=e.destinationHeight;e.sourceWidth===r&&e.sourceHeight===s||(t.deleteTexture(e.targetTexture),e.targetTexture=e.filterBackend.createTexture(t,r,s)),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e.targetTexture,0)}else t.bindFramebuffer(t.FRAMEBUFFER,null),t.finish()}_swapTextures(e){e.passes--,e.pass++;const t=e.targetTexture;e.targetTexture=e.sourceTexture,e.sourceTexture=t}isNeutralState(e){return!1}applyTo(e){Xl(e)?(this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}applyTo2d(e){}getCacheKey(){return this.type}retrieveShader(e){const t=this.getCacheKey();return e.programCache[t]||(e.programCache[t]=this.createProgram(e.context)),e.programCache[t]}applyToWebGL(e){const t=e.context,r=this.retrieveShader(e);e.pass===0&&e.originalTexture?t.bindTexture(t.TEXTURE_2D,e.originalTexture):t.bindTexture(t.TEXTURE_2D,e.sourceTexture),t.useProgram(r.program),this.sendAttributeData(t,r.attributeLocations,e.aPosition),t.uniform1f(r.uniformLocations.uStepW,1/e.sourceWidth),t.uniform1f(r.uniformLocations.uStepH,1/e.sourceHeight),this.sendUniformData(t,r.uniformLocations),t.viewport(0,0,e.destinationWidth,e.destinationHeight),t.drawArrays(t.TRIANGLE_STRIP,0,4)}bindAdditionalTexture(e,t,r){e.activeTexture(r),e.bindTexture(e.TEXTURE_2D,t),e.activeTexture(e.TEXTURE0)}unbindAdditionalTexture(e,t){e.activeTexture(t),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE0)}sendUniformData(e,t){}createHelpLayer(e){if(!e.helpLayer){const t=ht();t.width=e.sourceWidth,t.height=e.sourceHeight,e.helpLayer=t}}toObject(){const e=Object.keys(this.constructor.defaults||{});return F({type:this.type},e.reduce((t,r)=>(t[r]=this[r],t),{}))}toJSON(){return this.toObject()}static async fromObject(e,t){return new this(Ke(e,JE))}}P(ot,"type","BaseFilter"),P(ot,"uniformLocations",[]);const QE={multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,difference:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`
    if (uColor.r < 0.5) {
      gl_FragColor.r *= 2.0 * uColor.r;
    } else {
      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
    }
    if (uColor.g < 0.5) {
      gl_FragColor.g *= 2.0 * uColor.g;
    } else {
      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
    }
    if (uColor.b < 0.5) {
      gl_FragColor.b *= 2.0 * uColor.b;
    } else {
      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
    }
    `,tint:`
    gl_FragColor.rgb *= (1.0 - uColor.a);
    gl_FragColor.rgb += uColor.rgb;
    `};class Ei extends ot{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec4 uColor;
      varying vec2 vTexCoord;
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        gl_FragColor = color;
        if (color.a > 0.0) {
          `.concat(QE[this.mode],`
        }
      }
      `)}applyTo2d(e){let{imageData:{data:t}}=e;const r=new Be(this.color).getSource(),s=r[0]*this.alpha,i=r[1]*this.alpha,o=r[2]*this.alpha,a=1-this.alpha;for(let l=0;l<t.length;l+=4){const u=t[l],c=t[l+1],h=t[l+2];switch(this.mode){case"multiply":t[l]=u*s/255,t[l+1]=c*i/255,t[l+2]=h*o/255;break;case"screen":t[l]=255-(255-u)*(255-s)/255,t[l+1]=255-(255-c)*(255-i)/255,t[l+2]=255-(255-h)*(255-o)/255;break;case"add":t[l]=u+s,t[l+1]=c+i,t[l+2]=h+o;break;case"difference":t[l]=Math.abs(u-s),t[l+1]=Math.abs(c-i),t[l+2]=Math.abs(h-o);break;case"subtract":t[l]=u-s,t[l+1]=c-i,t[l+2]=h-o;break;case"darken":t[l]=Math.min(u,s),t[l+1]=Math.min(c,i),t[l+2]=Math.min(h,o);break;case"lighten":t[l]=Math.max(u,s),t[l+1]=Math.max(c,i),t[l+2]=Math.max(h,o);break;case"overlay":t[l]=s<128?2*u*s/255:255-2*(255-u)*(255-s)/255,t[l+1]=i<128?2*c*i/255:255-2*(255-c)*(255-i)/255,t[l+2]=o<128?2*h*o/255:255-2*(255-h)*(255-o)/255;break;case"exclusion":t[l]=s+u-2*s*u/255,t[l+1]=i+c-2*i*c/255,t[l+2]=o+h-2*o*h/255;break;case"tint":t[l]=s+u*a,t[l+1]=i+c*a,t[l+2]=o+h*a}}}sendUniformData(e,t){const r=new Be(this.color).getSource();r[0]=this.alpha*r[0]/255,r[1]=this.alpha*r[1]/255,r[2]=this.alpha*r[2]/255,r[3]=this.alpha,e.uniform4fv(t.uColor,r)}}P(Ei,"defaults",{color:"#F95C63",mode:"multiply",alpha:1}),P(Ei,"type","BlendColor"),P(Ei,"uniformLocations",["uColor"]),oe.setClass(Ei);const ek={multiply:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.rgba *= color2.rgba;
      gl_FragColor = color;
    }
    `,mask:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.a = color2.a;
      gl_FragColor = color;
    }
    `},tk=["type","image"];class ki extends ot{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return ek[this.mode]}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    uniform mat3 uTransformMatrix;
    void main() {
      vTexCoord = aPosition;
      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }
    `}applyToWebGL(e){const t=e.context,r=this.createTexture(e.filterBackend,this.image);this.bindAdditionalTexture(t,r,t.TEXTURE1),super.applyToWebGL(e),this.unbindAdditionalTexture(t,t.TEXTURE1)}createTexture(e,t){return e.getCachedTexture(t.cacheKey,t.getElement())}calculateMatrix(){const e=this.image,{width:t,height:r}=e.getElement();return[1/e.scaleX,0,0,0,1/e.scaleY,0,-e.left/t,-e.top/r,1]}applyTo2d(e){let{imageData:{data:t,width:r,height:s},filterBackend:{resources:i}}=e;const o=this.image;i.blendImage||(i.blendImage=ht());const a=i.blendImage,l=a.getContext("2d");a.width!==r||a.height!==s?(a.width=r,a.height=s):l.clearRect(0,0,r,s),l.setTransform(o.scaleX,0,0,o.scaleY,o.left,o.top),l.drawImage(o.getElement(),0,0,r,s);const u=l.getImageData(0,0,r,s).data;for(let c=0;c<t.length;c+=4){const h=t[c],d=t[c+1],f=t[c+2],p=t[c+3],m=u[c],b=u[c+1],_=u[c+2],S=u[c+3];switch(this.mode){case"multiply":t[c]=h*m/255,t[c+1]=d*b/255,t[c+2]=f*_/255,t[c+3]=p*S/255;break;case"mask":t[c+3]=S}}}sendUniformData(e,t){const r=this.calculateMatrix();e.uniform1i(t.uImage,1),e.uniformMatrix3fv(t.uTransformMatrix,!1,r)}toObject(){return F(F({},super.toObject()),{},{image:this.image&&this.image.toObject()})}static async fromObject(e,t){let{type:r,image:s}=e,i=Ke(e,tk);return tn.fromObject(s,t).then(o=>new this(F(F({},i),{},{image:o})))}}P(ki,"type","BlendImage"),P(ki,"defaults",{mode:"multiply",alpha:1}),P(ki,"uniformLocations",["uTransformMatrix","uImage"]),oe.setClass(ki);class Ai extends ot{getFragmentSource(){return`
    precision highp float;
    uniform sampler2D uTexture;
    uniform vec2 uDelta;
    varying vec2 vTexCoord;
    const float nSamples = 15.0;
    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
    float random(vec3 scale) {
      /* use the fragment position for a different seed per-pixel */
      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
    }
    void main() {
      vec4 color = vec4(0.0);
      float total = 0.0;
      float offset = random(v3offset);
      for (float t = -nSamples; t <= nSamples; t++) {
        float percent = (t + offset - 0.5) / nSamples;
        float weight = 1.0 - abs(percent);
        color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
        total += weight;
      }
      gl_FragColor = color / total;
    }
  `}applyTo(e){Xl(e)?(this.aspectRatio=e.sourceWidth/e.sourceHeight,e.passes++,this._setupFrameBuffer(e),this.horizontal=!0,this.applyToWebGL(e),this._swapTextures(e),this._setupFrameBuffer(e),this.horizontal=!1,this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}applyTo2d(e){e.imageData=this.simpleBlur(e)}simpleBlur(e){let{ctx:t,imageData:r,filterBackend:{resources:s}}=e;const{width:i,height:o}=r;s.blurLayer1||(s.blurLayer1=ht(),s.blurLayer2=ht());const a=s.blurLayer1,l=s.blurLayer2;a.width===i&&a.height===o||(l.width=a.width=i,l.height=a.height=o);const u=a.getContext("2d"),c=l.getContext("2d"),h=15,d=.06*this.blur*.5;let f,p,m,b;for(u.putImageData(r,0,0),c.clearRect(0,0,i,o),b=-15;b<=h;b++)f=(Math.random()-.5)/4,p=b/h,m=d*p*i+f,c.globalAlpha=1-Math.abs(p),c.drawImage(a,m,f),u.drawImage(l,0,0),c.globalAlpha=1,c.clearRect(0,0,l.width,l.height);for(b=-15;b<=h;b++)f=(Math.random()-.5)/4,p=b/h,m=d*p*o+f,c.globalAlpha=1-Math.abs(p),c.drawImage(a,f,m),u.drawImage(l,0,0),c.globalAlpha=1,c.clearRect(0,0,l.width,l.height);t.drawImage(a,0,0);const _=t.getImageData(0,0,a.width,a.height);return u.globalAlpha=1,u.clearRect(0,0,a.width,a.height),_}sendUniformData(e,t){const r=this.chooseRightDelta();e.uniform2fv(t.uDelta,r)}isNeutralState(){return this.blur===0}chooseRightDelta(){let e=1;const t=[0,0];this.horizontal?this.aspectRatio>1&&(e=1/this.aspectRatio):this.aspectRatio<1&&(e=this.aspectRatio);const r=e*this.blur*.12;return this.horizontal?t[0]=r:t[1]=r,t}}P(Ai,"type","Blur"),P(Ai,"defaults",{blur:0}),P(Ai,"uniformLocations",["uDelta"]),oe.setClass(Ai);class Di extends ot{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBrightness;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += uBrightness;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:t}}=e;const r=Math.round(255*this.brightness);for(let s=0;s<t.length;s+=4)t[s]=t[s]+r,t[s+1]=t[s+1]+r,t[s+2]=t[s+2]+r}isNeutralState(){return this.brightness===0}sendUniformData(e,t){e.uniform1f(t.uBrightness,this.brightness)}}P(Di,"type","Brightness"),P(Di,"defaults",{brightness:0}),P(Di,"uniformLocations",["uBrightness"]),oe.setClass(Di);class qr extends ot{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  varying vec2 vTexCoord;
  uniform mat4 uColorMatrix;
  uniform vec4 uConstants;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color *= uColorMatrix;
    color += uConstants;
    gl_FragColor = color;
  }`}applyTo2d(e){const t=e.imageData.data,r=this.matrix,s=this.colorsOnly;for(let i=0;i<t.length;i+=4){const o=t[i],a=t[i+1],l=t[i+2];if(s)t[i]=o*r[0]+a*r[1]+l*r[2]+255*r[4],t[i+1]=o*r[5]+a*r[6]+l*r[7]+255*r[9],t[i+2]=o*r[10]+a*r[11]+l*r[12]+255*r[14];else{const u=t[i+3];t[i]=o*r[0]+a*r[1]+l*r[2]+u*r[3]+255*r[4],t[i+1]=o*r[5]+a*r[6]+l*r[7]+u*r[8]+255*r[9],t[i+2]=o*r[10]+a*r[11]+l*r[12]+u*r[13]+255*r[14],t[i+3]=o*r[15]+a*r[16]+l*r[17]+u*r[18]+255*r[19]}}}sendUniformData(e,t){const r=this.matrix,s=[r[0],r[1],r[2],r[3],r[5],r[6],r[7],r[8],r[10],r[11],r[12],r[13],r[15],r[16],r[17],r[18]],i=[r[4],r[9],r[14],r[19]];e.uniformMatrix4fv(t.uColorMatrix,!1,s),e.uniform4fv(t.uConstants,i)}toObject(){return F(F({},super.toObject()),{},{matrix:[...this.matrix]})}}function ms(n,e){var t;const r=(P(t=class extends qr{toObject(){return{type:this.type,colorsOnly:this.colorsOnly}}},"type",n),P(t,"defaults",{colorsOnly:!1,matrix:e}),t);return oe.setClass(r,n),r}P(qr,"type","ColorMatrix"),P(qr,"defaults",{matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0}),P(qr,"uniformLocations",["uColorMatrix","uConstants"]),oe.setClass(qr);const nk=ms("Brownie",[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0]),rk=ms("Vintage",[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0]),sk=ms("Kodachrome",[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0]),ik=ms("Technicolor",[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0]),ok=ms("Polaroid",[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0]),ak=ms("Sepia",[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0]),lk=ms("BlackWhite",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]);class Su extends ot{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.subFilters=e.subFilters||[]}applyTo(e){Xl(e)&&(e.passes+=this.subFilters.length-1),this.subFilters.forEach(t=>{t.applyTo(e)})}toObject(){return{type:this.type,subFilters:this.subFilters.map(e=>e.toObject())}}isNeutralState(){return!this.subFilters.some(e=>!e.isNeutralState())}static fromObject(e,t){return Promise.all((e.subFilters||[]).map(r=>oe.getClass(r.type).fromObject(r,t))).then(r=>new this({subFilters:r}))}}P(Su,"type","Composed"),oe.setClass(Su);class Pi extends ot{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uContrast;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
    gl_FragColor = color;
  }`}isNeutralState(){return this.contrast===0}applyTo2d(e){let{imageData:{data:t}}=e;const r=Math.floor(255*this.contrast),s=259*(r+255)/(255*(259-r));for(let i=0;i<t.length;i+=4)t[i]=s*(t[i]-128)+128,t[i+1]=s*(t[i+1]-128)+128,t[i+2]=s*(t[i+2]-128)+128}sendUniformData(e,t){e.uniform1f(t.uContrast,this.contrast)}}P(Pi,"type","Contrast"),P(Pi,"defaults",{contrast:0}),P(Pi,"uniformLocations",["uContrast"]),oe.setClass(Pi);const ck={Convolute_3_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_3_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_5_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_5_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_7_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_7_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_9_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_9_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `};class Mi extends ot{getCacheKey(){return"".concat(this.type,"_").concat(Math.sqrt(this.matrix.length),"_").concat(this.opaque?1:0)}getFragmentSource(){return ck[this.getCacheKey()]}applyTo2d(e){const t=e.imageData,r=t.data,s=this.matrix,i=Math.round(Math.sqrt(s.length)),o=Math.floor(i/2),a=t.width,l=t.height,u=e.ctx.createImageData(a,l),c=u.data,h=this.opaque?1:0;let d,f,p,m,b,_,S,y,x,w,R,A,D;for(R=0;R<l;R++)for(w=0;w<a;w++){for(b=4*(R*a+w),d=0,f=0,p=0,m=0,D=0;D<i;D++)for(A=0;A<i;A++)S=R+D-o,_=w+A-o,S<0||S>=l||_<0||_>=a||(y=4*(S*a+_),x=s[D*i+A],d+=r[y]*x,f+=r[y+1]*x,p+=r[y+2]*x,h||(m+=r[y+3]*x));c[b]=d,c[b+1]=f,c[b+2]=p,c[b+3]=h?r[b+3]:m}e.imageData=u}sendUniformData(e,t){e.uniform1fv(t.uMatrix,this.matrix)}toObject(){return F(F({},super.toObject()),{},{opaque:this.opaque,matrix:[...this.matrix]})}}P(Mi,"type","Convolute"),P(Mi,"defaults",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),P(Mi,"uniformLocations",["uMatrix","uOpaque","uHalfSize","uSize"]),oe.setClass(Mi);const vy="Gamma";class Ri extends ot{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform vec3 uGamma;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    vec3 correction = (1.0 / uGamma);
    color.r = pow(color.r, correction.r);
    color.g = pow(color.g, correction.g);
    color.b = pow(color.b, correction.b);
    gl_FragColor = color;
    gl_FragColor.rgb *= color.a;
  }
`}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.gamma=e.gamma||this.constructor.defaults.gamma.concat()}applyTo2d(e){let{imageData:{data:t}}=e;const r=this.gamma,s=1/r[0],i=1/r[1],o=1/r[2];this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)});const a=this.rgbValues;for(let l=0;l<256;l++)a.r[l]=255*Math.pow(l/255,s),a.g[l]=255*Math.pow(l/255,i),a.b[l]=255*Math.pow(l/255,o);for(let l=0;l<t.length;l+=4)t[l]=a.r[t[l]],t[l+1]=a.g[t[l+1]],t[l+2]=a.b[t[l+2]]}sendUniformData(e,t){e.uniform3fv(t.uGamma,this.gamma)}isNeutralState(){const{gamma:e}=this;return e[0]===1&&e[1]===1&&e[2]===1}toObject(){return{type:vy,gamma:this.gamma.concat()}}}P(Ri,"type",vy),P(Ri,"defaults",{gamma:[1,1,1]}),P(Ri,"uniformLocations",["uGamma"]),oe.setClass(Ri);const uk={average:`
    precision highp float;
    uniform sampler2D uTexture;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      float average = (color.r + color.b + color.g) / 3.0;
      gl_FragColor = vec4(average, average, average, color.a);
    }
    `,lightness:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `,luminosity:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `};class Fi extends ot{applyTo2d(e){let{imageData:{data:t}}=e;for(let r,s=0;s<t.length;s+=4){switch(this.mode){case"average":r=(t[s]+t[s+1]+t[s+2])/3;break;case"lightness":r=(Math.min(t[s],t[s+1],t[s+2])+Math.max(t[s],t[s+1],t[s+2]))/2;break;case"luminosity":r=.21*t[s]+.72*t[s+1]+.07*t[s+2]}t[s]=r,t[s+1]=r,t[s+2]=r}}getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return uk[this.mode]}sendUniformData(e,t){e.uniform1i(t.uMode,1)}isNeutralState(){return!1}}P(Fi,"type","Grayscale"),P(Fi,"defaults",{mode:"average"}),P(Fi,"uniformLocations",["uMode"]),oe.setClass(Fi);class Oa extends qr{calculateMatrix(){const e=this.rotation*Math.PI,t=er(e),r=tr(e),s=1/3,i=Math.sqrt(s)*r,o=1-t;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=t+o/3,this.matrix[1]=s*o-i,this.matrix[2]=s*o+i,this.matrix[5]=s*o+i,this.matrix[6]=t+s*o,this.matrix[7]=s*o-i,this.matrix[10]=s*o-i,this.matrix[11]=s*o+i,this.matrix[12]=t+s*o}isNeutralState(){return this.rotation===0}applyTo(e){this.calculateMatrix(),super.applyTo(e)}toObject(){return{type:this.type,rotation:this.rotation}}}P(Oa,"type","HueRotation"),P(Oa,"defaults",{rotation:0}),oe.setClass(Oa);class Li extends ot{applyTo2d(e){let{imageData:{data:t}}=e;for(let r=0;r<t.length;r+=4)t[r]=255-t[r],t[r+1]=255-t[r+1],t[r+2]=255-t[r+2],this.alpha&&(t[r+3]=255-t[r+3])}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform int uInvert;
  uniform int uAlpha;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    if (uInvert == 1) {
      if (uAlpha == 1) {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);
      } else {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
      }
    } else {
      gl_FragColor = color;
    }
  }
`}isNeutralState(){return!this.invert}sendUniformData(e,t){e.uniform1i(t.uInvert,Number(this.invert)),e.uniform1i(t.uAlpha,Number(this.alpha))}}P(Li,"type","Invert"),P(Li,"defaults",{alpha:!1,invert:!0}),P(Li,"uniformLocations",["uInvert","uAlpha"]),oe.setClass(Li);class ji extends ot{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uStepH;
  uniform float uNoise;
  uniform float uSeed;
  varying vec2 vTexCoord;
  float rand(vec2 co, float seed, float vScale) {
    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
  }
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:t}}=e;const r=this.noise;for(let s=0;s<t.length;s+=4){const i=(.5-Math.random())*r;t[s]+=i,t[s+1]+=i,t[s+2]+=i}}sendUniformData(e,t){e.uniform1f(t.uNoise,this.noise/255),e.uniform1f(t.uSeed,Math.random())}isNeutralState(){return this.noise===0}}P(ji,"type","Noise"),P(ji,"defaults",{noise:0}),P(ji,"uniformLocations",["uNoise","uSeed"]),oe.setClass(ji);class Ii extends ot{applyTo2d(e){let{imageData:{data:t,width:r,height:s}}=e;for(let i=0;i<s;i+=this.blocksize)for(let o=0;o<r;o+=this.blocksize){const a=4*i*r+4*o,l=t[a],u=t[a+1],c=t[a+2],h=t[a+3];for(let d=i;d<Math.min(i+this.blocksize,s);d++)for(let f=o;f<Math.min(o+this.blocksize,r);f++){const p=4*d*r+4*f;t[p]=l,t[p+1]=u,t[p+2]=c,t[p+3]=h}}}isNeutralState(){return this.blocksize===1}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBlocksize;
  uniform float uStepW;
  uniform float uStepH;
  varying vec2 vTexCoord;
  void main() {
    float blockW = uBlocksize * uStepW;
    float blockH = uBlocksize * uStepH;
    int posX = int(vTexCoord.x / blockW);
    int posY = int(vTexCoord.y / blockH);
    float fposX = float(posX);
    float fposY = float(posY);
    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
    vec4 color = texture2D(uTexture, squareCoords);
    gl_FragColor = color;
  }
`}sendUniformData(e,t){e.uniform1f(t.uBlocksize,this.blocksize)}}P(Ii,"type","Pixelate"),P(Ii,"defaults",{blocksize:4}),P(Ii,"uniformLocations",["uBlocksize"]),oe.setClass(Ii);class Bi extends ot{getFragmentSource(){return`
precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
  gl_FragColor = texture2D(uTexture, vTexCoord);
  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
    gl_FragColor.a = 0.0;
  }
}
`}applyTo2d(e){let{imageData:{data:t}}=e;const r=255*this.distance,s=new Be(this.color).getSource(),i=[s[0]-r,s[1]-r,s[2]-r],o=[s[0]+r,s[1]+r,s[2]+r];for(let a=0;a<t.length;a+=4){const l=t[a],u=t[a+1],c=t[a+2];l>i[0]&&u>i[1]&&c>i[2]&&l<o[0]&&u<o[1]&&c<o[2]&&(t[a+3]=0)}}sendUniformData(e,t){const r=new Be(this.color).getSource(),s=this.distance,i=[0+r[0]/255-s,0+r[1]/255-s,0+r[2]/255-s,1],o=[r[0]/255+s,r[1]/255+s,r[2]/255+s,1];e.uniform4fv(t.uLow,i),e.uniform4fv(t.uHigh,o)}}P(Bi,"type","RemoveColor"),P(Bi,"defaults",{color:"#FFFFFF",distance:.02,useAlpha:!1}),P(Bi,"uniformLocations",["uLow","uHigh"]),oe.setClass(Bi);class Ni extends ot{sendUniformData(e,t){e.uniform2fv(t.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),e.uniform1fv(t.uTaps,this.taps)}getFilterWindow(){const e=this.tempScale;return Math.ceil(this.lanczosLobes/e)}getCacheKey(){const e=this.getFilterWindow();return"".concat(this.type,"_").concat(e)}getFragmentSource(){const e=this.getFilterWindow();return this.generateShader(e)}getTaps(){const e=this.lanczosCreate(this.lanczosLobes),t=this.tempScale,r=this.getFilterWindow(),s=new Array(r);for(let i=1;i<=r;i++)s[i-1]=e(i*t);return s}generateShader(e){const t=new Array(e);for(let r=1;r<=e;r++)t[r-1]="".concat(r,".0 * uDelta");return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec2 uDelta;
      varying vec2 vTexCoord;
      uniform float uTaps[`.concat(e,`];
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        float sum = 1.0;
        `).concat(t.map((r,s)=>`
              color += texture2D(uTexture, vTexCoord + `.concat(r,") * uTaps[").concat(s,"] + texture2D(uTexture, vTexCoord - ").concat(r,") * uTaps[").concat(s,`];
              sum += 2.0 * uTaps[`).concat(s,`];
            `)).join(`
`),`
        gl_FragColor = color / sum;
      }
    `)}applyToForWebgl(e){e.passes++,this.width=e.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=e.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),e.destinationWidth=this.dW,super.applyTo(e),e.sourceWidth=e.destinationWidth,this.height=e.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),e.destinationHeight=this.dH,super.applyTo(e),e.sourceHeight=e.destinationHeight}applyTo(e){Xl(e)?this.applyToForWebgl(e):this.applyTo2d(e)}isNeutralState(){return this.scaleX===1&&this.scaleY===1}lanczosCreate(e){return t=>{if(t>=e||t<=-e)return 0;if(t<11920929e-14&&t>-11920929e-14)return 1;const r=(t*=Math.PI)/e;return Math.sin(t)/t*Math.sin(r)/r}}applyTo2d(e){const t=e.imageData,r=this.scaleX,s=this.scaleY;this.rcpScaleX=1/r,this.rcpScaleY=1/s;const i=t.width,o=t.height,a=Math.round(i*r),l=Math.round(o*s);let u;u=this.resizeType==="sliceHack"?this.sliceByTwo(e,i,o,a,l):this.resizeType==="hermite"?this.hermiteFastResize(e,i,o,a,l):this.resizeType==="bilinear"?this.bilinearFiltering(e,i,o,a,l):this.resizeType==="lanczos"?this.lanczosResize(e,i,o,a,l):new ImageData(a,l),e.imageData=u}sliceByTwo(e,t,r,s,i){const o=e.imageData,a=.5;let l=!1,u=!1,c=t*a,h=r*a;const d=e.filterBackend.resources;let f=0,p=0;const m=t;let b=0;d.sliceByTwo||(d.sliceByTwo=ht());const _=d.sliceByTwo;(_.width<1.5*t||_.height<r)&&(_.width=1.5*t,_.height=r);const S=_.getContext("2d");for(S.clearRect(0,0,1.5*t,r),S.putImageData(o,0,0),s=Math.floor(s),i=Math.floor(i);!l||!u;)t=c,r=h,s<Math.floor(c*a)?c=Math.floor(c*a):(c=s,l=!0),i<Math.floor(h*a)?h=Math.floor(h*a):(h=i,u=!0),S.drawImage(_,f,p,t,r,m,b,c,h),f=m,p=b,b+=h;return S.getImageData(f,p,s,i)}lanczosResize(e,t,r,s,i){const o=e.imageData.data,a=e.ctx.createImageData(s,i),l=a.data,u=this.lanczosCreate(this.lanczosLobes),c=this.rcpScaleX,h=this.rcpScaleY,d=2/this.rcpScaleX,f=2/this.rcpScaleY,p=Math.ceil(c*this.lanczosLobes/2),m=Math.ceil(h*this.lanczosLobes/2),b={},_={x:0,y:0},S={x:0,y:0};return function y(x){let w,R,A,D,M,j,W,C,E,B,K;for(_.x=(x+.5)*c,S.x=Math.floor(_.x),w=0;w<i;w++){for(_.y=(w+.5)*h,S.y=Math.floor(_.y),M=0,j=0,W=0,C=0,E=0,R=S.x-p;R<=S.x+p;R++)if(!(R<0||R>=t)){B=Math.floor(1e3*Math.abs(R-_.x)),b[B]||(b[B]={});for(let I=S.y-m;I<=S.y+m;I++)I<0||I>=r||(K=Math.floor(1e3*Math.abs(I-_.y)),b[B][K]||(b[B][K]=u(Math.sqrt(Math.pow(B*d,2)+Math.pow(K*f,2))/1e3)),A=b[B][K],A>0&&(D=4*(I*t+R),M+=A,j+=A*o[D],W+=A*o[D+1],C+=A*o[D+2],E+=A*o[D+3]))}D=4*(w*s+x),l[D]=j/M,l[D+1]=W/M,l[D+2]=C/M,l[D+3]=E/M}return++x<s?y(x):a}(0)}bilinearFiltering(e,t,r,s,i){let o,a,l,u,c,h,d,f,p,m,b,_,S,y=0;const x=this.rcpScaleX,w=this.rcpScaleY,R=4*(t-1),A=e.imageData.data,D=e.ctx.createImageData(s,i),M=D.data;for(d=0;d<i;d++)for(f=0;f<s;f++)for(c=Math.floor(x*f),h=Math.floor(w*d),p=x*f-c,m=w*d-h,S=4*(h*t+c),b=0;b<4;b++)o=A[S+b],a=A[S+4+b],l=A[S+R+b],u=A[S+R+4+b],_=o*(1-p)*(1-m)+a*p*(1-m)+l*m*(1-p)+u*p*m,M[y++]=_;return D}hermiteFastResize(e,t,r,s,i){const o=this.rcpScaleX,a=this.rcpScaleY,l=Math.ceil(o/2),u=Math.ceil(a/2),c=e.imageData.data,h=e.ctx.createImageData(s,i),d=h.data;for(let f=0;f<i;f++)for(let p=0;p<s;p++){const m=4*(p+f*s);let b=0,_=0,S=0,y=0,x=0,w=0,R=0;const A=(f+.5)*a;for(let D=Math.floor(f*a);D<(f+1)*a;D++){const M=Math.abs(A-(D+.5))/u,j=(p+.5)*o,W=M*M;for(let C=Math.floor(p*o);C<(p+1)*o;C++){let E=Math.abs(j-(C+.5))/l;const B=Math.sqrt(W+E*E);B>1&&B<-1||(b=2*B*B*B-3*B*B+1,b>0&&(E=4*(C+D*t),R+=b*c[E+3],S+=b,c[E+3]<255&&(b=b*c[E+3]/250),y+=b*c[E],x+=b*c[E+1],w+=b*c[E+2],_+=b))}}d[m]=y/_,d[m+1]=x/_,d[m+2]=w/_,d[m+3]=R/S}return h}}P(Ni,"type","Resize"),P(Ni,"defaults",{resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3}),P(Ni,"uniformLocations",["uDelta","uTaps"]),oe.setClass(Ni);class Vi extends ot{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uSaturation;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float rgMax = max(color.r, color.g);
    float rgbMax = max(rgMax, color.b);
    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:t}}=e;const r=-this.saturation;for(let s=0;s<t.length;s+=4){const i=Math.max(t[s],t[s+1],t[s+2]);t[s]+=i!==t[s]?(i-t[s])*r:0,t[s+1]+=i!==t[s+1]?(i-t[s+1])*r:0,t[s+2]+=i!==t[s+2]?(i-t[s+2])*r:0}}sendUniformData(e,t){e.uniform1f(t.uSaturation,-this.saturation)}isNeutralState(){return this.saturation===0}}P(Vi,"type","Saturation"),P(Vi,"defaults",{saturation:0}),P(Vi,"uniformLocations",["uSaturation"]),oe.setClass(Vi);class Hi extends ot{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uVibrance;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float max = max(color.r, max(color.g, color.b));
    float avg = (color.r + color.g + color.b) / 3.0;
    float amt = (abs(max - avg) * 2.0) * uVibrance;
    color.r += max != color.r ? (max - color.r) * amt : 0.00;
    color.g += max != color.g ? (max - color.g) * amt : 0.00;
    color.b += max != color.b ? (max - color.b) * amt : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:t}}=e;const r=-this.vibrance;for(let s=0;s<t.length;s+=4){const i=Math.max(t[s],t[s+1],t[s+2]),o=(t[s]+t[s+1]+t[s+2])/3,a=2*Math.abs(i-o)/255*r;t[s]+=i!==t[s]?(i-t[s])*a:0,t[s+1]+=i!==t[s+1]?(i-t[s+1])*a:0,t[s+2]+=i!==t[s+2]?(i-t[s+2])*a:0}}sendUniformData(e,t){e.uniform1f(t.uVibrance,-this.vibrance)}isNeutralState(){return this.vibrance===0}}P(Hi,"type","Vibrance"),P(Hi,"defaults",{vibrance:0}),P(Hi,"uniformLocations",["uVibrance"]),oe.setClass(Hi);var JD=Object.freeze({__proto__:null,BaseFilter:ot,BlackWhite:lk,BlendColor:Ei,BlendImage:ki,Blur:Ai,Brightness:Di,Brownie:nk,ColorMatrix:qr,Composed:Su,Contrast:Pi,Convolute:Mi,Gamma:Ri,Grayscale:Fi,HueRotation:Oa,Invert:Li,Kodachrome:sk,Noise:ji,Pixelate:Ii,Polaroid:ok,RemoveColor:Bi,Resize:Ni,Saturation:Vi,Sepia:ak,Technicolor:ik,Vibrance:Hi,Vintage:rk});const tp=600,yy=(n="")=>{const e=n.split(", "),t=[];for(let r=0;r<e.length;r++)t.push({offset:r/(e.length-1),color:e[r]});return t},by=(n,e)=>({type:"linear",coords:{x1:0,y1:e,x2:e,y2:e},colorStops:n}),ci=n=>({id:n.id,name:n.name,deletable:!!n.deletable,evented:!!n.selectable,selectable:!!n.selectable,sortable:!!n.sortable,hideable:!!n.hideable,originX:"center",originY:"center"}),hk=(n,e)=>({...ci(n),type:"Rect",width:e,height:e,fill:n.fill}),dk=(n,e)=>{var i;const t=((i=n.fill)==null?void 0:i.split(", "))||[],r=[];for(let o=0;o<t.length;o++)r.push({offset:o/(t.length-1),color:t[o]});const s=yy(n.fill);return{...ci(n),type:"Rect",width:e,height:e,fill:by(s,e)}},fk=(n,e)=>{var t,r;if(!((t=n.fill)!=null&&t.includes(",")))return hk(n,e);if((r=n.fill)!=null&&r.includes(","))return dk(n,e);throw new Error(`Unknown background type ${n}`)},pk=(n,e)=>({...ci(n),type:"Rect",width:e,height:e,stroke:n.stroke,strokeWidth:0,fill:"transparent"}),gk=(n,e)=>{var i;const t=((i=n.stroke)==null?void 0:i.split(", "))||[],r=[];for(let o=0;o<t.length;o++)r.push({offset:o/(t.length-1),color:t[o]});const s=yy(n.stroke);return{...ci(n),type:"Rect",width:e,height:e,stroke:by(s,e)}},mk=(n,e)=>{var t,r;if(!((t=n.stroke)!=null&&t.includes(",")))return pk(n,e);if((r=n.stroke)!=null&&r.includes(","))return gk(n,e);throw new Error(`Unknown background type ${n}`)},_y=n=>({...ci(n),name:"text",type:"Text",fontFamily:"Arial",fontSize:75,fontWeight:"400",fill:"#000",styles:{},text:n.text,stroke:null,strokeWidth:0,textAlign:"center",pathAlign:"descender",textBaseline:"curve"}),vk=n=>({...ci(n),type:"Image",lockSkewingX:!0,lockSkewingY:!0,src:n.src,crossOrigin:"anonymous"}),yk=()=>({type:"Grayscale"}),bk=n=>({type:"BlendColor",mode:n.mode,color:n.fill,alpha:1}),_k=n=>({type:"BlendColor",mode:n.mode,color:n.fill,alpha:1}),wk=n=>{const e=n.objects.map(s=>{var o;let i={};if(s.type==="background"&&(i=fk(s,tp)),s.type==="texture"&&(i=vk(s),s.name==="photo"&&(i.sources={id:Xr(),original:i.src})),s.filters){const a=[];(o=s.filters)==null||o.forEach(l=>{l.type==="filter"&&l.name==="grayscale"&&a.push(yk()),l.type==="blend"&&a.push(bk(l)),l.type==="mask"&&a.push(_k(l))}),i.version=Ks,i.filters=a}return i.factor=1,i.visible=!0,i}),t=mk({id:Xr(),name:"border",type:"border",stroke:"#5956E9",strokeWidth:0,evented:!1,hideable:!0,selectable:!1,sortable:!0},tp);t.factor=1,t.visible=!0,e.push(t);const r=_y({id:Xr(),name:"text",text:"",evented:!0,hideable:!0,selectable:!0,sortable:!0});return r.paintFirst="stroke",r.visible=!0,e.push(r),{id:Xr(),version:Ks,objects:e}},xu=["adjust","blur","filter","outline","recolor","shadows"],Sk=["backgroundColor","flipX","flipY","skewX","skewY","cropX","cropY","rx","ry","filters","path"],ZD=n=>{const t=n.objects.filter(r=>{var s;return!(r.type==="Text"&&!((s=r.text)!=null&&s.trim())||typeof r.visible=="boolean"&&!r.visible)}).map(r=>{const s=Object.keys(r);if(r.name==="photo"){const o={name:"photo"};return xu.reduce((a,l)=>{const u=r[l];return Object.keys(u||{}).length?{...a,[l]:r[l]}:a},o)}const i=[...Sk];return s.reduce((o,a)=>{if(i.includes(a))return o;if(xu.includes(a)){const l=r[a];if(!Object.keys(l||{}).length||!l.active)return o}return{...o,[a]:r[a]}},{})});return{id:Xr(),version:Ks,objects:t}},xk=(n,e)=>{const t={...Se(n),objects:n.objects.map(Se)},r={...Se(e),objects:e.objects.map(Se)},s=t.objects.find(a=>a.name==="photo");if(!s)return;const i=r.objects.map(a=>{if(a.name==="photo"){const l={...s,...a};return xu.forEach(u=>{l[u]=a[u]}),"filters"in l&&(l.filters=void 0),l}return a});return i.find(a=>a.name==="text")||i.push(_y({id:Xr(),name:"text",text:"",evented:!0,hideable:!0,selectable:!0,sortable:!0})),{...r,objects:i,rerender:!0}},Ts=(n,e=!1)=>typeof n=="boolean"?n:e,kn=(n,e=0)=>typeof n=="number"?n:e,np=(n,e)=>((n==null?void 0:n.objects)||[]).find(r=>r.id===e),pa=(n,e)=>((n==null?void 0:n.objects)||[]).find(r=>r.name===e);function Ck(n){return n instanceof tn}function Ui(n){return(n==null?void 0:n.type)==="Image"}const wy=n=>Ck(n)||Ui(n)?"image":typeof n.fill=="string"?"color":"gradient",Tk=n=>typeof n.stroke=="string"?"color":"gradient",Ok=n=>({type:"image",value:n}),Sy=n=>({type:"color",value:n}),xy=n=>({type:"gradient",value:((n==null?void 0:n.colorStops)||[]).map(({color:r})=>r)}),Ek=n=>{const e=wy(n);return e==="image"?Ok(n.src):e==="color"?Sy(n.fill):xy(n.fill)},kk=n=>Tk(n)==="color"?Sy(n.stroke):xy(n.stroke),Vr=n=>n.name==="border"?kk(n):Ek(n),Pc=n=>{var e,t,r,s;return{brightness:((e=n.adjust)==null?void 0:e.brightness)||0,contrast:((t=n.adjust)==null?void 0:t.contrast)||0,saturation:((r=n.adjust)==null?void 0:r.saturation)||0,hue:((s=n.adjust)==null?void 0:s.hue)||0}},Ak=n=>{var e,t;return{active:((e=n.blur)==null?void 0:e.active)||!1,radius:(t=n.blur)==null?void 0:t.radius}},rp=n=>{var e,t;return{active:((e=n.filter)==null?void 0:e.active)||!1,filter:(t=n.filter)==null?void 0:t.filter}},sp=n=>{var e,t,r;return{active:((e=n.outline)==null?void 0:e.active)||!1,color:((t=n.outline)==null?void 0:t.color)??null,width:(r=n.outline)==null?void 0:r.width}},Dk=n=>{var e,t;return{active:((e=n.recolor)==null?void 0:e.active)||!1,color:(t=n.recolor)==null?void 0:t.color}},ip=n=>{var e,t;return{active:((e=n.shadows)==null?void 0:e.active)||!1,preset:(t=n.shadows)==null?void 0:t.preset}},Pk=n=>{var e,t,r,s;return{id:(e=n.sources)==null?void 0:e.id,original:(t=n.sources)==null?void 0:t.original,colorBalance:(r=n.sources)==null?void 0:r.colorBalance,imageUnblur:(s=n.sources)==null?void 0:s.imageUnblur}};function Cy(n,e){return function(){return n.apply(e,arguments)}}const{toString:Mk}=Object.prototype,{getPrototypeOf:jh}=Object,Gl=(n=>e=>{const t=Mk.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),En=n=>(n=n.toLowerCase(),e=>Gl(e)===n),Yl=n=>e=>typeof e===n,{isArray:ui}=Array,ko=Yl("undefined");function Rk(n){return n!==null&&!ko(n)&&n.constructor!==null&&!ko(n.constructor)&&on(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Ty=En("ArrayBuffer");function Fk(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&Ty(n.buffer),e}const Lk=Yl("string"),on=Yl("function"),Oy=Yl("number"),Kl=n=>n!==null&&typeof n=="object",jk=n=>n===!0||n===!1,Ea=n=>{if(Gl(n)!=="object")return!1;const e=jh(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Ik=En("Date"),Bk=En("File"),Nk=En("Blob"),Vk=En("FileList"),Hk=n=>Kl(n)&&on(n.pipe),Uk=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||on(n.append)&&((e=Gl(n))==="formdata"||e==="object"&&on(n.toString)&&n.toString()==="[object FormData]"))},Wk=En("URLSearchParams"),[$k,zk,Xk,Gk]=["ReadableStream","Request","Response","Headers"].map(En),Yk=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ho(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,s;if(typeof n!="object"&&(n=[n]),ui(n))for(r=0,s=n.length;r<s;r++)e.call(null,n[r],r,n);else{const i=t?Object.getOwnPropertyNames(n):Object.keys(n),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,n[a],a,n)}}function Ey(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,s;for(;r-- >0;)if(s=t[r],e===s.toLowerCase())return s;return null}const Jr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ky=n=>!ko(n)&&n!==Jr;function Cu(){const{caseless:n}=ky(this)&&this||{},e={},t=(r,s)=>{const i=n&&Ey(e,s)||s;Ea(e[i])&&Ea(r)?e[i]=Cu(e[i],r):Ea(r)?e[i]=Cu({},r):ui(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Ho(arguments[r],t);return e}const Kk=(n,e,t,{allOwnKeys:r}={})=>(Ho(e,(s,i)=>{t&&on(s)?n[i]=Cy(s,t):n[i]=s},{allOwnKeys:r}),n),qk=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Jk=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},Zk=(n,e,t,r)=>{let s,i,o;const a={};if(e=e||{},n==null)return e;do{for(s=Object.getOwnPropertyNames(n),i=s.length;i-- >0;)o=s[i],(!r||r(o,n,e))&&!a[o]&&(e[o]=n[o],a[o]=!0);n=t!==!1&&jh(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},Qk=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},eA=n=>{if(!n)return null;if(ui(n))return n;let e=n.length;if(!Oy(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},tA=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&jh(Uint8Array)),nA=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(n,i[0],i[1])}},rA=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},sA=En("HTMLFormElement"),iA=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,s){return r.toUpperCase()+s}),op=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),oA=En("RegExp"),Ay=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Ho(t,(s,i)=>{let o;(o=e(s,i,n))!==!1&&(r[i]=o||s)}),Object.defineProperties(n,r)},aA=n=>{Ay(n,(e,t)=>{if(on(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(on(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},lA=(n,e)=>{const t={},r=s=>{s.forEach(i=>{t[i]=!0})};return ui(n)?r(n):r(String(n).split(e)),t},cA=()=>{},uA=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,Mc="abcdefghijklmnopqrstuvwxyz",ap="0123456789",Dy={DIGIT:ap,ALPHA:Mc,ALPHA_DIGIT:Mc+Mc.toUpperCase()+ap},hA=(n=16,e=Dy.ALPHA_DIGIT)=>{let t="";const{length:r}=e;for(;n--;)t+=e[Math.random()*r|0];return t};function dA(n){return!!(n&&on(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const fA=n=>{const e=new Array(10),t=(r,s)=>{if(Kl(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=ui(r)?[]:{};return Ho(r,(o,a)=>{const l=t(o,s+1);!ko(l)&&(i[a]=l)}),e[s]=void 0,i}}return r};return t(n,0)},pA=En("AsyncFunction"),gA=n=>n&&(Kl(n)||on(n))&&on(n.then)&&on(n.catch),Py=((n,e)=>n?setImmediate:e?((t,r)=>(Jr.addEventListener("message",({source:s,data:i})=>{s===Jr&&i===t&&r.length&&r.shift()()},!1),s=>{r.push(s),Jr.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",on(Jr.postMessage)),mA=typeof queueMicrotask<"u"?queueMicrotask.bind(Jr):typeof process<"u"&&process.nextTick||Py,H={isArray:ui,isArrayBuffer:Ty,isBuffer:Rk,isFormData:Uk,isArrayBufferView:Fk,isString:Lk,isNumber:Oy,isBoolean:jk,isObject:Kl,isPlainObject:Ea,isReadableStream:$k,isRequest:zk,isResponse:Xk,isHeaders:Gk,isUndefined:ko,isDate:Ik,isFile:Bk,isBlob:Nk,isRegExp:oA,isFunction:on,isStream:Hk,isURLSearchParams:Wk,isTypedArray:tA,isFileList:Vk,forEach:Ho,merge:Cu,extend:Kk,trim:Yk,stripBOM:qk,inherits:Jk,toFlatObject:Zk,kindOf:Gl,kindOfTest:En,endsWith:Qk,toArray:eA,forEachEntry:nA,matchAll:rA,isHTMLForm:sA,hasOwnProperty:op,hasOwnProp:op,reduceDescriptors:Ay,freezeMethods:aA,toObjectSet:lA,toCamelCase:iA,noop:cA,toFiniteNumber:uA,findKey:Ey,global:Jr,isContextDefined:ky,ALPHABET:Dy,generateString:hA,isSpecCompliantForm:dA,toJSONObject:fA,isAsyncFn:pA,isThenable:gA,setImmediate:Py,asap:mA};function be(n,e,t,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}H.inherits(be,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:H.toJSONObject(this.config),code:this.code,status:this.status}}});const My=be.prototype,Ry={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Ry[n]={value:n}});Object.defineProperties(be,Ry);Object.defineProperty(My,"isAxiosError",{value:!0});be.from=(n,e,t,r,s,i)=>{const o=Object.create(My);return H.toFlatObject(n,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),be.call(o,n.message,e,t,r,s),o.cause=n,o.name=n.name,i&&Object.assign(o,i),o};const vA=null;function Tu(n){return H.isPlainObject(n)||H.isArray(n)}function Fy(n){return H.endsWith(n,"[]")?n.slice(0,-2):n}function lp(n,e,t){return n?n.concat(e).map(function(s,i){return s=Fy(s),!t&&i?"["+s+"]":s}).join(t?".":""):e}function yA(n){return H.isArray(n)&&!n.some(Tu)}const bA=H.toFlatObject(H,{},null,function(e){return/^is[A-Z]/.test(e)});function ql(n,e,t){if(!H.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=H.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,b){return!H.isUndefined(b[m])});const r=t.metaTokens,s=t.visitor||c,i=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&H.isSpecCompliantForm(e);if(!H.isFunction(s))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(H.isDate(p))return p.toISOString();if(!l&&H.isBlob(p))throw new be("Blob is not supported. Use a Buffer instead.");return H.isArrayBuffer(p)||H.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function c(p,m,b){let _=p;if(p&&!b&&typeof p=="object"){if(H.endsWith(m,"{}"))m=r?m:m.slice(0,-2),p=JSON.stringify(p);else if(H.isArray(p)&&yA(p)||(H.isFileList(p)||H.endsWith(m,"[]"))&&(_=H.toArray(p)))return m=Fy(m),_.forEach(function(y,x){!(H.isUndefined(y)||y===null)&&e.append(o===!0?lp([m],x,i):o===null?m:m+"[]",u(y))}),!1}return Tu(p)?!0:(e.append(lp(b,m,i),u(p)),!1)}const h=[],d=Object.assign(bA,{defaultVisitor:c,convertValue:u,isVisitable:Tu});function f(p,m){if(!H.isUndefined(p)){if(h.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));h.push(p),H.forEach(p,function(_,S){(!(H.isUndefined(_)||_===null)&&s.call(e,_,H.isString(S)?S.trim():S,m,d))===!0&&f(_,m?m.concat(S):[S])}),h.pop()}}if(!H.isObject(n))throw new TypeError("data must be an object");return f(n),e}function cp(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Ih(n,e){this._pairs=[],n&&ql(n,this,e)}const Ly=Ih.prototype;Ly.append=function(e,t){this._pairs.push([e,t])};Ly.toString=function(e){const t=e?function(r){return e.call(this,r,cp)}:cp;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function _A(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function jy(n,e,t){if(!e)return n;const r=t&&t.encode||_A,s=t&&t.serialize;let i;if(s?i=s(e,t):i=H.isURLSearchParams(e)?e.toString():new Ih(e,t).toString(r),i){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+i}return n}class up{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){H.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Iy={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},wA=typeof URLSearchParams<"u"?URLSearchParams:Ih,SA=typeof FormData<"u"?FormData:null,xA=typeof Blob<"u"?Blob:null,CA={isBrowser:!0,classes:{URLSearchParams:wA,FormData:SA,Blob:xA},protocols:["http","https","file","blob","url","data"]},Bh=typeof window<"u"&&typeof document<"u",Ou=typeof navigator=="object"&&navigator||void 0,TA=Bh&&(!Ou||["ReactNative","NativeScript","NS"].indexOf(Ou.product)<0),OA=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",EA=Bh&&window.location.href||"http://localhost",kA=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Bh,hasStandardBrowserEnv:TA,hasStandardBrowserWebWorkerEnv:OA,navigator:Ou,origin:EA},Symbol.toStringTag,{value:"Module"})),Yt={...kA,...CA};function AA(n,e){return ql(n,new Yt.classes.URLSearchParams,Object.assign({visitor:function(t,r,s,i){return Yt.isNode&&H.isBuffer(t)?(this.append(r,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function DA(n){return H.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function PA(n){const e={},t=Object.keys(n);let r;const s=t.length;let i;for(r=0;r<s;r++)i=t[r],e[i]=n[i];return e}function By(n){function e(t,r,s,i){let o=t[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=t.length;return o=!o&&H.isArray(s)?s.length:o,l?(H.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!H.isObject(s[o]))&&(s[o]=[]),e(t,r,s[o],i)&&H.isArray(s[o])&&(s[o]=PA(s[o])),!a)}if(H.isFormData(n)&&H.isFunction(n.entries)){const t={};return H.forEachEntry(n,(r,s)=>{e(DA(r),s,t,0)}),t}return null}function MA(n,e,t){if(H.isString(n))try{return(e||JSON.parse)(n),H.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Uo={transitional:Iy,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",s=r.indexOf("application/json")>-1,i=H.isObject(e);if(i&&H.isHTMLForm(e)&&(e=new FormData(e)),H.isFormData(e))return s?JSON.stringify(By(e)):e;if(H.isArrayBuffer(e)||H.isBuffer(e)||H.isStream(e)||H.isFile(e)||H.isBlob(e)||H.isReadableStream(e))return e;if(H.isArrayBufferView(e))return e.buffer;if(H.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return AA(e,this.formSerializer).toString();if((a=H.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return ql(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(t.setContentType("application/json",!1),MA(e)):e}],transformResponse:[function(e){const t=this.transitional||Uo.transitional,r=t&&t.forcedJSONParsing,s=this.responseType==="json";if(H.isResponse(e)||H.isReadableStream(e))return e;if(e&&H.isString(e)&&(r&&!this.responseType||s)){const o=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?be.from(a,be.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Yt.classes.FormData,Blob:Yt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};H.forEach(["delete","get","head","post","put","patch"],n=>{Uo.headers[n]={}});const RA=H.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),FA=n=>{const e={};let t,r,s;return n&&n.split(`
`).forEach(function(o){s=o.indexOf(":"),t=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!t||e[t]&&RA[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},hp=Symbol("internals");function Si(n){return n&&String(n).trim().toLowerCase()}function ka(n){return n===!1||n==null?n:H.isArray(n)?n.map(ka):String(n)}function LA(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const jA=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Rc(n,e,t,r,s){if(H.isFunction(r))return r.call(this,e,t);if(s&&(e=t),!!H.isString(e)){if(H.isString(r))return e.indexOf(r)!==-1;if(H.isRegExp(r))return r.test(e)}}function IA(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function BA(n,e){const t=H.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}class Kt{constructor(e){e&&this.set(e)}set(e,t,r){const s=this;function i(a,l,u){const c=Si(l);if(!c)throw new Error("header name must be a non-empty string");const h=H.findKey(s,c);(!h||s[h]===void 0||u===!0||u===void 0&&s[h]!==!1)&&(s[h||l]=ka(a))}const o=(a,l)=>H.forEach(a,(u,c)=>i(u,c,l));if(H.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(H.isString(e)&&(e=e.trim())&&!jA(e))o(FA(e),t);else if(H.isHeaders(e))for(const[a,l]of e.entries())i(l,a,r);else e!=null&&i(t,e,r);return this}get(e,t){if(e=Si(e),e){const r=H.findKey(this,e);if(r){const s=this[r];if(!t)return s;if(t===!0)return LA(s);if(H.isFunction(t))return t.call(this,s,r);if(H.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Si(e),e){const r=H.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||Rc(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let s=!1;function i(o){if(o=Si(o),o){const a=H.findKey(r,o);a&&(!t||Rc(r,r[a],a,t))&&(delete r[a],s=!0)}}return H.isArray(e)?e.forEach(i):i(e),s}clear(e){const t=Object.keys(this);let r=t.length,s=!1;for(;r--;){const i=t[r];(!e||Rc(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const t=this,r={};return H.forEach(this,(s,i)=>{const o=H.findKey(r,i);if(o){t[o]=ka(s),delete t[i];return}const a=e?IA(i):String(i).trim();a!==i&&delete t[i],t[a]=ka(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return H.forEach(this,(r,s)=>{r!=null&&r!==!1&&(t[s]=e&&H.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[hp]=this[hp]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=Si(o);r[a]||(BA(s,o),r[a]=!0)}return H.isArray(e)?e.forEach(i):i(e),this}}Kt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);H.reduceDescriptors(Kt.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});H.freezeMethods(Kt);function Fc(n,e){const t=this||Uo,r=e||t,s=Kt.from(r.headers);let i=r.data;return H.forEach(n,function(a){i=a.call(t,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function Ny(n){return!!(n&&n.__CANCEL__)}function hi(n,e,t){be.call(this,n??"canceled",be.ERR_CANCELED,e,t),this.name="CanceledError"}H.inherits(hi,be,{__CANCEL__:!0});function Vy(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new be("Request failed with status code "+t.status,[be.ERR_BAD_REQUEST,be.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function NA(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function VA(n,e){n=n||10;const t=new Array(n),r=new Array(n);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=r[i];o||(o=u),t[s]=l,r[s]=u;let h=i,d=0;for(;h!==s;)d+=t[h++],h=h%n;if(s=(s+1)%n,s===i&&(i=(i+1)%n),u-o<e)return;const f=c&&u-c;return f?Math.round(d*1e3/f):void 0}}function HA(n,e){let t=0,r=1e3/e,s,i;const o=(u,c=Date.now())=>{t=c,s=null,i&&(clearTimeout(i),i=null),n.apply(null,u)};return[(...u)=>{const c=Date.now(),h=c-t;h>=r?o(u,c):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},r-h)))},()=>s&&o(s)]}const ul=(n,e,t=3)=>{let r=0;const s=VA(50,250);return HA(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-r,u=s(l),c=o<=a;r=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&c?(a-o)/u:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};n(h)},t)},dp=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},fp=n=>(...e)=>H.asap(()=>n(...e)),UA=Yt.hasStandardBrowserEnv?function(){const e=Yt.navigator&&/(msie|trident)/i.test(Yt.navigator.userAgent),t=document.createElement("a");let r;function s(i){let o=i;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return r=s(window.location.href),function(o){const a=H.isString(o)?s(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),WA=Yt.hasStandardBrowserEnv?{write(n,e,t,r,s,i){const o=[n+"="+encodeURIComponent(e)];H.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),H.isString(r)&&o.push("path="+r),H.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function $A(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function zA(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function Hy(n,e){return n&&!$A(e)?zA(n,e):e}const pp=n=>n instanceof Kt?{...n}:n;function ds(n,e){e=e||{};const t={};function r(u,c,h){return H.isPlainObject(u)&&H.isPlainObject(c)?H.merge.call({caseless:h},u,c):H.isPlainObject(c)?H.merge({},c):H.isArray(c)?c.slice():c}function s(u,c,h){if(H.isUndefined(c)){if(!H.isUndefined(u))return r(void 0,u,h)}else return r(u,c,h)}function i(u,c){if(!H.isUndefined(c))return r(void 0,c)}function o(u,c){if(H.isUndefined(c)){if(!H.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,h){if(h in e)return r(u,c);if(h in n)return r(void 0,u)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c)=>s(pp(u),pp(c),!0)};return H.forEach(Object.keys(Object.assign({},n,e)),function(c){const h=l[c]||s,d=h(n[c],e[c],c);H.isUndefined(d)&&h!==a||(t[c]=d)}),t}const Uy=n=>{const e=ds({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=e;e.headers=o=Kt.from(o),e.url=jy(Hy(e.baseURL,e.url),n.params,n.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(H.isFormData(t)){if(Yt.hasStandardBrowserEnv||Yt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...c]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...c].join("; "))}}if(Yt.hasStandardBrowserEnv&&(r&&H.isFunction(r)&&(r=r(e)),r||r!==!1&&UA(e.url))){const u=s&&i&&WA.read(i);u&&o.set(s,u)}return e},XA=typeof XMLHttpRequest<"u",GA=XA&&function(n){return new Promise(function(t,r){const s=Uy(n);let i=s.data;const o=Kt.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=s,c,h,d,f,p;function m(){f&&f(),p&&p(),s.cancelToken&&s.cancelToken.unsubscribe(c),s.signal&&s.signal.removeEventListener("abort",c)}let b=new XMLHttpRequest;b.open(s.method.toUpperCase(),s.url,!0),b.timeout=s.timeout;function _(){if(!b)return;const y=Kt.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),w={data:!a||a==="text"||a==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:y,config:n,request:b};Vy(function(A){t(A),m()},function(A){r(A),m()},w),b=null}"onloadend"in b?b.onloadend=_:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(_)},b.onabort=function(){b&&(r(new be("Request aborted",be.ECONNABORTED,n,b)),b=null)},b.onerror=function(){r(new be("Network Error",be.ERR_NETWORK,n,b)),b=null},b.ontimeout=function(){let x=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const w=s.transitional||Iy;s.timeoutErrorMessage&&(x=s.timeoutErrorMessage),r(new be(x,w.clarifyTimeoutError?be.ETIMEDOUT:be.ECONNABORTED,n,b)),b=null},i===void 0&&o.setContentType(null),"setRequestHeader"in b&&H.forEach(o.toJSON(),function(x,w){b.setRequestHeader(w,x)}),H.isUndefined(s.withCredentials)||(b.withCredentials=!!s.withCredentials),a&&a!=="json"&&(b.responseType=s.responseType),u&&([d,p]=ul(u,!0),b.addEventListener("progress",d)),l&&b.upload&&([h,f]=ul(l),b.upload.addEventListener("progress",h),b.upload.addEventListener("loadend",f)),(s.cancelToken||s.signal)&&(c=y=>{b&&(r(!y||y.type?new hi(null,n,b):y),b.abort(),b=null)},s.cancelToken&&s.cancelToken.subscribe(c),s.signal&&(s.signal.aborted?c():s.signal.addEventListener("abort",c)));const S=NA(s.url);if(S&&Yt.protocols.indexOf(S)===-1){r(new be("Unsupported protocol "+S+":",be.ERR_BAD_REQUEST,n));return}b.send(i||null)})},YA=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,s;const i=function(u){if(!s){s=!0,a();const c=u instanceof Error?u:this.reason;r.abort(c instanceof be?c:new hi(c instanceof Error?c.message:c))}};let o=e&&setTimeout(()=>{o=null,i(new be(`timeout ${e} of ms exceeded`,be.ETIMEDOUT))},e);const a=()=>{n&&(o&&clearTimeout(o),o=null,n.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),n=null)};n.forEach(u=>u.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>H.asap(a),l}},KA=function*(n,e){let t=n.byteLength;if(!e||t<e){yield n;return}let r=0,s;for(;r<t;)s=r+e,yield n.slice(r,s),r=s},qA=async function*(n,e){for await(const t of JA(n))yield*KA(t,e)},JA=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},gp=(n,e,t,r)=>{const s=qA(n,e);let i=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await s.next();if(u){a(),l.close();return}let h=c.byteLength;if(t){let d=i+=h;t(d)}l.enqueue(new Uint8Array(c))}catch(u){throw a(u),u}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},Jl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Wy=Jl&&typeof ReadableStream=="function",ZA=Jl&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),$y=(n,...e)=>{try{return!!n(...e)}catch{return!1}},QA=Wy&&$y(()=>{let n=!1;const e=new Request(Yt.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),mp=64*1024,Eu=Wy&&$y(()=>H.isReadableStream(new Response("").body)),hl={stream:Eu&&(n=>n.body)};Jl&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!hl[e]&&(hl[e]=H.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new be(`Response type '${e}' is not supported`,be.ERR_NOT_SUPPORT,r)})})})(new Response);const eD=async n=>{if(n==null)return 0;if(H.isBlob(n))return n.size;if(H.isSpecCompliantForm(n))return(await new Request(Yt.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(H.isArrayBufferView(n)||H.isArrayBuffer(n))return n.byteLength;if(H.isURLSearchParams(n)&&(n=n+""),H.isString(n))return(await ZA(n)).byteLength},tD=async(n,e)=>{const t=H.toFiniteNumber(n.getContentLength());return t??eD(e)},nD=Jl&&(async n=>{let{url:e,method:t,data:r,signal:s,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:c,withCredentials:h="same-origin",fetchOptions:d}=Uy(n);u=u?(u+"").toLowerCase():"text";let f=YA([s,i&&i.toAbortSignal()],o),p;const m=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let b;try{if(l&&QA&&t!=="get"&&t!=="head"&&(b=await tD(c,r))!==0){let w=new Request(e,{method:"POST",body:r,duplex:"half"}),R;if(H.isFormData(r)&&(R=w.headers.get("content-type"))&&c.setContentType(R),w.body){const[A,D]=dp(b,ul(fp(l)));r=gp(w.body,mp,A,D)}}H.isString(h)||(h=h?"include":"omit");const _="credentials"in Request.prototype;p=new Request(e,{...d,signal:f,method:t.toUpperCase(),headers:c.normalize().toJSON(),body:r,duplex:"half",credentials:_?h:void 0});let S=await fetch(p);const y=Eu&&(u==="stream"||u==="response");if(Eu&&(a||y&&m)){const w={};["status","statusText","headers"].forEach(M=>{w[M]=S[M]});const R=H.toFiniteNumber(S.headers.get("content-length")),[A,D]=a&&dp(R,ul(fp(a),!0))||[];S=new Response(gp(S.body,mp,A,()=>{D&&D(),m&&m()}),w)}u=u||"text";let x=await hl[H.findKey(hl,u)||"text"](S,n);return!y&&m&&m(),await new Promise((w,R)=>{Vy(w,R,{data:x,headers:Kt.from(S.headers),status:S.status,statusText:S.statusText,config:n,request:p})})}catch(_){throw m&&m(),_&&_.name==="TypeError"&&/fetch/i.test(_.message)?Object.assign(new be("Network Error",be.ERR_NETWORK,n,p),{cause:_.cause||_}):be.from(_,_&&_.code,n,p)}}),ku={http:vA,xhr:GA,fetch:nD};H.forEach(ku,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const vp=n=>`- ${n}`,rD=n=>H.isFunction(n)||n===null||n===!1,zy={getAdapter:n=>{n=H.isArray(n)?n:[n];const{length:e}=n;let t,r;const s={};for(let i=0;i<e;i++){t=n[i];let o;if(r=t,!rD(t)&&(r=ku[(o=String(t)).toLowerCase()],r===void 0))throw new be(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+i]=r}if(!r){const i=Object.entries(s).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(vp).join(`
`):" "+vp(i[0]):"as no adapter specified";throw new be("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:ku};function Lc(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new hi(null,n)}function yp(n){return Lc(n),n.headers=Kt.from(n.headers),n.data=Fc.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),zy.getAdapter(n.adapter||Uo.adapter)(n).then(function(r){return Lc(n),r.data=Fc.call(n,n.transformResponse,r),r.headers=Kt.from(r.headers),r},function(r){return Ny(r)||(Lc(n),r&&r.response&&(r.response.data=Fc.call(n,n.transformResponse,r.response),r.response.headers=Kt.from(r.response.headers))),Promise.reject(r)})}const Xy="1.7.7",Nh={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Nh[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const bp={};Nh.transitional=function(e,t,r){function s(i,o){return"[Axios v"+Xy+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new be(s(o," has been removed"+(t?" in "+t:"")),be.ERR_DEPRECATED);return t&&!bp[o]&&(bp[o]=!0,console.warn(s(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(i,o,a):!0}};function sD(n,e,t){if(typeof n!="object")throw new be("options must be an object",be.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const a=n[i],l=a===void 0||o(a,i,n);if(l!==!0)throw new be("option "+i+" must be "+l,be.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new be("Unknown option "+i,be.ERR_BAD_OPTION)}}const Au={assertOptions:sD,validators:Nh},dr=Au.validators;class is{constructor(e){this.defaults=e,this.interceptors={request:new up,response:new up}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ds(this.defaults,t);const{transitional:r,paramsSerializer:s,headers:i}=t;r!==void 0&&Au.assertOptions(r,{silentJSONParsing:dr.transitional(dr.boolean),forcedJSONParsing:dr.transitional(dr.boolean),clarifyTimeoutError:dr.transitional(dr.boolean)},!1),s!=null&&(H.isFunction(s)?t.paramsSerializer={serialize:s}:Au.assertOptions(s,{encode:dr.function,serialize:dr.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&H.merge(i.common,i[t.method]);i&&H.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),t.headers=Kt.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(t)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let c,h=0,d;if(!l){const p=[yp.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,u),d=p.length,c=Promise.resolve(t);h<d;)c=c.then(p[h++],p[h++]);return c}d=a.length;let f=t;for(h=0;h<d;){const p=a[h++],m=a[h++];try{f=p(f)}catch(b){m.call(this,b);break}}try{c=yp.call(this,f)}catch(p){return Promise.reject(p)}for(h=0,d=u.length;h<d;)c=c.then(u[h++],u[h++]);return c}getUri(e){e=ds(this.defaults,e);const t=Hy(e.baseURL,e.url);return jy(t,e.params,e.paramsSerializer)}}H.forEach(["delete","get","head","options"],function(e){is.prototype[e]=function(t,r){return this.request(ds(r||{},{method:e,url:t,data:(r||{}).data}))}});H.forEach(["post","put","patch"],function(e){function t(r){return function(i,o,a){return this.request(ds(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}is.prototype[e]=t(),is.prototype[e+"Form"]=t(!0)});class Vh{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new hi(i,o,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Vh(function(s){e=s}),cancel:e}}}function iD(n){return function(t){return n.apply(null,t)}}function oD(n){return H.isObject(n)&&n.isAxiosError===!0}const Du={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Du).forEach(([n,e])=>{Du[e]=n});function Gy(n){const e=new is(n),t=Cy(is.prototype.request,e);return H.extend(t,is.prototype,e,{allOwnKeys:!0}),H.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return Gy(ds(n,s))},t}const Ze=Gy(Uo);Ze.Axios=is;Ze.CanceledError=hi;Ze.CancelToken=Vh;Ze.isCancel=Ny;Ze.VERSION=Xy;Ze.toFormData=ql;Ze.AxiosError=be;Ze.Cancel=Ze.CanceledError;Ze.all=function(e){return Promise.all(e)};Ze.spread=iD;Ze.isAxiosError=oD;Ze.mergeConfig=ds;Ze.AxiosHeaders=Kt;Ze.formToJSON=n=>By(H.isHTMLForm(n)?new FormData(n):n);Ze.getAdapter=zy.getAdapter;Ze.HttpStatusCode=Du;Ze.default=Ze;function aD(n){return{...n,"X-Admin-Token":cu()}}const Hh=Ze.create({baseURL:It.apiUrl});Hh.interceptors.request.use(n=>(n.withCredentials&&(n.headers=aD(n.headers)),n));async function lD(){try{return(await Ze.create({baseURL:It.assetsUrl}).request({method:"get",url:"/templates.json"})).data}catch{return console.error("Failed to load templates"),[]}}async function cD(n){try{return(await Ze.create({baseURL:It.assetsUrl}).request({method:"get",url:n})).data}catch{console.error("Failed to load template");return}}async function uD(){try{return(await Hh.request({method:"get",url:"template-categories/"})).data.map(({templates:e,...t})=>({...t,items:e}))}catch{return console.error("Failed to load templates"),[]}}async function QD(n){const e=new FormData;return e.append("json",JSON.stringify(n.json)),e.append("preview",n.preview,"preview.png"),e.append("category",n.category),(await Hh.request({method:"post",url:"templates/",data:e,headers:{"Content-Type":"multipart/form-data"},withCredentials:!0})).data}const Yy=Ml("editor",{state:()=>({theme:"light",active:null,panel:"photo",json:void 0,shape:"round",color:void 0,photos:[],templateCategory:void 0,processing:!1}),getters:{layers(n){var r;let e=((r=n.json)==null?void 0:r.objects)||[];e=e.filter(s=>s.name!=="text"||s.name==="text"&&!!s.text);const t=e.map(s=>({...s,hideable:Ts(s.hideable,!0),visible:Ts(s.visible,!0),preview:Vr(s)}));return t.reverse(),t},photo(n){const e=pa(n.json,"photo");if(Ui(e))return{id:e.id,name:e.name,preview:Vr(e),angle:e.angle||0,scales:kn(e.factor,1),opacity:kn(e.opacity,1),adjust:Pc(e),filter:rp(e),outline:sp(e),shadows:ip(e),colorBalance:Ts(e.colorBalance),imageUnblur:Ts(e.imageUnblur),sources:Pk(e),src:e.src,photos:n.photos}},decal(n){const e=np(n.json,n.active);if(Ui(e))return{id:e.id,name:e.name,preview:Vr(e),angle:e.angle||0,scales:kn(e.factor,1),opacity:kn(e.opacity,1),recolor:Dk(e),deletable:e.deletable}},image(n){const e=np(n.json,n.active);if(Ui(e))return{id:e.id,name:e.name,preview:Vr(e),angle:e.angle||0,scales:kn(e.factor,1),opacity:kn(e.opacity,1),adjust:Pc(e),filter:rp(e),outline:sp(e),shadows:ip(e),src:e.src,deletable:e.deletable}},background(n){const e=pa(n.json,"background");if(e)return{id:e.id,name:e.name,adjust:Pc(e),blur:Ak(e),preview:Vr(e),angle:e.angle||0,scales:kn(e.factor,1),opacity:kn(e.opacity,1),type:wy(e)}},border(n){const e=pa(n.json,"border");if((e==null?void 0:e.type)==="Rect")return{id:e.id,name:e.name,preview:Vr(e),opacity:kn(e.opacity,1),stroke:e.stroke||"#FFF",strokeWidth:kn(e.strokeWidth,0),visible:Ts(e.visible,!0)}},text(n){const e=pa(n.json,"text");if((e==null?void 0:e.type)==="Text")return{id:e.id,preview:Vr(e),text:e.text,name:e.name,charSpacing:e.charSpacing,fill:e.fill,fontFamily:e.fontFamily,fontSize:e.fontSize,fontWeight:e.fontWeight,stroke:e.stroke,strokeWidth:e.strokeWidth,textBaseline:e.textBaseline,angle:e.angle,visible:Ts(e.visible,!0)}}},actions:{switchTheme(){this.theme=this.theme==="dark"?"light":"dark"},setProcessing(n){this.processing=n},setShape(n){this.shape=n},editDummy(n,e=!1){const t={...wk({objects:n}),rerender:e},r=t.objects.find(i=>i.name==="photo"),s=this.photos.find(i=>i.original===(r==null?void 0:r.src));this.json=t,this.active=(r==null?void 0:r.id)||null,!s&&Ui(r)&&(r!=null&&r.sources)&&this.photos.push(r.sources)},async applyTemplate(n){this.setProcessing(!0);let e;if(typeof n.json=="string"?e=await cD(n.json):e=n.json,e&&this.json){const t=xk(this.json,e);t&&this.setJson(t,!0)}this.setProcessing(!1)},setActive(n){this.active=n.id,this.panel=n.name},setPanel(n){var t;if(this.panel=n,["layers","templates","export"].includes(n)){this.active=null;return}const e=(t=this.json)==null?void 0:t.objects.find(r=>r.name===n);this.active=(e==null?void 0:e.id)||null},setJson(n,e=!1){this.json={...n,rerender:e}},createPhoto(n,e=!1){const t={id:Xr(),original:n,uploading:e};return this.photos.push(t),t},updatePhoto(n,e){const t=this.photos.findIndex(({id:r})=>r===n);t!==-1&&this.photos.splice(t,1,{...this.photos[t],...e})},removePhoto(n){this.photos=this.photos.filter(e=>e.id!==n)},setColor(n){this.color=n},setTemplateCategory(n){this.templateCategory=n}}}),Ky=Ml("generator",{state:()=>({ppId:"",templateCategory:void 0,templateId:void 0,category:void 0,demoPicId:void 0,processedPic:void 0,originalPic:!1,currentPic:void 0,isHighLoad:!1,isProcessing:!1,resultDownloadCount:0,reportModalShown:!1,bannerModalShown:!1}),getters:{getCurrentPic:n=>n.currentPic,getResultDownloadCount:n=>n.resultDownloadCount},actions:{setProcessedPic(n){this.processedPic=n,this.currentPic=n,this.isProcessing=!1,this.reportModalShown=!1},setOriginal(n){this.originalPic=n},setCurrentImage(n){this.currentPic=n,this.reportModalShown=!1},setProcessing(n){this.isProcessing=n},setDemoPic(n){this.demoPicId=n,this.bannerModalShown=!1},setIsHighLoad(n){this.isHighLoad=n},setPpId(n){this.ppId=n},incrementDownloadCount(){this.resultDownloadCount++},setReportModalShown(n){this.reportModalShown=n},setBannerModalShown(n){this.bannerModalShown=n},setCategory(n){this.category=n}}}),hD={class:"app-navigation"},dD={class:"app-navigation__list"},fD={class:"app-navigation__item"},pD={key:0,class:"app-navigation__item"},gD=["href"],mD=Jt({__name:"AppNavigation",setup(n){const e=Ll(),t=Yy(),r=Ky(),s=De(()=>t.json?"/editor/":r.currentPic?"/results/":"/");return(i,o)=>{const a=El("RouterLink");return ye(),Ue("nav",hD,[pe("ul",dD,[pe("li",fD,[Oe(a,{to:s.value,class:"app-navigation__link","exact-active-class":"app-navigation__link--active"},{default:Wt(()=>o[0]||(o[0]=[Qn(" Free Profile Pictures ")])),_:1},8,["to"])]),ve(e).hideAIBanners?nn("",!0):(ye(),Ue("li",pD,[pe("a",{href:`${ve(It).premiumAppUrl}/dashboard/create-package`,class:"app-navigation__link"}," AI Profile Pictures ",8,gD)]))])])}}}),qy=Rr(mD,[["__scopeId","data-v-9918f4f9"]]),vD={class:"mobile-menu__content"},yD=Jt({__name:"MobileMenu",setup(n){const e=_e(!1),t=()=>{e.value=!0},r=()=>{e.value=!1};return(s,i)=>(ye(),Ue(Qe,null,[pe("button",{"aria-label":"Open navigation",class:"mobile-menu__toggle",title:"Open navigation",type:"button",onClick:t},i[0]||(i[0]=[pe("span",null,null,-1),pe("span",null,null,-1)])),pe("nav",{class:lt(["mobile-menu__panel",{"mobile-menu__panel--active":e.value}])},[pe("button",{"aria-label":"Close navigation",class:"mobile-menu__close",title:"Close navigation",type:"button",onClick:r},i[1]||(i[1]=[pe("span",null,null,-1),pe("span",null,null,-1)])),pe("div",vD,[Oe(qy)])],2)],64))}}),bD=Rr(yD,[["__scopeId","data-v-93b50282"]]),_D={class:"app-header"},wD={class:"app-header__content"},SD={class:"app-header__nav"},xD=Jt({__name:"AppHeader",setup(n){const{width:e}=lT(),t=De(()=>e.value<=767);return(r,s)=>{const i=El("RouterLink");return ye(),Ue("header",_D,[pe("div",wD,[Oe(i,{"aria-label":"Return to homepage",class:"app-header__link",to:"/"},{default:Wt(()=>[Oe(mT)]),_:1}),pe("div",SD,[Oe(qy)]),t.value?(ye(),wt(bD,{key:0})):nn("",!0)])])}}}),CD=Rr(xD,[["__scopeId","data-v-ab6b5cf4"]]),TD={};function OD(n,e){return ye(),Ue("div",null,e[0]||(e[0]=[pe("div",{class:"promo-bar"},[pe("span",null,[pe("b",null,"SAVE 30%"),Qn(" ON PROFESSIONAL AI HEADSHOTS ")]),pe("a",{class:"promo-bar__btn",href:"https://snapheadshots.com/?utm_source=top_app&utm_medium=display",target:"_blank"},[pe("span",null,"Try SnapHeadshots.com")])],-1)]))}const ED=Rr(TD,[["render",OD],["__scopeId","data-v-8172d6ca"]]),kD=Jt({__name:"AppLayout",props:{footerHidden:{type:Boolean}},setup(n){const e=n,t=Ll(),r=hC();return(s,i)=>{var o;return ye(),Ue(Qe,null,[Oe(qm,{"smooth-height":""},{default:Wt(()=>[ve(t).hideAIBanners?nn("",!0):(ye(),wt(ED,{key:0}))]),_:1}),Oe(DC),Oe(CD),gt(s.$slots,"default"),!e.footerHidden&&!((o=ve(r))!=null&&o.meta.footerHidden)?(ye(),wt(HC,{key:0})):nn("",!0)],64)}}}),AD=Jt({__name:"App",setup(n){return(e,t)=>{const r=El("RouterView");return ye(),wt(kD,null,{default:Wt(()=>[Oe(r,null,{default:Wt(({Component:s})=>[Oe(qm,null,{default:Wt(()=>[(ye(),wt(Gi(s)))]),_:2},1024)]),_:1})]),_:1})}}}),DD="modulepreload",PD=function(n){return"/"+n},_p={},ga=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.all(t.map(a=>{if(a=PD(a),a in _p)return;_p[a]=!0;const l=a.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${u}`))return;const c=document.createElement("link");if(c.rel=l?"stylesheet":DD,l||(c.as="script",c.crossOrigin=""),c.href=a,o&&c.setAttribute("nonce",o),document.head.appendChild(c),l)return new Promise((h,d)=>{c.addEventListener("load",h),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${a}`)))})}))}return s.then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};async function MD(){try{return(await Ze.create({baseURL:It.assetsUrl}).request({method:"get",url:"/decals.json"})).data}catch{return[]}}const RD=[{category:"creative",gridId:"Circle1"},{category:"professional",gridId:"Circle2"},{category:"professional",gridId:"Circle3"},{category:"creative",gridId:"line_decals-1"},{category:"creative",gridId:"line_decals-2"},{category:"creative",gridId:"Decal10"},{category:"creative",gridId:"Decal2"},{category:"creative",gridId:"Decal3"},{category:"creative",gridId:"Decal4"},{category:"creative",gridId:"Decal5"},{category:"creative",gridId:"Decal7"},{category:"creative",gridId:"Decal8"},{category:"creative",gridId:"Decal9"},{category:"creative",gridId:"Decal1"},{category:"creative",gridId:"Decal12"},{category:"creative",gridId:"Decal13"},{category:"creative",gridId:"Decal14"},{category:"creative",gridId:"Decal15"},{category:"creative",gridId:"Decal16"},{category:"creative",gridId:"Decal17"},{category:"creative",gridId:"Decal18"},{category:"creative",gridId:"Decal19"},{category:"creative",gridId:"Decal21"},{category:"creative",gridId:"Decal22"},{category:"creative",gridId:"Decal23"},{category:"creative",gridId:"Decal24"},{category:"creative",gridId:"Decal25"},{category:"creative",gridId:"Decal26"},{category:"creative",gridId:"Decal27"},{category:"creative",gridId:"Decal28"},{category:"creative",gridId:"Decal29"},{category:"new",gridId:"New1"},{category:"new",gridId:"New2"},{category:"new",gridId:"New3"},{category:"new",gridId:"New4"},{category:"new",gridId:"New5"},{category:"new",gridId:"New6"},{category:"new",gridId:"New7"},{category:"new",gridId:"New8"},{category:"new",gridId:"New9"}],FD=Ml("assets",{state:()=>({decals:[],templates:[],initialized:!1,loading:!1}),getters:{mappedDecals(n){const e=n.decals.reduce((t,r)=>r.items.reduce((s,i)=>({...s,[i.grid_id]:i.url}),t),{});return RD.map(t=>({...t,url:e[t.gridId]}))}},actions:{async loadDecals(){this.decals=await MD()},async loadTemplates(){Ll().isAdmin?this.templates=await uD():this.templates=await lD()},async loadAssets(){this.loading=!0,await Promise.all([this.loadDecals(),this.loadTemplates()]),this.loading=!1},async initialize(){this.initialized||(this.initialized=!0,await this.loadAssets())}}}),LD=n=>{It.premiumAppUrl&&(window.location.href=`${It.premiumAppUrl}${n.fullPath}`)},jD=()=>{if(!Ky().currentPic)return"/"},ID=()=>{if(!Yy().json)return"/"},Jy=cC({history:N1(It.appUrl),routes:[{path:"/",name:"Free Upload",component:()=>ga(()=>import("./UploadPhoto-ClIgPgOs.js"),__vite__mapDeps([0,1,2,3,4]))},{path:"/results/",name:"Free Results",component:()=>ga(()=>import("./ResultsGrid-ziBS2xm0.js"),__vite__mapDeps([5,1,2,6,7,8])),beforeEnter:jD},{path:"/editor/",name:"Editor",meta:{footerHidden:!0},component:()=>ga(()=>import("./PhotoEditor-DPCM0mqR.js"),__vite__mapDeps([9,2,6,7,3,10])),beforeEnter:ID},{path:"/dashboard/",name:"Dashboard",beforeEnter:LD,component:()=>{}},{path:"/:pathMatch(.*)*",name:"Not Found",component:()=>ga(()=>import("./NotFound-aLP_47Iw.js"),__vite__mapDeps([11,12]))}],scrollBehavior(){return{top:0}}});Jy.beforeEach(async(n,e,t)=>n.hash==="#_=_"?t(n.fullPath.split("#")[0]):(FD().initialize(),t()));const BD={install(n,e){if(e.adSenseId&&e.enabled){const t=document.createElement("script");t.src=`https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=${e.adSenseId}`,t.async=!0,t.crossOrigin="anonymous",document.head.appendChild(t)}}},Ir=Xa(AD);px(Ir);e1(Ir);a1(Ir);Ir.use(Pw());Ir.use(Jy);Ir.use(rS,{config:{id:It.gtagId}});const ND=Ll();Ir.use(BD,{adSenseId:It.adSenseId,enabled:ND.showAdWords});Ir.mount("#app");export{$D as $,bo as A,Vc as B,It as C,qD as D,lT as E,Qe as F,Ze as G,Ol as H,Jf as I,Pn as J,ss as K,Zs as L,co as M,Fb as N,HD as O,Ye as P,tn as Q,UD as R,gt as S,zs as T,KD as U,wr as V,Ln as W,El as X,an as Y,Xr as Z,Rr as _,Ky as a,gs as a0,Gi as a1,zb as a2,c_ as a3,sh as a4,qm as a5,Ki as a6,G0 as a7,bl as a8,Ig as a9,$0 as aA,Wb as aB,s1 as aC,Hh as aD,ga as aE,Uu as aa,n1 as ab,QD as ac,ZD as ad,Se as ae,C_ as af,XD as ag,za as ah,GD as ai,t1 as aj,Be as ak,JD as al,oe as am,wy as an,vk as ao,fk as ap,yy as aq,aa as ar,Jn as as,Wr as at,by as au,Pt as av,St as aw,YD as ax,Qs as ay,Po as az,ni as b,ye as c,Jt as d,Ue as e,pe as f,ve as g,Qn as h,nn as i,hC as j,WD as k,FD as l,Yy as m,lt as n,Ku as o,De as p,rr as q,_e as r,zD as s,wt as t,Ll as u,Oe as v,$e as w,Wt as x,es as y,rs as z};
